!function(){function I(a){return a&&(a.ownerDocument&&a.ownerDocument.defaultView||a.document&&a||a.defaultView)}function U(a,b){return b>a?-1:a>b?1:a>=b?0:NaN}function G(a){return null===a?NaN:+a}function S(a){return!isNaN(a)}function la(a){return{left:function(b,c,e,f){3>arguments.length&&(e=0);for(4>arguments.length&&(f=b.length);f>e;){var g=e+f>>>1;0>a(b[g],c)?e=g+1:f=g}return e},right:function(b,c,e,f){3>arguments.length&&(e=0);for(4>arguments.length&&(f=b.length);f>e;){var g=e+f>>>1;0<a(b[g],
c)?f=g:e=g+1}return e}}}function oa(a){return a.length}function ta(a,b){for(var c in b)Object.defineProperty(a.prototype,c,{value:b[c],enumerable:!1})}function ua(){this._=Object.create(null)}function La(a){return(a+="")===Cg||a[0]===pd?pd+a:a}function va(a){return(a+="")[0]===pd?a.slice(1):a}function Ca(a){return La(a)in this._}function ia(a){return(a=La(a))in this._&&delete this._[a]}function A(){var a=[],b;for(b in this._)a.push(va(b));return a}function lc(){var a=0,b;for(b in this._)++a;return a}
function mc(){for(var a in this._)return!1;return!0}function R(){this._=Object.create(null)}function aa(a){return a}function s(a,b,c){return function(){var e=c.apply(b,arguments);return e===b?a:e}}function Gb(a,b){if(b in a)return b;b=b.charAt(0).toUpperCase()+b.slice(1);for(var c=0,e=re.length;e>c;++c){var f=re[c]+b;if(f in a)return f}}function ea(){}function Hb(){}function nc(a){function b(){for(var b,e=c,k=-1,n=e.length;++k<n;)(b=e[k].on)&&b.apply(this,arguments);return a}var c=[],e=new ua;return b.on=
function(b,g){var k,n=e.get(b);return 2>arguments.length?n&&n.on:(n&&(n.on=null,c=c.slice(0,k=c.indexOf(n)).concat(c.slice(k+1)),e.remove(b)),g&&c.push(e.set(b,{on:g})),a)},b}function Ma(){l.event.preventDefault()}function Ib(){for(var a,b=l.event;a=b.sourceEvent;)b=a;return b}function Jb(a){for(var b=new Hb,c=0,e=arguments.length;++c<e;)b[arguments[c]]=nc(b);return b.of=function(c,e){return function(k){try{var n=k.sourceEvent=l.event;k.target=a;l.event=k;b[k.type].apply(c,e)}finally{l.event=n}}},
b}function Na(a){return oc(a,ba),a}function Kb(a){return"function"==typeof a?a:function(){return qd(a,this)}}function qb(a){return"function"==typeof a?a:function(){return rd(a,this)}}function Lb(a,b){function c(){this.removeAttribute(a)}function e(){this.removeAttributeNS(a.space,a.local)}function f(){this.setAttribute(a,b)}function g(){this.setAttributeNS(a.space,a.local,b)}function k(){var c=b.apply(this,arguments);null==c?this.removeAttribute(a):this.setAttribute(a,c)}function n(){var c=b.apply(this,
arguments);null==c?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,c)}return a=l.ns.qualify(a),null==b?a.local?e:c:"function"==typeof b?a.local?n:k:a.local?g:f}function Mb(a){return a.trim().replace(/\s+/g," ")}function pc(a){return RegExp("(?:^|\\s+)"+l.requote(a)+"(?:\\s+|$)","g")}function qc(a,b){function c(){for(var c=-1;++c<f;)a[c](this,b)}function e(){for(var c=-1,e=b.apply(this,arguments);++c<f;)a[c](this,e)}a=(a+"").trim().split(/^|\s+/).map(sd);var f=a.length;
return"function"==typeof b?e:c}function sd(a){var b=pc(a);return function(c,e){if(f=c.classList)return e?f.add(a):f.remove(a);var f=c.getAttribute("class")||"";e?(b.lastIndex=0,b.test(f)||c.setAttribute("class",Mb(f+" "+a))):c.setAttribute("class",Mb(f.replace(b," ")))}}function Nb(a,b,c){function e(){this.style.removeProperty(a)}function f(){this.style.setProperty(a,b,c)}function g(){var e=b.apply(this,arguments);null==e?this.style.removeProperty(a):this.style.setProperty(a,e,c)}return null==b?e:
"function"==typeof b?g:f}function Ob(a,b){function c(){delete this[a]}function e(){this[a]=b}function f(){var c=b.apply(this,arguments);null==c?delete this[a]:this[a]=c}return null==b?c:"function"==typeof b?f:e}function Pb(a){function b(){var b=this.ownerDocument,c=this.namespaceURI;return c?b.createElementNS(c,a):b.createElement(a)}function c(){return this.ownerDocument.createElementNS(a.space,a.local)}return"function"==typeof a?a:(a=l.ns.qualify(a)).local?c:b}function td(){var a=this.parentNode;
a&&a.removeChild(this)}function rc(a){return function(){return ud(this,a)}}function sc(a){return arguments.length||(a=U),function(b,c){return b&&c?a(b.__data__,c.__data__):!b-!c}}function Da(a,b){for(var c=0,e=a.length;e>c;c++)for(var f,g=a[c],k=0,n=g.length;n>k;k++)(f=g[k])&&b(f,k,c);return a}function Qb(a){return oc(a,Ta),a}function Rb(a){var b,c;return function(e,f,g){e=a[g].update;var k=e.length;g!=c&&(c=g,b=0);for(f>=b&&(b=f+1);!(f=e[b])&&++b<k;);return f}}function rb(a,b,c){function e(){var b=
this[k];b&&(this.removeEventListener(a,b,b.$),delete this[k])}function f(){var f=t(b,Oa(arguments));e.call(this);this.addEventListener(a,this[k]=f,f.$=c);f._=b}function g(){var b,c=RegExp("^__on([^.]+)"+l.requote(a)+"$"),e;for(e in this)if(b=e.match(c)){var f=this[e];this.removeEventListener(b[1],f,f.$);delete this[e]}}var k="__on"+a,n=a.indexOf("."),t=sb;0<n&&(a=a.slice(0,n));var r=vd.get(a);return r&&(a=r,t=Tb),n?b?f:e:b?ea:g}function sb(a,b){return function(c){var e=l.event;l.event=c;b[0]=this.__data__;
try{a.apply(this,b)}finally{l.event=e}}}function Tb(a,b){var c=sb(a,b);return function(a){var b=a.relatedTarget;b&&(b===this||8&b.compareDocumentPosition(this))||c.call(this,a)}}function Ua(a){var b=".dragsuppress-"+ ++Dg,c="click"+b,e=l.select(I(a)).on("touchmove"+b,Ma).on("dragstart"+b,Ma).on("selectstart"+b,Ma);if(null==gb&&(gb="onselectstart"in a?!1:Gb(a.style,"userSelect")),gb){var f=(a&&(a.ownerDocument||a.document||a).documentElement).style,g=f[gb];f[gb]="none"}return function(a){if(e.on(b,
null),gb&&(f[gb]=g),a){var n=function(){e.on(c,null)};e.on(c,function(){Ma();n()},!0);setTimeout(n,0)}}}function Za(a,b){b.changedTouches&&(b=b.changedTouches[0]);var c=a.ownerSVGElement||a;if(c.createSVGPoint){var e=c.createSVGPoint();if(0>wd&&(c=I(a),c.scrollX||c.scrollY)){var c=l.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"),f=c[0][0].getScreenCTM();wd=!(f.f||f.e);c.remove()}return wd?(e.x=b.pageX,e.y=b.pageY):(e.x=b.clientX,
e.y=b.clientY),e=e.matrixTransform(a.getScreenCTM().inverse()),[e.x,e.y]}e=a.getBoundingClientRect();return[b.clientX-e.left-a.clientLeft,b.clientY-e.top-a.clientTop]}function tc(){return l.event.changedTouches[0].identifier}function tb(a,b,c){return(b[0]-a[0])*(c[1]-a[1])-(b[1]-a[1])*(c[0]-a[0])}function Ha(a){return 1<a?ja:-1>a?-ja:Math.asin(a)}function Ub(a){return((a=Math.exp(a))+1/a)/2}function hb(a){return(a=Math.sin(a/2))*a}function Pa(){}function wa(a,b,c){return this instanceof wa?(this.h=
+a,this.s=+b,void(this.l=+c)):2>arguments.length?a instanceof wa?new wa(a.h,a.s,a.l):w(""+a,y,wa):new wa(a,b,c)}function ub(a,b,c){function e(a){return 360<a?a-=360:0>a&&(a+=360),60>a?f+(g-f)*a/60:180>a?g:240>a?f+(g-f)*(240-a)/60:f}var f,g;return a=isNaN(a)?0:0>(a%=360)?a+360:a,b=isNaN(b)?0:0>b?0:1<b?1:b,c=0>c?0:1<c?1:c,g=0.5>=c?c*(1+b):c+b-c*b,f=2*c-g,new p(Math.round(255*e(a+120)),Math.round(255*e(a)),Math.round(255*e(a-120)))}function ra(a,b,c){return this instanceof ra?(this.h=+a,this.c=+b,void(this.l=
+c)):2>arguments.length?a instanceof ra?new ra(a.h,a.c,a.l):a instanceof xa?$a(a.l,a.a,a.b):$a((a=D((a=l.rgb(a)).r,a.g,a.b)).l,a.a,a.b):new ra(a,b,c)}function za(a,b,c){return isNaN(a)&&(a=0),isNaN(b)&&(b=0),new xa(c,Math.cos(a*=X)*b,Math.sin(a)*b)}function xa(a,b,c){return this instanceof xa?(this.l=+a,this.a=+b,void(this.b=+c)):2>arguments.length?a instanceof xa?new xa(a.l,a.a,a.b):a instanceof ra?za(a.h,a.c,a.l):D((a=p(a)).r,a.g,a.b):new xa(a,b,c)}function Vb(a,b,c){a=(a+16)/116;b=a+b/500;c=a-
c/200;return b=h(b)*se,a=h(a)*te,c=h(c)*ue,new p(q(3.2404542*b-1.5371385*a-0.4985314*c),q(-0.969266*b+1.8760108*a+0.041556*c),q(0.0556434*b-0.2040259*a+1.0572252*c))}function $a(a,b,c){return 0<a?new ra(Math.atan2(c,b)*ha,Math.sqrt(b*b+c*c),a):new ra(NaN,NaN,a)}function h(a){return 0.206893034<a?a*a*a:(a-4/29)/7.787037}function m(a){return 0.008856<a?Math.pow(a,1/3):7.787037*a+4/29}function q(a){return Math.round(255*(0.00304>=a?12.92*a:1.055*Math.pow(a,1/2.4)-0.055))}function p(a,b,c){return this instanceof
p?(this.r=~~a,this.g=~~b,void(this.b=~~c)):2>arguments.length?a instanceof p?new p(a.r,a.g,a.b):w(""+a,p,ub):new p(a,b,c)}function H(a){return new p(a>>16,a>>8&255,255&a)+""}function u(a){return 16>a?"0"+Math.max(0,a).toString(16):Math.min(255,a).toString(16)}function w(a,b,c){var e,f,g,k=0,n=0,t=0;if(e=/([a-z]+)\((.*)\)/.exec(a=a.toLowerCase()))switch(f=e[2].split(","),e[1]){case "hsl":return c(parseFloat(f[0]),parseFloat(f[1])/100,parseFloat(f[2])/100);case "rgb":return b(W(f[0]),W(f[1]),W(f[2]))}return(g=
uc.get(a))?b(g.r,g.g,g.b):(null==a||"#"!==a.charAt(0)||isNaN(g=parseInt(a.slice(1),16))||(4===a.length?(k=(3840&g)>>4,k|=k>>4,n=240&g,n|=n>>4,t=15&g,t|=t<<4):7===a.length&&(k=(16711680&g)>>16,n=(65280&g)>>8,t=255&g)),b(k,n,t))}function y(a,b,c){var e,f,g=Math.min(a/=255,b/=255,c/=255),k=Math.max(a,b,c),n=k-g,t=(k+g)/2;return n?(f=0.5>t?n/(k+g):n/(2-k-g),e=a==k?(b-c)/n+(c>b?6:0):b==k?(c-a)/n+2:(a-b)/n+4,e*=60):(e=NaN,f=0<t&&1>t?0:e),new wa(e,f,t)}function D(a,b,c){a=F(a);b=F(b);c=F(c);var e=m((0.4124564*
a+0.3575761*b+0.1804375*c)/se),f=m((0.2126729*a+0.7151522*b+0.072175*c)/te);a=m((0.0193339*a+0.119192*b+0.9503041*c)/ue);return xa(116*f-16,500*(e-f),200*(f-a))}function F(a){return 0.04045>=(a/=255)?a/12.92:Math.pow((a+0.055)/1.055,2.4)}function W(a){var b=parseFloat(a);return"%"===a.charAt(a.length-1)?Math.round(2.55*b):b}function x(a){return"function"==typeof a?a:function(){return a}}function na(a){return function(b,c,e){return 2===arguments.length&&"function"==typeof c&&(e=c,c=null),J(b,c,a,e)}}
function J(a,b,c,e){function f(){var a,b=t.status,e;if(e=!b)e=(e=t.responseType)&&"text"!==e?t.response:t.responseText;if(e||200<=b&&300>b||304===b){try{a=c.call(g,t)}catch(f){return void k.error.call(g,f)}k.load.call(g,a)}else k.error.call(g,t)}var g={},k=l.dispatch("beforesend","progress","load","error"),n={},t=new XMLHttpRequest,r=null;return!this.XDomainRequest||"withCredentials"in t||!/^(http(s)?:)?\/\//.test(a)||(t=new XDomainRequest),"onload"in t?t.onload=t.onerror=f:t.onreadystatechange=function(){3<
t.readyState&&f()},t.onprogress=function(a){var b=l.event;l.event=a;try{k.progress.call(g,t)}finally{l.event=b}},g.header=function(a,b){return a=(a+"").toLowerCase(),2>arguments.length?n[a]:(null==b?delete n[a]:n[a]=b+"",g)},g.mimeType=function(a){return arguments.length?(b=null==a?null:a+"",g):b},g.responseType=function(a){return arguments.length?(r=a,g):r},g.response=function(a){return c=a,g},["get","post"].forEach(function(a){g[a]=function(){return g.send.apply(g,[a].concat(Oa(arguments)))}}),
g.send=function(c,e,f){if(2===arguments.length&&"function"==typeof e&&(f=e,e=null),t.open(c,a,!0),null==b||"accept"in n||(n.accept=b+",*/*"),t.setRequestHeader)for(var l in n)t.setRequestHeader(l,n[l]);return null!=b&&t.overrideMimeType&&t.overrideMimeType(b),null!=r&&(t.responseType=r),null!=f&&g.on("error",f).on("load",function(a){f(null,a)}),k.beforesend.call(g,t),t.send(null==e?null:e),g},g.abort=function(){return t.abort(),g},l.rebind(g,k,"on"),null==e?g:g.get(T(e))}function T(a){return 1===
a.length?function(b,c){a(null==b?c:null)}:a}function O(a,b,c){var e=arguments.length;2>e&&(b=0);3>e&&(c=Date.now());e={c:a,t:c+b,n:null};return vc?vc.n=e:wc=e,vc=e,xc||(yc=clearTimeout(yc),xc=1,ve(xd)),e}function xd(){var a=we(),a=$()-a;24<a?(isFinite(a)&&(clearTimeout(yc),yc=setTimeout(xd,a)),xc=0):(xc=1,ve(xd))}function we(){for(var a=Date.now(),b=wc;b;)a>=b.t&&b.c(a-b.t)&&(b.c=null),b=b.n;return a}function $(){for(var a,b=wc,c=1/0;b;)b.c?(b.t<c&&(c=b.t),b=(a=b).n):b=a?a.n=b.n:wc=b.n;return vc=
a,c}function Z(a,b){return b-(a?Math.ceil(Math.log(a)/Math.LN10):1)}function ga(a){var b=a.decimal,c=a.thousands,e=a.grouping,f=a.currency,g=e&&c?function(a,b){for(var f=a.length,g=[],v=0,L=e[0],z=0;0<f&&0<L&&(z+L+1>b&&(L=Math.max(1,b-z)),g.push(a.substring(f-=L,f+L)),!((z+=L+1)>b));)L=e[v=(v+1)%e.length];return g.reverse().join(c)}:aa;return function(a){a=xe.exec(a);var c=a[1]||" ",e=a[2]||">",r=a[3]||"-",v=a[4]||"",L=a[5],z=+a[6],Sb=a[7],h=a[8],B=a[9],M=1,E="",C="",da=!1,K=!0;switch(h&&(h=+h.substring(1)),
(L||"0"===c&&"="===e)&&(L=c="0",e="="),B){case "n":Sb=!0;B="g";break;case "%":M=100;C="%";B="f";break;case "p":M=100;C="%";B="r";break;case "b":case "o":case "x":case "X":"#"===v&&(E="0"+B.toLowerCase());case "c":K=!1;case "d":da=!0;h=0;break;case "s":M=-1,B="r"}"$"===v&&(E=f[0],C=f[1]);"r"!=B||h||(B="g");null!=h&&("g"==B?h=Math.max(1,Math.min(21,h)):("e"==B||"f"==B)&&(h=Math.max(0,Math.min(20,h))));var B=Eg.get(B)||Wb,m=L&&Sb;return function(a){var f=C;if(da&&a%1)return"";var k=0>a||0===a&&0>1/a?
(a=-a,"-"):"-"===r?"":r;0>M?(f=l.formatPrefix(a,h),a=f.scale(a),f=f.symbol+C):a*=M;a=B(a,h);var v,p,q=a.lastIndexOf(".");0>q?(q=K?a.lastIndexOf("e"):-1,0>q?(v=a,p=""):(v=a.substring(0,q),p=a.substring(q))):(v=a.substring(0,q),p=b+a.substring(q+1));!L&&Sb&&(v=g(v,1/0));var q=E.length+v.length+p.length+(m?0:k.length),u=z>q?Array(q=z-q+1).join(c):"";return m&&(v=g(u+v,u.length?z-p.length:1/0)),k+=E,a=v+p,("<"===e?k+a+u:">"===e?u+k+a:"^"===e?u.substring(0,q>>=1)+k+a+u.substring(q):k+(m?a:u+a))+f}}}function Wb(a){return a+
""}function fa(){this._=new Date(1<arguments.length?Date.UTC.apply(this,arguments):arguments[0])}function ib(a,b,c){function e(b){var c=a(b),e=g(c,1);return e-b>b-c?c:e}function f(c){return b(c=a(new pa(c-1)),1),c}function g(a,c){return b(a=new pa(+a),c),a}function k(a,e,g){a=f(a);var n=[];if(1<g)for(;e>a;)c(a)%g||n.push(new Date(+a)),b(a,1);else for(;e>a;)n.push(new Date(+a)),b(a,1);return n}a.floor=a;a.round=e;a.ceil=f;a.offset=g;a.range=k;var n=a.utc=zc(a);return n.floor=n,n.round=zc(e),n.ceil=
zc(f),n.offset=zc(g),n.range=function(a,b,c){try{pa=fa;var e=new fa;return e._=a,k(e,b,c)}finally{pa=Date}},a}function zc(a){return function(b,c){try{pa=fa;var e=new fa;return e._=b,a(e,c)._}finally{pa=Date}}}function Fg(a){function b(a){function b(c){for(var f,g,n,t=[],k=-1,r=0;++k<e;)37===a.charCodeAt(k)&&(t.push(a.slice(r,k)),null!=(g=ye[f=a.charAt(++k)])&&(f=a.charAt(++k)),(n=K[f])&&(f=n(c,null==g?"e"===f?" ":"0":g)),t.push(f),r=k+1);return t.push(a.slice(r,k)),t.join("")}var e=a.length;return b.parse=
function(b){var e={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(c(e,a,b,0)!=b.length)return null;"p"in e&&(e.H=e.H%12+12*e.p);b=null!=e.Z&&pa!==fa;var f=new (b?fa:pa);return"j"in e?f.setFullYear(e.y,0,e.j):"W"in e||"U"in e?("w"in e||(e.w="W"in e?1:0),f.setFullYear(e.y,0,1),f.setFullYear(e.y,0,"W"in e?(e.w+6)%7+7*e.W-(f.getDay()+5)%7:e.w+7*e.U-(f.getDay()+6)%7)):f.setFullYear(e.y,e.m,e.d),f.setHours(e.H+(e.Z/100|0),e.M+e.Z%100,e.S,e.L),b?f._:f},b.toString=function(){return a},b}function c(a,b,c,e){for(var f,
g,n,k=0,t=b.length,r=c.length;t>k;){if(e>=r)return-1;if(f=b.charCodeAt(k++),37===f){if(n=b.charAt(k++),g=m[n in ye?b.charAt(k++):n],!g||0>(e=g(a,c,e)))return-1}else if(f!=c.charCodeAt(e++))return-1}return e}var e=a.dateTime,f=a.date,g=a.time,k=a.periods,n=a.days,t=a.shortDays,r=a.months,v=a.shortMonths;b.utc=function(a){function c(a){try{pa=fa;var b=new pa;return b._=a,e(b)}finally{pa=Date}}var e=b(a);return c.parse=function(a){try{pa=fa;var b=e.parse(a);return b&&b._}finally{pa=Date}},c.toString=
e.toString,c};b.multi=b.utc.multi=Gg;var L=l.map(),z=Ac(n),Sb=Bc(n),h=Ac(t),B=Bc(t),M=Ac(r),E=Bc(r),C=Ac(v),da=Bc(v);k.forEach(function(a,b){L.set(a.toLowerCase(),b)});var K={a:function(a){return t[a.getDay()]},A:function(a){return n[a.getDay()]},b:function(a){return v[a.getMonth()]},B:function(a){return r[a.getMonth()]},c:b(e),d:function(a,b){return sa(a.getDate(),b,2)},e:function(a,b){return sa(a.getDate(),b,2)},H:function(a,b){return sa(a.getHours(),b,2)},I:function(a,b){return sa(a.getHours()%
12||12,b,2)},j:function(a,b){return sa(1+P.dayOfYear(a),b,3)},L:function(a,b){return sa(a.getMilliseconds(),b,3)},m:function(a,b){return sa(a.getMonth()+1,b,2)},M:function(a,b){return sa(a.getMinutes(),b,2)},p:function(a){return k[+(12<=a.getHours())]},S:function(a,b){return sa(a.getSeconds(),b,2)},U:function(a,b){return sa(P.sundayOfYear(a),b,2)},w:function(a){return a.getDay()},W:function(a,b){return sa(P.mondayOfYear(a),b,2)},x:b(f),X:b(g),y:function(a,b){return sa(a.getFullYear()%100,b,2)},Y:function(a,
b){return sa(a.getFullYear()%1E4,b,4)},Z:Hg,"%":function(){return"%"}},m={a:function(a,b,c){h.lastIndex=0;return(b=h.exec(b.slice(c)))?(a.w=B.get(b[0].toLowerCase()),c+b[0].length):-1},A:function(a,b,c){z.lastIndex=0;return(b=z.exec(b.slice(c)))?(a.w=Sb.get(b[0].toLowerCase()),c+b[0].length):-1},b:function(a,b,c){C.lastIndex=0;return(b=C.exec(b.slice(c)))?(a.m=da.get(b[0].toLowerCase()),c+b[0].length):-1},B:function(a,b,c){M.lastIndex=0;return(b=M.exec(b.slice(c)))?(a.m=E.get(b[0].toLowerCase()),
c+b[0].length):-1},c:function(a,b,e){return c(a,K.c.toString(),b,e)},d:ze,e:ze,H:Ae,I:Ae,j:Ig,L:Jg,m:Kg,M:Lg,p:function(a,b,c){b=L.get(b.slice(c,c+=2).toLowerCase());return null==b?-1:(a.p=b,c)},S:Mg,U:Ng,w:Og,W:Pg,x:function(a,b,e){return c(a,K.x.toString(),b,e)},X:function(a,b,e){return c(a,K.X.toString(),b,e)},y:Qg,Y:Rg,Z:Sg,"%":Tg};return b}function sa(a,b,c){var e=0>a?"-":"";a=(e?-a:a)+"";var f=a.length;return e+(c>f?Array(c-f+1).join(b)+a:a)}function Ac(a){return RegExp("^(?:"+a.map(l.requote).join("|")+
")","i")}function Bc(a){for(var b=new ua,c=-1,e=a.length;++c<e;)b.set(a[c].toLowerCase(),c);return b}function Og(a,b,c){ka.lastIndex=0;return(b=ka.exec(b.slice(c,c+1)))?(a.w=+b[0],c+b[0].length):-1}function Ng(a,b,c){ka.lastIndex=0;return(b=ka.exec(b.slice(c)))?(a.U=+b[0],c+b[0].length):-1}function Pg(a,b,c){ka.lastIndex=0;return(b=ka.exec(b.slice(c)))?(a.W=+b[0],c+b[0].length):-1}function Rg(a,b,c){ka.lastIndex=0;return(b=ka.exec(b.slice(c,c+4)))?(a.y=+b[0],c+b[0].length):-1}function Qg(a,b,c){ka.lastIndex=
0;return(b=ka.exec(b.slice(c,c+2)))?(a.y=+b[0]+(68<+b[0]?1900:2E3),c+b[0].length):-1}function Sg(a,b,c){return/^[+-]\d{4}$/.test(b=b.slice(c,c+5))?(a.Z=-b,c+5):-1}function Kg(a,b,c){ka.lastIndex=0;return(b=ka.exec(b.slice(c,c+2)))?(a.m=b[0]-1,c+b[0].length):-1}function ze(a,b,c){ka.lastIndex=0;return(b=ka.exec(b.slice(c,c+2)))?(a.d=+b[0],c+b[0].length):-1}function Ig(a,b,c){ka.lastIndex=0;return(b=ka.exec(b.slice(c,c+3)))?(a.j=+b[0],c+b[0].length):-1}function Ae(a,b,c){ka.lastIndex=0;return(b=ka.exec(b.slice(c,
c+2)))?(a.H=+b[0],c+b[0].length):-1}function Lg(a,b,c){ka.lastIndex=0;return(b=ka.exec(b.slice(c,c+2)))?(a.M=+b[0],c+b[0].length):-1}function Mg(a,b,c){ka.lastIndex=0;return(b=ka.exec(b.slice(c,c+2)))?(a.S=+b[0],c+b[0].length):-1}function Jg(a,b,c){ka.lastIndex=0;return(b=ka.exec(b.slice(c,c+3)))?(a.L=+b[0],c+b[0].length):-1}function Hg(a){var b=a.getTimezoneOffset();a=0<b?"-":"+";var c=Y(b)/60|0,b=Y(b)%60;return a+sa(c,"0",2)+sa(b,"0",2)}function Tg(a,b,c){Be.lastIndex=0;return(a=Be.exec(b.slice(c,
c+1)))?c+a[0].length:-1}function Gg(a){for(var b=a.length,c=-1;++c<b;)a[c][0]=this(a[c][0]);return function(b){for(var c=0,g=a[c];!g[1](b);)g=a[++c];return g[0](b)}}function yd(){}function Ce(a,b,c){var e=c.s=a+b,f=e-a;c.t=a-(e-f)+(b-f)}function Cc(a,b){a&&De.hasOwnProperty(a.type)&&De[a.type](a,b)}function zd(a,b,c){var e=-1,f=a.length-c;for(b.lineStart();++e<f;)c=a[e],b.point(c[0],c[1],c[2]);b.lineEnd()}function Ee(a,b){var c=-1,e=a.length;for(b.polygonStart();++c<e;)zd(a[c],b,1);b.polygonEnd()}
function Ug(){function a(a,b){a*=X;b=b*X/2+V/4;var c=a-e,r=0<=c?1:-1,v=r*c,c=Math.cos(b),L=Math.sin(b),z=g*L,l=f*c+z*Math.cos(v),r=z*r*Math.sin(v);jb.add(Math.atan2(r,l));e=a;f=c;g=L}var b,c,e,f,g;Aa.point=function(k,n){Aa.point=a;e=(b=k)*X;f=Math.cos(n=(c=n)*X/2+V/4);g=Math.sin(n)};Aa.lineEnd=function(){a(b,c)}}function kb(a){var b=a[0];a=a[1];var c=Math.cos(a);return[c*Math.cos(b),c*Math.sin(b),Math.sin(a)]}function Dc(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function vb(a,b){return[a[1]*b[2]-
a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}function Ad(a,b){a[0]+=b[0];a[1]+=b[1];a[2]+=b[2]}function Ec(a,b){return[a[0]*b,a[1]*b,a[2]*b]}function Fc(a){var b=Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]);a[0]/=b;a[1]/=b;a[2]/=b}function Gc(a){return[Math.atan2(a[1],a[0]),Ha(a[2])]}function Hc(a,b){return Y(a[0]-b[0])<N&&Y(a[1]-b[1])<N}function Bd(a,b){a*=X;var c=Math.cos(b*=X);Xb(c*Math.cos(a),c*Math.sin(a),Math.sin(b))}function Xb(a,b,c){++Yb;Va+=(a-Va)/Yb;Wa+=(b-Wa)/Yb;Qa+=(c-Qa)/Yb}function Fe(){function a(a,
g){a*=X;var k=Math.cos(g*=X),n=k*Math.cos(a),k=k*Math.sin(a),t=Math.sin(g),r=Math.atan2(Math.sqrt((r=c*t-e*k)*r+(r=e*n-b*t)*r+(r=b*k-c*n)*r),b*n+c*k+e*t);wb+=r;Ea+=r*(b+(b=n));Fa+=r*(c+(c=k));ya+=r*(e+(e=t));Xb(b,c,e)}var b,c,e;Ia.point=function(f,g){f*=X;var k=Math.cos(g*=X);b=k*Math.cos(f);c=k*Math.sin(f);e=Math.sin(g);Ia.point=a;Xb(b,c,e)}}function Ge(){Ia.point=Bd}function Vg(){function a(a,b){a*=X;var c=Math.cos(b*=X),r=c*Math.cos(a),c=c*Math.sin(a),v=Math.sin(b),L=f*v-g*c,z=g*r-e*v,l=e*c-f*
r,h=Math.sqrt(L*L+z*z+l*l),B=e*r+f*c+g*v,M=h&&-(1<B?0:-1>B?V:Math.acos(B))/h,h=Math.atan2(h,B);ab+=M*L;bb+=M*z;Ra+=M*l;wb+=h;Ea+=h*(e+(e=r));Fa+=h*(f+(f=c));ya+=h*(g+(g=v));Xb(e,f,g)}var b,c,e,f,g;Ia.point=function(k,n){b=k;c=n;Ia.point=a;k*=X;var t=Math.cos(n*=X);e=t*Math.cos(k);f=t*Math.sin(k);g=Math.sin(n);Xb(e,f,g)};Ia.lineEnd=function(){a(b,c);Ia.lineEnd=Ge;Ia.point=Bd}}function He(a,b){function c(c,f){return c=a(c,f),b(c[0],c[1])}return a.invert&&b.invert&&(c.invert=function(c,f){return c=b.invert(c,
f),c&&a.invert(c[0],c[1])}),c}function Zb(){return!0}function Ie(a,b,c,e,f){var g=[],k=[];if(a.forEach(function(a){if(!(0>=(b=a.length-1))){var b,c=a[0],e=a[b];if(Hc(c,e)){f.lineStart();for(e=0;b>e;++e)f.point((c=a[e])[0],c[1]);return void f.lineEnd()}b=new Ic(c,a,null,!0);c=new Ic(c,null,b,!1);b.o=c;g.push(b);k.push(c);b=new Ic(e,a,null,!1);c=new Ic(e,null,b,!0);b.o=c;g.push(b);k.push(c)}}),k.sort(b),Je(g),Je(k),g.length){a=0;b=c;for(c=k.length;c>a;++a)k[a].e=b=!b;for(var n,t=g[0];;){for(var r=t,
v=!0;r.v;)if((r=r.n)===t)return;b=r.z;f.lineStart();do{if(r.v=r.o.v=!0,r.e){if(v)for(a=0,c=b.length;c>a;++a)f.point((n=b[a])[0],n[1]);else e(r.x,r.n.x,1,f);r=r.n}else{if(v)for(b=r.p.z,a=b.length-1;0<=a;--a)f.point((n=b[a])[0],n[1]);else e(r.x,r.p.x,-1,f);r=r.p}r=r.o;b=r.z;v=!v}while(!r.v);f.lineEnd()}}}function Je(a){if(b=a.length){for(var b,c,e=0,f=a[0];++e<b;)f.n=c=a[e],c.p=f,f=c;f.n=c=a[0];c.p=f}}function Ic(a,b,c,e){this.x=a;this.z=b;this.o=c;this.e=e;this.v=!1;this.n=this.p=null}function Ke(a,
b,c,e){return function(f,g){function k(b,c){var e=f(b,c);a(b=e[0],c=e[1])&&g.point(b,c)}function n(a,b){var c=f(a,b);M.point(c[0],c[1])}function t(){C.point=n;M.lineStart()}function r(){C.point=k;M.lineEnd()}function v(a,b){B.push([a,b]);var c=f(a,b);K.point(c[0],c[1])}function L(){K.lineStart();B=[]}function z(){v(B[0][0],B[0][1]);K.lineEnd();var a;a=K.clean();var b=da.buffer(),c=b.length;if(B.pop(),ca.push(B),B=null,c)if(1&a){a=b[0];var e,c=a.length-1,b=-1;if(0<c){m||(g.polygonStart(),m=!0);for(g.lineStart();++b<
c;)g.point((e=a[b])[0],e[1]);g.lineEnd()}}else 1<c&&2&a&&b.push(b.pop().concat(b.shift())),h.push(b.filter(Wg))}var h,ca,B,M=b(g),E=f.invert(e[0],e[1]),C={point:k,lineStart:t,lineEnd:r,polygonStart:function(){C.point=v;C.lineStart=L;C.lineEnd=z;h=[];ca=[]},polygonEnd:function(){C.point=k;C.lineStart=t;C.lineEnd=r;h=l.merge(h);var a,b=E;a=ca;var e=b[0],f=b[1],n=[Math.sin(e),-Math.cos(e),0],v=0,z=0;jb.reset();for(var L=0,B=a.length;B>L;++L){var M=a[L],da=M.length;if(da)for(var K=M[0],p=K[0],b=K[1]/
2+V/4,q=Math.sin(b),u=Math.cos(b),s=1;;){s===da&&(s=0);var b=M[s],H=b[0],x=b[1]/2+V/4,y=Math.sin(x),x=Math.cos(x),D=H-p,w=0<=D?1:-1,J=w*D,Z=J>V,q=q*y;if(jb.add(Math.atan2(q*w*Math.sin(J),u*x+q*Math.cos(J))),v+=Z?D+w*Ba:D,Z^p>=e^H>=e)K=vb(kb(K),kb(b)),Fc(K),p=vb(n,K),Fc(p),p=(Z^0<=D?-1:1)*Ha(p[2]),(f>p||f===p&&(K[0]||K[1]))&&(z+=Z^0<=D?1:-1);if(!s++)break;p=H;q=y;u=x;K=b}}a=(-N>v||N>v&&0>jb)^1&z;h.length?(m||(g.polygonStart(),m=!0),Ie(h,Xg,a,c,g)):a&&(m||(g.polygonStart(),m=!0),g.lineStart(),c(null,
null,1,g),g.lineEnd());m&&(g.polygonEnd(),m=!1);h=ca=null},sphere:function(){g.polygonStart();g.lineStart();c(null,null,1,g);g.lineEnd();g.polygonEnd()}},da=Le(),K=b(da),m=!1;return C}}function Wg(a){return 1<a.length}function Le(){var a,b=[];return{lineStart:function(){b.push(a=[])},point:function(b,e){a.push([b,e])},lineEnd:ea,buffer:function(){var c=b;return b=[],a=null,c},rejoin:function(){1<b.length&&b.push(b.pop().concat(b.shift()))}}}function Xg(a,b){return(0>(a=a.x)[0]?a[1]-ja-N:ja-a[1])-
(0>(b=b.x)[0]?b[1]-ja-N:ja-b[1])}function Yg(a){function b(a,b){return Math.cos(a)*Math.cos(b)>f}function c(a,b,c){var e=kb(a),g=kb(b),n=[1,0,0],g=vb(e,g),k=Dc(g,g),e=g[0],l=k-e*e;if(!l)return!c&&a;k=f*k/l;l=-f*e/l;e=vb(n,g);n=Ec(n,k);g=Ec(g,l);Ad(n,g);g=Dc(n,e);k=Dc(e,e);l=g*g-k*(Dc(n,n)-1);if(!(0>l)){var h=Math.sqrt(l),l=Ec(e,(-g-h)/k);if(Ad(l,n),l=Gc(l),!c)return l;var E;c=a[0];var C=b[0];a=a[1];b=b[1];c>C&&(E=c,c=C,C=E);var da=C-c,K=Y(da-V)<N,m=K||N>da;if(!K&&a>b&&(E=a,a=b,b=E),m?K?0<a+b^l[1]<
(Y(l[0]-c)<N?a:b):a<=l[1]&&l[1]<=b:da>V^(c<=l[0]&&l[0]<=C))return E=Ec(e,(-g+h)/k),Ad(E,n),[l,Gc(E)]}}function e(b,c){var e=g?a:V-a,f=0;return-e>b?f|=1:b>e&&(f|=2),-e>c?f|=4:c>e&&(f|=8),f}var f=Math.cos(a),g=0<f,k=Y(f)>N,n=Cd(a,6*X);return Ke(b,function(a){var f,n,L,z,l;return{lineStart:function(){z=L=!1;l=1},point:function(h,B){var M,E=[h,B],C=b(h,B),da=g?C?0:e(h,B):C?e(h+(0>h?V:-V),B):0;if(!f&&(z=L=C)&&a.lineStart(),C!==L&&(M=c(f,E),(Hc(f,M)||Hc(E,M))&&(E[0]+=N,E[1]+=N,C=b(E[0],E[1]))),C!==L)l=
0,C?(a.lineStart(),M=c(E,f),a.point(M[0],M[1])):(M=c(f,E),a.point(M[0],M[1]),a.lineEnd()),f=M;else if(k&&f&&g^C){var K;da&n||!(K=c(E,f,!0))||(l=0,g?(a.lineStart(),a.point(K[0][0],K[0][1]),a.point(K[1][0],K[1][1]),a.lineEnd()):(a.point(K[1][0],K[1][1]),a.lineEnd(),a.lineStart(),a.point(K[0][0],K[0][1])))}!C||f&&Hc(f,E)||a.point(E[0],E[1]);f=E;L=C;n=da},lineEnd:function(){L&&a.lineEnd();f=null},clean:function(){return l|(z&&L)<<1}}},n,g?[0,-a]:[-V,a-V])}function Me(a,b,c,e){return function(f){var g,
k=f.a,n=f.b,t=k.x,k=k.y,r=0,v=1,L=n.x-t,n=n.y-k;if(g=a-t,L||!(0<g)){if(g/=L,0>L){if(r>g)return;v>g&&(v=g)}else if(0<L){if(g>v)return;g>r&&(r=g)}if(g=c-t,L||!(0>g)){if(g/=L,0>L){if(g>v)return;g>r&&(r=g)}else if(0<L){if(r>g)return;v>g&&(v=g)}if(g=b-k,n||!(0<g)){if(g/=n,0>n){if(r>g)return;v>g&&(v=g)}else if(0<n){if(g>v)return;g>r&&(r=g)}if(g=e-k,n||!(0>g)){if(g/=n,0>n){if(g>v)return;g>r&&(r=g)}else if(0<n){if(r>g)return;v>g&&(v=g)}return 0<r&&(f.a={x:t+r*L,y:k+r*n}),1>v&&(f.b={x:t+v*L,y:k+v*n}),f}}}}}}
function Ne(a,b,c,e){function f(e,f){return Y(e[0]-a)<N?0<f?0:3:Y(e[0]-c)<N?0<f?2:1:Y(e[1]-b)<N?0<f?1:0:0<f?3:2}function g(a,b){return k(a.x,b.x)}function k(a,b){var c=f(a,1),e=f(b,1);return c!==e?c-e:0===c?b[1]-a[1]:1===c?a[0]-b[0]:2===c?a[1]-b[1]:b[0]-a[0]}return function(n){function t(g,n,t,r){var v=0,z=0;if(null==g||(v=f(g,t))!==(z=f(n,t))||0>k(g,n)^0<t){do r.point(0===v||3===v?a:c,1<v?e:b);while((v=(v+t+4)%4)!==z)}else r.point(n[0],n[1])}function r(f,g){f>=a&&(c>=f&&g>=b&&e>=g)&&n.point(f,g)}
function v(f,g){f=Math.max(-Jc,Math.min(Jc,f));g=Math.max(-Jc,Math.min(Jc,g));var k=f>=a&&c>=f&&g>=b&&e>=g;if(z&&h.push([f,g]),K)ca=f,B=g,M=k,K=!1,k&&(n.lineStart(),n.point(f,g));else if(k&&da)n.point(f,g);else{var t={a:{x:E,y:C},b:{x:f,y:g}};q(t)?(da||(n.lineStart(),n.point(t.a.x,t.a.y)),n.point(t.b.x,t.b.y),k||n.lineEnd(),m=!1):k&&(n.lineStart(),n.point(f,g),m=!1)}E=f;C=g;da=k}var L,z,h,ca,B,M,E,C,da,K,m,Q=n,p=Le(),q=Me(a,b,c,e),u={point:r,lineStart:function(){u.point=v;z&&z.push(h=[]);K=!0;da=
!1;E=C=NaN},lineEnd:function(){L&&(v(ca,B),M&&da&&p.rejoin(),L.push(p.buffer()));u.point=r;da&&n.lineEnd()},polygonStart:function(){n=p;L=[];z=[];m=!0},polygonEnd:function(){n=Q;L=l.merge(L);var b;b=[a,e];for(var c=0,f=z.length,k=b[1],r=0;f>r;++r)for(var v,B=1,E=z[r],C=E.length,ca=E[0];C>B;++B)v=E[B],ca[1]<=k?v[1]>k&&0<tb(ca,v,b)&&++c:v[1]<=k&&0>tb(ca,v,b)&&--c,ca=v;b=0!==c;c=m&&b;f=L.length;(c||f)&&(n.polygonStart(),c&&(n.lineStart(),t(null,null,1,n),n.lineEnd()),f&&Ie(L,g,b,t,n),n.polygonEnd());
L=z=h=null}};return u}}function Dd(a){var b=0,c=V/3,e=Ed(a);a=e(b,c);return a.parallels=function(a){return arguments.length?e(b=a[0]*V/180,c=a[1]*V/180):[180*(b/V),180*(c/V)]},a}function Oe(a,b){function c(a,b){var c=Math.sqrt(g-2*f*Math.sin(b))/f;return[c*Math.sin(a*=f),k-c*Math.cos(a)]}var e=Math.sin(a),f=(e+Math.sin(b))/2,g=1+e*(2*f-e),k=Math.sqrt(g)/f;return c.invert=function(a,b){var c=k-b;return[Math.atan2(a,c)/f,Ha((g-(a*a+c*c)*f*f)/(2*f))]},c}function Zg(){function a(a,b){Kc+=f*a-e*b;e=a;
f=b}var b,c,e,f;cb.point=function(g,k){cb.point=a;b=e=g;c=f=k};cb.lineEnd=function(){a(b,c)}}function $g(){function a(a,b){k.push("M",a,",",b,g)}function b(a,b){k.push("M",a,",",b);n.point=c}function c(a,b){k.push("L",a,",",b)}function e(){n.point=a}function f(){k.push("Z")}var g=Pe(4.5),k=[],n={point:a,lineStart:function(){n.point=b},lineEnd:e,polygonStart:function(){n.lineEnd=f},polygonEnd:function(){n.lineEnd=e;n.point=a},pointRadius:function(a){return g=Pe(a),n},result:function(){if(k.length){var a=
k.join("");return k=[],a}}};return n}function Pe(a){return"m0,"+a+"a"+a+","+a+" 0 1,1 0,"+-2*a+"a"+a+","+a+" 0 1,1 0,"+2*a+"z"}function lb(a,b){Va+=a;Wa+=b;++Qa}function Qe(){function a(a,f){var g=a-b,k=f-c,g=Math.sqrt(g*g+k*k);Ea+=g*(b+a)/2;Fa+=g*(c+f)/2;ya+=g;lb(b=a,c=f)}var b,c;Ja.point=function(e,f){Ja.point=a;lb(b=e,c=f)}}function Re(){Ja.point=lb}function ah(){function a(a,b){var c=a-e,t=b-f,c=Math.sqrt(c*c+t*t);Ea+=c*(e+a)/2;Fa+=c*(f+b)/2;ya+=c;c=f*a-e*b;ab+=c*(e+a);bb+=c*(f+b);Ra+=3*c;lb(e=
a,f=b)}var b,c,e,f;Ja.point=function(g,k){Ja.point=a;lb(b=e=g,c=f=k)};Ja.lineEnd=function(){a(b,c)}}function bh(a){function b(b,c){a.moveTo(b+k,c);a.arc(b,c,k,0,Ba)}function c(b,c){a.moveTo(b,c);n.point=e}function e(b,c){a.lineTo(b,c)}function f(){n.point=b}function g(){a.closePath()}var k=4.5,n={point:b,lineStart:function(){n.point=c},lineEnd:f,polygonStart:function(){n.lineEnd=g},polygonEnd:function(){n.lineEnd=f;n.point=b},pointRadius:function(a){return k=a,n},result:ea};return n}function Se(a){function b(a){return(n?
e:c)(a)}function c(b){return Te(b,function(c,e){c=a(c,e);b.point(c[0],c[1])})}function e(b){function c(e,f){e=a(e,f);b.point(e[0],e[1])}function e(){p=NaN;x.point=g;b.lineStart()}function g(c,e){var k=kb([c,e]),r=a(c,e);f(p,q,Q,u,s,H,p=r[0],q=r[1],Q=c,u=k[0],s=k[1],H=k[2],n,b);b.point(p,q)}function k(){x.point=c;b.lineEnd()}function l(){e();x.point=h;x.lineEnd=B}function h(a,b){g(M=a,b);E=p;C=q;da=u;K=s;m=H;x.point=g}function B(){f(p,q,Q,u,s,H,E,C,M,da,K,m,n,b);x.lineEnd=k;k()}var M,E,C,da,K,m,Q,
p,q,u,s,H,x={point:c,lineStart:e,lineEnd:k,polygonStart:function(){b.polygonStart();x.lineStart=l},polygonEnd:function(){b.polygonEnd();x.lineStart=e}};return x}function f(b,c,e,n,z,l,h,B,M,E,C,da,K,m){var Q=h-b,p=B-c,q=Q*Q+p*p;if(q>4*g&&K--){var u=n+E,s=z+C,H=l+da,x=Math.sqrt(u*u+s*s+H*H),y=Math.asin(H/=x),D=Y(Y(H)-1)<N||Y(e-M)<N?(e+M)/2:Math.atan2(s,u),w=a(D,y),y=w[0],w=w[1],J=y-b,Z=w-c,F=p*J-Q*Z;(F*F/q>g||0.3<Y((Q*J+p*Z)/q-0.5)||k>n*E+z*C+l*da)&&(f(b,c,e,n,z,l,y,w,D,u/=x,s/=x,H,K,m),m.point(y,
w),f(y,w,D,u,s,H,h,B,M,E,C,da,K,m))}}var g=0.5,k=Math.cos(30*X),n=16;return b.precision=function(a){return arguments.length?(n=0<(g=a*a)&&16,b):Math.sqrt(g)},b}function ch(a){var b=Se(function(b,e){return a([b*ha,e*ha])});return function(a){return Ue(b(a))}}function Ve(a){this.stream=a}function Te(a,b){return{point:b,sphere:function(){a.sphere()},lineStart:function(){a.lineStart()},lineEnd:function(){a.lineEnd()},polygonStart:function(){a.polygonStart()},polygonEnd:function(){a.polygonEnd()}}}function db(a){return Ed(function(){return a})()}
function Ed(a){function b(a){return a=n(a[0]*X,a[1]*X),[a[0]*z+t,r-a[1]*z]}function c(a){return a=n.invert((a[0]-t)/z,(r-a[1])/z),a&&[a[0]*ha,a[1]*ha]}function e(){n=He(k=Fd(E,C,m),g);var a=g(B,M);return t=h-a[0]*z,r=ca+a[1]*z,f()}function f(){return v&&(v.valid=!1,v=null),b}var g,k,n,t,r,v,L=Se(function(a,b){return a=g(a,b),[a[0]*z+t,r-a[1]*z]}),z=150,h=480,ca=250,B=0,M=0,E=0,C=0,m=0,K=We,p=aa,Q=null,q=null;return b.stream=function(a){return v&&(v.valid=!1),v=Ue(K(k,L(p(a)))),v.valid=!0,v},b.clipAngle=
function(a){return arguments.length?(K=null==a?(Q=a,We):Yg((Q=+a)*X),f()):Q},b.clipExtent=function(a){return arguments.length?(q=a,p=a?Ne(a[0][0],a[0][1],a[1][0],a[1][1]):aa,f()):q},b.scale=function(a){return arguments.length?(z=+a,e()):z},b.translate=function(a){return arguments.length?(h=+a[0],ca=+a[1],e()):[h,ca]},b.center=function(a){return arguments.length?(B=a[0]%360*X,M=a[1]%360*X,e()):[B*ha,M*ha]},b.rotate=function(a){return arguments.length?(E=a[0]%360*X,C=a[1]%360*X,m=2<a.length?a[2]%360*
X:0,e()):[E*ha,C*ha,m*ha]},l.rebind(b,L,"precision"),function(){return g=a.apply(this,arguments),b.invert=g.invert&&c,e()}}function Ue(a){return Te(a,function(b,c){a.point(b*X,c*X)})}function $b(a,b){return[a,b]}function Xe(a,b){return[a>V?a-Ba:-V>a?a+Ba:a,b]}function Fd(a,b,c){return a?b||c?He(Ye(a),Ze(b,c)):Ye(a):b||c?Ze(b,c):Xe}function $e(a){return function(b,c){return b+=a,[b>V?b-Ba:-V>b?b+Ba:b,c]}}function Ye(a){var b=$e(a);return b.invert=$e(-a),b}function Ze(a,b){function c(a,b){var c=Math.cos(b),
v=Math.cos(a)*c,c=Math.sin(a)*c,L=Math.sin(b),z=L*e+v*f;return[Math.atan2(c*g-z*k,v*e-L*f),Ha(z*g+c*k)]}var e=Math.cos(a),f=Math.sin(a),g=Math.cos(b),k=Math.sin(b);return c.invert=function(a,b){var c=Math.cos(b),v=Math.cos(a)*c,c=Math.sin(a)*c,L=Math.sin(b),z=L*g-c*k;return[Math.atan2(c*g+L*k,v*e+z*f),Ha(z*e-v*f)]},c}function Cd(a,b){var c=Math.cos(a),e=Math.sin(a);return function(f,g,k,n){var t=k*b;null!=f?(f=af(c,f),g=af(c,g),(0<k?g>f:f>g)&&(f+=k*Ba)):(f=a+k*Ba,g=a-0.5*t);for(var r;0<k?f>g:g>f;f-=
t)n.point((r=Gc([c,-e*Math.cos(f),-e*Math.sin(f)]))[0],r[1])}}function af(a,b){var c=kb(b);c[0]-=a;Fc(c);var e=1<-c[1]?0:-1>-c[1]?V:Math.acos(-c[1]);return((0>-c[2]?-e:e)+2*Math.PI-N)%(2*Math.PI)}function bf(a,b,c){var e=l.range(a,b-N,c).concat(b);return function(a){return e.map(function(b){return[a,b]})}}function cf(a,b,c){var e=l.range(a,b-N,c).concat(b);return function(a){return e.map(function(b){return[b,a]})}}function Gd(a){return a.source}function Hd(a){return a.target}function dh(a,b,c,e){var f=
Math.cos(b),g=Math.sin(b),k=Math.cos(e),n=Math.sin(e),t=f*Math.cos(a),r=f*Math.sin(a),v=k*Math.cos(c),L=k*Math.sin(c),z=2*Math.asin(Math.sqrt(hb(e-b)+f*k*hb(c-a))),l=1/Math.sin(z);c=z?function(a){var b=Math.sin(a*=z)*l,c=Math.sin(z-a)*l;a=c*t+b*v;var e=c*r+b*L,b=c*g+b*n;return[Math.atan2(e,a)*ha,Math.atan2(b,Math.sqrt(a*a+e*e))*ha]}:function(){return[a*ha,b*ha]};return c.distance=z,c}function ac(a,b){function c(b,c){var g=Math.cos(b),k=Math.cos(c),g=a(g*k);return[g*k*Math.sin(b),g*Math.sin(c)]}return c.invert=
function(a,c){var g=Math.sqrt(a*a+c*c),k=b(g),n=Math.sin(k),k=Math.cos(k);return[Math.atan2(a*n,g*k),Math.asin(g&&c*n/g)]},c}function df(a,b){function c(a,b){0<g?-ja+N>b&&(b=-ja+N):b>ja-N&&(b=ja-N);var c=g/Math.pow(Math.tan(V/4+b/2),f);return[c*Math.sin(f*a),g-c*Math.cos(f*a)]}var e=Math.cos(a),f=a===b?Math.sin(a):Math.log(e/Math.cos(b))/Math.log(Math.tan(V/4+b/2)/Math.tan(V/4+a/2)),g=e*Math.pow(Math.tan(V/4+a/2),f)/f;return f?(c.invert=function(a,b){var c=g-b,e=(0<f?1:0>f?-1:0)*Math.sqrt(a*a+c*c);
return[Math.atan2(a,c)/f,2*Math.atan(Math.pow(g/e,1/f))-ja]},c):Lc}function ef(a,b){function c(a,b){var c=g-b;return[c*Math.sin(f*a),g-c*Math.cos(f*a)]}var e=Math.cos(a),f=a===b?Math.sin(a):(e-Math.cos(b))/(b-a),g=e/f+a;return Y(f)<N?$b:(c.invert=function(a,b){var c=g-b;return[Math.atan2(a,c)/f,g-(0<f?1:0>f?-1:0)*Math.sqrt(a*a+c*c)]},c)}function Lc(a,b){return[a,Math.log(Math.tan(V/4+b/2))]}function ff(a){var b,c=db(a),e=c.scale,f=c.translate,g=c.clipExtent;return c.scale=function(){var a=e.apply(c,
arguments);return a===c?b?c.clipExtent(null):c:a},c.translate=function(){var a=f.apply(c,arguments);return a===c?b?c.clipExtent(null):c:a},c.clipExtent=function(a){var n=g.apply(c,arguments);if(n===c){if(b=null==a){var t=V*e(),r=f();g([[r[0]-t,r[1]-t],[r[0]+t,r[1]+t]])}}else b&&(n=null);return n},c.clipExtent(null)}function Id(a,b){return[Math.log(Math.tan(V/4+b/2)),-a]}function xb(a){return a[0]}function bc(a){return a[1]}function gf(a){for(var b=a.length,c=[0,1],e=2,f=2;b>f;f++){for(;1<e&&0>=tb(a[c[e-
2]],a[c[e-1]],a[f]);)--e;c[e++]=f}return c.slice(0,e)}function eh(a,b){return a[0]-b[0]||a[1]-b[1]}function Jd(a,b,c){return(c[0]-b[0])*(a[1]-b[1])<(c[1]-b[1])*(a[0]-b[0])}function Kd(a,b,c,e){var f=a[0],g=c[0],k=b[0]-f,n=e[0]-g;a=a[1];c=c[1];b=b[1]-a;e=e[1]-c;g=(n*(a-c)-e*(f-g))/(e*k-n*b);return[f+g*k,a+g*b]}function hf(a){var b=a[0];a=a[a.length-1];return!(b[0]-a[0]||b[1]-a[1])}function fh(){Mc(this);this.edge=this.site=this.circle=null}function jf(a){var b=kf.pop()||new fh;return b.site=a,b}function Ld(a){yb(a);
zb.remove(a);kf.push(a);Mc(a)}function lf(a,b){var c=a.site,e=c.x,f=c.y,g=f-b;if(!g)return e;var k=a.P;if(!k)return-(1/0);var c=k.site,k=c.x,c=c.y,n=c-b;if(!n)return k;var t=k-e,r=1/g-1/n,v=t/n;return r?(-v+Math.sqrt(v*v-2*r*(t*t/(-2*n)-c+n/2+f-g/2)))/r+e:(e+k)/2}function mf(a){this.site=a;this.edges=[]}function nf(a,b){return b.angle-a.angle}function gh(){Mc(this);this.x=this.y=this.arc=this.site=this.cy=null}function Ab(a){var b=a.P,c=a.N;if(b&&c){var e=b.site,b=a.site,f=c.site;if(e!==f){var c=
b.x,g=b.y,k=e.x-c,n=e.y-g,e=f.x-c,f=f.y-g,t=2*(k*f-n*e);if(!(t>=-Nc)){var r=k*k+n*n,v=e*e+f*f,n=(f*r-n*v)/t,k=(k*v-e*r)/t,f=k+g,g=of.pop()||new gh;g.arc=a;g.site=b;g.x=n+c;g.y=f+Math.sqrt(n*n+k*k);g.cy=f;a.circle=g;a=null;for(b=cc._;b;)if(g.y<b.y||g.y===b.y&&g.x<=b.x){if(!b.L){a=b.P;break}b=b.L}else{if(!b.R){a=b;break}b=b.R}cc.insert(a,g);a||(Md=g)}}}}function yb(a){var b=a.circle;b&&(b.P||(Md=b.N),cc.remove(b),of.push(b),Mc(b),a.circle=null)}function hh(a,b){var c=a.b;if(c)return!0;var e,f,g=a.a,
c=b[0][0],k=b[1][0],n=b[0][1],t=b[1][1],r=a.l,v=a.r,L=r.x,r=r.y,z=v.x,v=v.y;f=(L+z)/2;if(v===r){if(c>f||f>=k)return;if(L>z){if(g){if(g.y>=t)return}else g={x:f,y:n};c={x:f,y:t}}else{if(g){if(g.y<n)return}else g={x:f,y:t};c={x:f,y:n}}}else if(e=(L-z)/(v-r),f=(r+v)/2-e*f,-1>e||1<e)if(L>z){if(g){if(g.y>=t)return}else g={x:(n-f)/e,y:n};c={x:(t-f)/e,y:t}}else{if(g){if(g.y<n)return}else g={x:(t-f)/e,y:t};c={x:(n-f)/e,y:n}}else if(v>r){if(g){if(g.x>=k)return}else g={x:c,y:e*c+f};c={x:k,y:e*k+f}}else{if(g){if(g.x<
c)return}else g={x:k,y:e*k+f};c={x:c,y:e*c+f}}return a.a=g,a.b=c,!0}function pf(a,b){this.l=a;this.r=b;this.a=this.b=null}function dc(a,b,c,e){var f=new pf(a,b);return Bb.push(f),c&&Oc(f,a,b,c),e&&Oc(f,b,a,e),mb[a.i].edges.push(new Pc(f,a,b)),mb[b.i].edges.push(new Pc(f,b,a)),f}function ih(a,b,c){a=new pf(a,null);return a.a=b,a.b=c,Bb.push(a),a}function Oc(a,b,c,e){a.a||a.b?a.l===c?a.b=e:a.a=e:(a.a=e,a.l=b,a.r=c)}function Pc(a,b,c){var e=a.a,f=a.b;this.edge=a;this.site=b;this.angle=c?Math.atan2(c.y-
b.y,c.x-b.x):a.l===b?Math.atan2(f.x-e.x,e.y-f.y):Math.atan2(e.x-f.x,f.y-e.y)}function Nd(){this._=null}function Mc(a){a.U=a.C=a.L=a.R=a.P=a.N=null}function ec(a,b){var c=b.R,e=b.U;e?e.L===b?e.L=c:e.R=c:a._=c;c.U=e;b.U=c;b.R=c.L;b.R&&(b.R.U=b);c.L=b}function fc(a,b){var c=b.L,e=b.U;e?e.L===b?e.L=c:e.R=c:a._=c;c.U=e;b.U=c;b.L=c.R;b.L&&(b.L.U=b);c.R=b}function qf(a){for(;a.L;)a=a.L;return a}function Od(a,b){var c,e,f,g=a.sort(jh).pop();Bb=[];mb=Array(a.length);zb=new Nd;for(cc=new Nd;;)if(f=Md,g&&(!f||
g.y<f.y||g.y===f.y&&g.x<f.x)){if(g.x!==c||g.y!==e){mb[g.i]=new mf(g);c=g;for(var k=e=void 0,n=void 0,t=void 0,r=c.x,v=c.y,L=zb._;L;)if(n=lf(L,v)-r,n>N)L=L.L;else{var z=r,l;var h=L;l=v;var B=h.N;B?l=lf(B,l):(h=h.site,l=h.y===l?h.x:1/0);if(t=z-l,!(t>N)){n>-N?(e=L.P,k=L):t>-N?(e=L,k=L.N):e=k=L;break}if(!L.R){e=L;break}L=L.R}n=jf(c);if(zb.insert(e,n),e||k)if(e===k)yb(e),k=jf(e.site),zb.insert(n,k),n.edge=k.edge=dc(e.site,n.site),Ab(e),Ab(k);else if(k){yb(e);yb(k);t=e.site;v=t.x;L=t.y;z=c.x-v;l=c.y-L;
var r=k.site,h=r.x-v,B=r.y-L,M=2*(z*B-l*h),E=z*z+l*l,C=h*h+B*B,v={x:(B*E-l*C)/M+v,y:(z*C-h*E)/M+L};Oc(k.edge,t,r,v);n.edge=dc(t,c,null,v);k.edge=dc(c,r,null,v);Ab(e);Ab(k)}else n.edge=dc(e.site,n.site);c=g.x;e=g.y}g=a.pop()}else{if(!f)break;r=f.arc;k=r.circle;t=k.x;v=k.cy;k={x:t,y:v};z=r.P;L=r.N;n=[r];Ld(r);for(r=z;r.circle&&Y(t-r.circle.x)<N&&Y(v-r.circle.cy)<N;)z=r.P,n.unshift(r),Ld(r),r=z;n.unshift(r);yb(r);for(z=L;z.circle&&Y(t-z.circle.x)<N&&Y(v-z.circle.cy)<N;)L=z.N,n.push(z),Ld(z),z=L;n.push(z);
yb(z);t=void 0;v=n.length;for(t=1;v>t;++t)z=n[t],r=n[t-1],Oc(z.edge,r.site,z.site,k);r=n[0];z=n[v-1];z.edge=dc(r.site,z.site,null,k);Ab(r);Ab(z)}if(b){g=Bb;c=Me(b[0][0],b[0][1],b[1][0],b[1][1]);for(e=g.length;e--;)f=g[e],(!hh(f,b)||!c(f)||Y(f.a.x-f.b.x)<N&&Y(f.a.y-f.b.y)<N)&&(f.a=f.b=null,g.splice(e,1));var m,r=b[0][0],v=b[1][0],L=b[0][1],z=b[1][1];l=mb;for(h=l.length;h--;)if(m=l[h],m&&m.prepare())for(k=m.edges,n=k.length,e=0;n>e;)t=k[e].end(),g=t.x,c=t.y,B=k[++e%n].start(),f=B.x,B=B.y,(Y(g-f)>N||
Y(c-B)>N)&&(k.splice(e,0,new Pc(ih(m.site,t,Y(g-r)<N&&z-c>N?{x:r,y:Y(f-r)<N?B:z}:Y(c-z)<N&&v-g>N?{x:Y(B-z)<N?f:v,y:z}:Y(g-v)<N&&c-L>N?{x:v,y:Y(f-v)<N?B:L}:Y(c-L)<N&&g-r>N?{x:Y(B-L)<N?f:r,y:L}:null),m.site,null)),++n)}m={cells:mb,edges:Bb};return zb=cc=Bb=mb=null,m}function jh(a,b){return b.y-a.y||b.x-a.x}function kh(a){return a.x}function lh(a){return a.y}function rf(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function gc(a,b,c,e,f,g){if(!a(b,c,e,f,g)){var k=0.5*(c+f),n=0.5*(e+g);b=b.nodes;
b[0]&&gc(a,b[0],c,e,k,n);b[1]&&gc(a,b[1],k,e,f,n);b[2]&&gc(a,b[2],c,n,k,g);b[3]&&gc(a,b[3],k,n,f,g)}}function mh(a,b,c,e,f,g,k){var n,t=1/0;return function v(a,z,l,h,B){if(!(z>g||l>k||e>h||f>B)){if(M=a.point){var M,E=b-a.x,C=c-a.y,E=E*E+C*C;t>E&&(E=Math.sqrt(t=E),e=b-E,f=c-E,g=b+E,k=c+E,n=M)}M=a.nodes;for(var E=0.5*(z+h),C=0.5*(l+B),m=(c>=C)<<1|b>=E,K=m+4;K>m;++m)if(a=M[3&m])switch(3&m){case 0:v(a,z,l,E,C);break;case 1:v(a,E,l,h,C);break;case 2:v(a,z,C,E,B);break;case 3:v(a,E,C,h,B)}}}(a,e,f,g,k),
n}function Pd(a,b){a=l.rgb(a);b=l.rgb(b);var c=a.r,e=a.g,f=a.b,g=b.r-c,k=b.g-e,n=b.b-f;return function(a){return"#"+u(Math.round(c+g*a))+u(Math.round(e+k*a))+u(Math.round(f+n*a))}}function sf(a,b){var c,e={},f={};for(c in a)c in b?e[c]=nb(a[c],b[c]):f[c]=a[c];for(c in b)c in a||(f[c]=b[c]);return function(a){for(c in e)f[c]=e[c](a);return f}}function Xa(a,b){return a=+a,b=+b,function(c){return a*(1-c)+b*c}}function tf(a,b){var c,e,f,g=Qd.lastIndex=Rd.lastIndex=0,k=-1,n=[],t=[];a+="";for(b+="";(c=
Qd.exec(a))&&(e=Rd.exec(b));)(f=e.index)>g&&(f=b.slice(g,f),n[k]?n[k]+=f:n[++k]=f),(c=c[0])===(e=e[0])?n[k]?n[k]+=e:n[++k]=e:(n[++k]=null,t.push({i:k,x:Xa(c,e)})),g=Rd.lastIndex;return g<b.length&&(f=b.slice(g),n[k]?n[k]+=f:n[++k]=f),2>n.length?t[0]?(b=t[0].x,function(a){return b(a)+""}):function(){return b}:(b=t.length,function(a){for(var c,e=0;b>e;++e)n[(c=t[e]).i]=c.x(a);return n.join("")})}function nb(a,b){for(var c,e=l.interpolators.length;0<=--e&&!(c=l.interpolators[e](a,b)););return c}function Qc(a,
b){var c,e=[],f=[],g=a.length,k=b.length,n=Math.min(a.length,b.length);for(c=0;n>c;++c)e.push(nb(a[c],b[c]));for(;g>c;++c)f[c]=a[c];for(;k>c;++c)f[c]=b[c];return function(a){for(c=0;n>c;++c)f[c]=e[c](a);return f}}function nh(a){return function(b){return 0>=b?0:1<=b?1:a(b)}}function uf(a){return function(b){return 1-a(1-b)}}function vf(a){return function(b){return 0.5*(0.5>b?a(2*b):2-a(2-2*b))}}function oh(a){return a*a}function ph(a){return a*a*a}function qh(a){if(0>=a)return 0;if(1<=a)return 1;var b=
a*a,c=b*a;return 4*(0.5>a?c:3*(a-b)+c-0.75)}function rh(a){return 1-Math.cos(a*ja)}function sh(a){return Math.pow(2,10*(a-1))}function th(a){return 1-Math.sqrt(1-a*a)}function uh(a){return 1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+0.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+0.9375:7.5625*(a-=2.625/2.75)*a+0.984375}function wf(a,b){return b-=a,function(c){return Math.round(a+b*c)}}function xf(a){var b=[a.a,a.b],c=[a.c,a.d],e=yf(b),f=b[0]*c[0]+b[1]*c[1],g=yf((c[0]+=-f*b[0],c[1]+=-f*b[1],c))||
0;b[0]*c[1]<c[0]*b[1]&&(b[0]*=-1,b[1]*=-1,e*=-1,f*=-1);this.rotate=(e?Math.atan2(b[1],b[0]):Math.atan2(-c[0],c[1]))*ha;this.translate=[a.e,a.f];this.scale=[e,g];this.skew=g?Math.atan2(f,g)*ha:0}function yf(a){var b=Math.sqrt(a[0]*a[0]+a[1]*a[1]);return b&&(a[0]/=b,a[1]/=b),b}function Cb(a){return a.length?a.pop()+",":""}function vh(a,b,c,e){a[0]!==b[0]||a[1]!==b[1]?(c=c.push("translate(",null,",",null,")"),e.push({i:c-4,x:Xa(a[0],b[0])},{i:c-2,x:Xa(a[1],b[1])})):(b[0]||b[1])&&c.push("translate("+
b+")")}function wh(a,b,c,e){a!==b?(180<a-b?b+=360:180<b-a&&(a+=360),e.push({i:c.push(Cb(c)+"rotate(",null,")")-2,x:Xa(a,b)})):b&&c.push(Cb(c)+"rotate("+b+")")}function xh(a,b,c,e){a!==b?e.push({i:c.push(Cb(c)+"skewX(",null,")")-2,x:Xa(a,b)}):b&&c.push(Cb(c)+"skewX("+b+")")}function yh(a,b,c,e){a[0]!==b[0]||a[1]!==b[1]?(c=c.push(Cb(c)+"scale(",null,",",null,")"),e.push({i:c-4,x:Xa(a[0],b[0])},{i:c-2,x:Xa(a[1],b[1])})):1===b[0]&&1===b[1]||c.push(Cb(c)+"scale("+b+")")}function zf(a,b){var c=[],e=[];
return a=l.transform(a),b=l.transform(b),vh(a.translate,b.translate,c,e),wh(a.rotate,b.rotate,c,e),xh(a.skew,b.skew,c,e),yh(a.scale,b.scale,c,e),a=b=null,function(a){for(var b,k=-1,n=e.length;++k<n;)c[(b=e[k]).i]=b.x(a);return c.join("")}}function zh(a,b){return b=(b-=a=+a)||1/b,function(c){return(c-a)/b}}function Ah(a,b){return b=(b-=a=+a)||1/b,function(c){return Math.max(0,Math.min(1,(c-a)/b))}}function Bh(a){var b=a.source;a=a.target;var c;var e=a;if(b===e)c=b;else{c=Af(b);for(var e=Af(e),f=c.pop(),
g=e.pop(),k=null;f===g;)k=f,f=c.pop(),g=e.pop();c=k}for(e=[b];b!==c;)b=b.parent,e.push(b);for(b=e.length;a!==c;)e.splice(b,0,a),a=a.parent;return e}function Af(a){for(var b=[],c=a.parent;null!=c;)b.push(a),a=c,c=c.parent;return b.push(a),b}function Ch(a){a.fixed|=2}function Dh(a){a.fixed&=-7}function Eh(a){a.fixed|=4;a.px=a.x;a.py=a.y}function Fh(a){a.fixed&=-5}function Bf(a,b,c){var e=0,f=0;if(a.charge=0,!a.leaf)for(var g,k=a.nodes,n=k.length,t=-1;++t<n;)g=k[t],null!=g&&(Bf(g,b,c),a.charge+=g.charge,
e+=g.charge*g.cx,f+=g.charge*g.cy);a.point&&(a.leaf||(a.point.x+=Math.random()-0.5,a.point.y+=Math.random()-0.5),b*=c[a.point.index],a.charge+=a.pointCharge=b,e+=b*a.point.x,f+=b*a.point.y);a.cx=e/a.charge;a.cy=f/a.charge}function hc(a,b){return l.rebind(a,b,"sort","children","value"),a.nodes=a,a.links=Gh,a}function ic(a,b){for(var c=[a];null!=(a=c.pop());)if(b(a),(f=a.children)&&(e=f.length))for(var e,f;0<=--e;)c.push(f[e])}function Sa(a,b){for(var c=[a],e=[];null!=(a=c.pop());)if(e.push(a),(g=a.children)&&
(f=g.length))for(var f,g,k=-1;++k<f;)c.push(g[k]);for(;null!=(a=e.pop());)b(a)}function Hh(a){return a.children}function Ih(a){return a.value}function Jh(a,b){return b.value-a.value}function Gh(a){return l.merge(a.map(function(a){return(a.children||[]).map(function(c){return{source:a,target:c}})}))}function Kh(a){return a.x}function Lh(a){return a.y}function Mh(a,b,c){a.y0=b;a.y=c}function Sd(a){return l.range(a.length)}function Td(a){var b=-1;a=a[0].length;for(var c=[];++b<a;)c[b]=0;return c}function Nh(a){for(var b,
c=1,e=0,f=a[0][1],g=a.length;g>c;++c)(b=a[c][1])>f&&(e=c,f=b);return e}function Oh(a){return a.reduce(Ph,0)}function Ph(a,b){return a+b[1]}function Qh(a,b){return Cf(a,Math.ceil(Math.log(b.length)/Math.LN2+1))}function Cf(a,b){for(var c=-1,e=+a[0],f=(a[1]-e)/b,g=[];++c<=b;)g[c]=f*c+e;return g}function Rh(a){return[l.min(a),l.max(a)]}function Sh(a,b){return a.value-b.value}function Ud(a,b){var c=a._pack_next;a._pack_next=b;b._pack_prev=a;b._pack_next=c;c._pack_prev=b}function Df(a,b){a._pack_next=
b;b._pack_prev=a}function Ef(a,b){var c=b.x-a.x,e=b.y-a.y,f=a.r+b.r;return 0.999*f*f>c*c+e*e}function Ff(a){function b(a){v=Math.min(a.x-a.r,v);l=Math.max(a.x+a.r,l);z=Math.min(a.y-a.r,z);h=Math.max(a.y+a.r,h)}if((c=a.children)&&(r=c.length)){var c,e,f,g,k,n,t,r,v=1/0,l=-(1/0),z=1/0,h=-(1/0);if(c.forEach(Th),e=c[0],e.x=-e.r,e.y=0,b(e),1<r&&(f=c[1],f.x=f.r,f.y=0,b(f),2<r))for(g=c[2],Gf(e,f,g),b(g),Ud(e,g),e._pack_prev=g,Ud(g,f),f=e._pack_next,k=3;r>k;k++){Gf(e,f,g=c[k]);var m=0,B=1,M=1;for(n=f._pack_next;n!==
f;n=n._pack_next,B++)if(Ef(n,g)){m=1;break}if(1==m)for(t=e._pack_prev;t!==n._pack_prev&&!Ef(t,g);t=t._pack_prev,M++);m?(M>B||B==M&&f.r<e.r?Df(e,f=n):Df(e=t,f),k--):(Ud(e,g),f=g,b(g))}e=(v+l)/2;f=(z+h)/2;for(k=n=0;r>k;k++)g=c[k],g.x-=e,g.y-=f,n=Math.max(n,g.r+Math.sqrt(g.x*g.x+g.y*g.y));a.r=n;c.forEach(Uh)}}function Th(a){a._pack_next=a._pack_prev=a}function Uh(a){delete a._pack_next;delete a._pack_prev}function Hf(a,b,c,e){var f=a.children;if(a.x=b+=e*a.x,a.y=c+=e*a.y,a.r*=e,f){a=-1;for(var g=f.length;++a<
g;)Hf(f[a],b,c,e)}}function Gf(a,b,c){var e=a.r+c.r,f=b.x-a.x,g=b.y-a.y;if(e&&(f||g)){var k=b.r+c.r,n=f*f+g*g,k=k*k,e=e*e;b=0.5+(e-k)/(2*n);k=Math.sqrt(Math.max(0,2*k*(e+n)-(e-=n)*e-k*k))/(2*n);c.x=a.x+b*f+k*g;c.y=a.y+b*g-k*f}else c.x=a.x+e,c.y=a.y}function If(a,b){return a.parent==b.parent?1:2}function Vd(a){var b=a.children;return b.length?b[0]:a.t}function Wd(a){var b,c=a.children;return(b=c.length)?c[b-1]:a.t}function Vh(a){return 1+l.max(a,function(a){return a.y})}function Wh(a){return a.reduce(function(a,
c){return a+c.x},0)/a.length}function Jf(a){var b=a.children;return b&&b.length?Jf(b[0]):a}function Kf(a){var b,c=a.children;return c&&(b=c.length)?Kf(c[b-1]):a}function Xd(a){return{x:a.x,y:a.y,dx:a.dx,dy:a.dy}}function Lf(a,b){var c=a.x+b[3],e=a.y+b[0],f=a.dx-b[1]-b[3],g=a.dy-b[0]-b[2];return 0>f&&(c+=f/2,f=0),0>g&&(e+=g/2,g=0),{x:c,y:e,dx:f,dy:g}}function Db(a){var b=a[0];a=a[a.length-1];return a>b?[b,a]:[a,b]}function Rc(a){return a.rangeExtent?a.rangeExtent():Db(a.range())}function Xh(a,b,c,
e){var f=c(a[0],a[1]),g=e(b[0],b[1]);return function(a){return g(f(a))}}function Sc(a,b){var c,e=0,f=a.length-1,g=a[e],k=a[f];return g>k&&(c=e,e=f,f=c,c=g,g=k,k=c),a[e]=b.floor(g),a[f]=b.ceil(k),a}function Mf(a){return a?{floor:function(b){return Math.floor(b/a)*a},ceil:function(b){return Math.ceil(b/a)*a}}:Yh}function Zh(a,b,c,e){var f=[],g=[],k=0,n=Math.min(a.length,b.length)-1;for(a[n]<a[0]&&(a=a.slice().reverse(),b=b.slice().reverse());++k<=n;)f.push(c(a[k-1],a[k])),g.push(e(b[k-1],b[k]));return function(b){var c=
l.bisect(a,b,1,n)-1;return g[c](f[c](b))}}function Nf(a,b,c,e){function f(){var f=2<Math.min(a.length,b.length)?Zh:Xh,r=e?Ah:zh;return k=f(a,b,r,c),n=f(b,a,r,nb),g}function g(a){return k(a)}var k,n;return g.invert=function(a){return n(a)},g.domain=function(b){return arguments.length?(a=b.map(Number),f()):a},g.range=function(a){return arguments.length?(b=a,f()):b},g.rangeRound=function(a){return g.range(a).interpolate(wf)},g.clamp=function(a){return arguments.length?(e=a,f()):e},g.interpolate=function(a){return arguments.length?
(c=a,f()):c},g.ticks=function(b){return l.range.apply(l,eb(a,b))},g.tickFormat=function(b,c){return Yd(a,b,c)},g.nice=function(b){return Of(a,b),f()},g.copy=function(){return Nf(a,b,c,e)},f()}function Zd(a,b){return l.rebind(a,b,"range","rangeRound","interpolate","clamp")}function Of(a,b){return Sc(a,Mf(eb(a,b)[2])),Sc(a,Mf(eb(a,b)[2])),a}function eb(a,b){null==b&&(b=10);var c=Db(a),e=c[1]-c[0],f=Math.pow(10,Math.floor(Math.log(e/b)/Math.LN10)),e=b/e*f;return 0.15>=e?f*=10:0.35>=e?f*=5:0.75>=e&&(f*=
2),c[0]=Math.ceil(c[0]/f)*f,c[1]=Math.floor(c[1]/f)*f+0.5*f,c[2]=f,c}function Yd(a,b,c){a=eb(a,b);if(c){b=xe.exec(c);if(b.shift(),"s"===b[8]){var e=l.formatPrefix(Math.max(Y(a[0]),Y(a[1])));return b[7]||(b[7]="."+Tc(e.scale(a[2]))),b[8]="f",c=l.format(b.join("")),function(a){return c(e.scale(a))+e.symbol}}b[7]||(b[7]="."+$h(b[8],a));c=b.join("")}else c=",."+Tc(a[2])+"f";return l.format(c)}function Tc(a){return-Math.floor(Math.log(a)/Math.LN10+0.01)}function $h(a,b){var c=Tc(b[2]);return a in ai?Math.abs(c-
Tc(Math.max(Y(b[0]),Y(b[1]))))+ +("e"!==a):c-2*("%"===a)}function Pf(a,b,c,e){function f(a){return(c?Math.log(0>a?0:a):-Math.log(0<a?0:-a))/Math.log(b)}function g(a){return c?Math.pow(b,a):-Math.pow(b,-a)}function k(b){return a(f(b))}return k.invert=function(b){return g(a.invert(b))},k.domain=function(b){return arguments.length?(c=0<=b[0],a.domain((e=b.map(Number)).map(f)),k):e},k.base=function(c){return arguments.length?(b=+c,a.domain(e.map(f)),k):b},k.nice=function(){var b=Sc(e.map(f),c?Math:bi);
return a.domain(b),e=b.map(g),k},k.ticks=function(){var a=Db(e),k=[],r=a[0],a=a[1],v=Math.floor(f(r)),l=Math.ceil(f(a)),z=b%1?2:b;if(isFinite(l-v)){if(c){for(;l>v;v++)for(var h=1;z>h;h++)k.push(g(v)*h);k.push(g(v))}else for(k.push(g(v));v++<l;)for(h=z-1;0<h;h--)k.push(g(v)*h);for(v=0;k[v]<r;v++);for(l=k.length;k[l-1]>a;l--);k=k.slice(v,l)}return k},k.tickFormat=function(a,c){if(!arguments.length)return Qf;2>arguments.length?c=Qf:"function"!=typeof c&&(c=l.format(c));var e=Math.max(1,b*a/k.ticks().length);
return function(a){var n=a/g(Math.round(f(a)));return b-0.5>n*b&&(n*=b),e>=n?c(a):""}},k.copy=function(){return Pf(a.copy(),b,c,e)},Zd(k,a)}function Rf(a,b,c){function e(b){return a(f(b))}var f=Uc(b),g=Uc(1/b);return e.invert=function(b){return g(a.invert(b))},e.domain=function(b){return arguments.length?(a.domain((c=b.map(Number)).map(f)),e):c},e.ticks=function(a){return l.range.apply(l,eb(c,a))},e.tickFormat=function(a,b){return Yd(c,a,b)},e.nice=function(a){return e.domain(Of(c,a))},e.exponent=
function(k){return arguments.length?(f=Uc(b=k),g=Uc(1/b),a.domain(c.map(f)),e):b},e.copy=function(){return Rf(a.copy(),b,c)},Zd(e,a)}function Uc(a){return function(b){return 0>b?-Math.pow(-b,a):Math.pow(b,a)}}function Sf(a,b){function c(c){return g[((f.get(c)||("range"===b.t?f.set(c,a.push(c)):NaN))-1)%g.length]}function e(b,c){return l.range(a.length).map(function(a){return b+c*a})}var f,g,k;return c.domain=function(e){if(!arguments.length)return a;a=[];f=new ua;for(var g,k=-1,v=e.length;++k<v;)f.has(g=
e[k])||f.set(g,a.push(g));return c[b.t].apply(c,b.a)},c.range=function(a){return arguments.length?(g=a,k=0,b={t:"range",a:arguments},c):g},c.rangePoints=function(f,t){2>arguments.length&&(t=0);var r=f[0],v=f[1],v=2>a.length?(r=(r+v)/2,0):(v-r)/(a.length-1+t);return g=e(r+v*t/2,v),k=0,b={t:"rangePoints",a:arguments},c},c.rangeRoundPoints=function(f,t){2>arguments.length&&(t=0);var r=f[0],v=f[1],l=2>a.length?(r=v=Math.round((r+v)/2),0):(v-r)/(a.length-1+t)|0;return g=e(r+Math.round(l*t/2+(v-r-(a.length-
1+t)*l)/2),l),k=0,b={t:"rangeRoundPoints",a:arguments},c},c.rangeBands=function(f,t,r){2>arguments.length&&(t=0);3>arguments.length&&(r=t);var v=f[1]<f[0],l=f[v-0],z=(f[1-v]-l)/(a.length-t+2*r);return g=e(l+z*r,z),v&&g.reverse(),k=z*(1-t),b={t:"rangeBands",a:arguments},c},c.rangeRoundBands=function(f,t,r){2>arguments.length&&(t=0);3>arguments.length&&(r=t);var v=f[1]<f[0],l=f[v-0],z=f[1-v],h=Math.floor((z-l)/(a.length-t+2*r));return g=e(l+Math.round((z-l-(a.length-t)*h)/2),h),v&&g.reverse(),k=Math.round(h*
(1-t)),b={t:"rangeRoundBands",a:arguments},c},c.rangeBand=function(){return k},c.rangeExtent=function(){return Db(b.a[0])},c.copy=function(){return Sf(a,b)},c.domain(a)}function Tf(a,b){function c(){var c=0,k=b.length;for(f=[];++c<k;)f[c-1]=l.quantile(a,c/k);return e}function e(a){return isNaN(a=+a)?void 0:b[l.bisect(f,a)]}var f;return e.domain=function(b){return arguments.length?(a=b.map(G).filter(S).sort(U),c()):a},e.range=function(a){return arguments.length?(b=a,c()):b},e.quantiles=function(){return f},
e.invertExtent=function(c){return c=b.indexOf(c),0>c?[NaN,NaN]:[0<c?f[c-1]:a[0],c<f.length?f[c]:a[a.length-1]]},e.copy=function(){return Tf(a,b)},c()}function Uf(a,b,c){function e(b){return c[Math.max(0,Math.min(k,Math.floor(g*(b-a))))]}function f(){return g=c.length/(b-a),k=c.length-1,e}var g,k;return e.domain=function(c){return arguments.length?(a=+c[0],b=+c[c.length-1],f()):[a,b]},e.range=function(a){return arguments.length?(c=a,f()):c},e.invertExtent=function(b){return b=c.indexOf(b),b=0>b?NaN:
b/g+a,[b,b+1/g]},e.copy=function(){return Uf(a,b,c)},f()}function Vf(a,b){function c(c){return c>=c?b[l.bisect(a,c)]:void 0}return c.domain=function(b){return arguments.length?(a=b,c):a},c.range=function(a){return arguments.length?(b=a,c):b},c.invertExtent=function(c){return c=b.indexOf(c),[a[c-1],a[c]]},c.copy=function(){return Vf(a,b)},c}function Wf(a){function b(a){return+a}return b.invert=b,b.domain=b.range=function(c){return arguments.length?(a=c.map(b),b):a},b.ticks=function(b){return l.range.apply(l,
eb(a,b))},b.tickFormat=function(b,e){return Yd(a,b,e)},b.copy=function(){return Wf(a)},b}function ci(){return 0}function di(a){return a.innerRadius}function ei(a){return a.outerRadius}function Xf(a){return a.startAngle}function Yf(a){return a.endAngle}function fi(a){return a&&a.padAngle}function Vc(a,b,c,e,f){var g=a[0]-b[0],k=a[1]-b[1];f=(f?e:-e)/Math.sqrt(g*g+k*k);var k=f*k,g=-f*g,n=a[0]+k,t=a[1]+g,r=b[0]+k,v=b[1]+g;a=(n+r)/2;b=(t+v)/2;f=r-n;var l=v-t,z=f*f+l*l;e=c-e;var v=n*v-r*t,h=(0>l?-1:1)*
Math.sqrt(Math.max(0,e*e*z-v*v)),n=(v*l-f*h)/z,t=(-v*f-l*h)/z,r=(v*l+f*h)/z;f=(-v*f+l*h)/z;l=n-a;z=t-b;a=r-a;b=f-b;return l*l+z*z>a*a+b*b&&(n=r,t=f),[[n-k,t-g],[n*c/e,t*c/e]]}function Zf(a){function b(b){function k(){l.push("M",g(a(z),n))}for(var v,l=[],z=[],h=-1,m=b.length,B=x(c),M=x(e);++h<m;)f.call(this,v=b[h],h)?z.push([+B.call(this,v,h),+M.call(this,v,h)]):z.length&&(k(),z=[]);return z.length&&k(),l.length?l.join(""):null}var c=xb,e=bc,f=Zb,g=Ka,k=g.key,n=0.7;return b.x=function(a){return arguments.length?
(c=a,b):c},b.y=function(a){return arguments.length?(e=a,b):e},b.defined=function(a){return arguments.length?(f=a,b):f},b.interpolate=function(a){return arguments.length?(k="function"==typeof a?g=a:(g=$d.get(a)||Ka).key,b):k},b.tension=function(a){return arguments.length?(n=a,b):n},b}function Ka(a){return 1<a.length?a.join("L"):a+"Z"}function $f(a){return a.join("L")+"Z"}function ae(a){for(var b=0,c=a.length,e=a[0],f=[e[0],",",e[1]];++b<c;)f.push("V",(e=a[b])[1],"H",e[0]);return f.join("")}function be(a){for(var b=
0,c=a.length,e=a[0],f=[e[0],",",e[1]];++b<c;)f.push("H",(e=a[b])[0],"V",e[1]);return f.join("")}function Wc(a,b){if(1>b.length||a.length!=b.length&&a.length!=b.length+2)return Ka(a);var c=a.length!=b.length,e="",f=a[0],g=a[1],k=b[0],n=k,t=1;if(c&&(e+="Q"+(g[0]-2*k[0]/3)+","+(g[1]-2*k[1]/3)+","+g[0]+","+g[1],f=a[1],t=2),1<b.length)for(n=b[1],g=a[t],t++,e+="C"+(f[0]+k[0])+","+(f[1]+k[1])+","+(g[0]-n[0])+","+(g[1]-n[1])+","+g[0]+","+g[1],f=2;f<b.length;f++,t++)g=a[t],n=b[f],e+="S"+(g[0]-n[0])+","+(g[1]-
n[1])+","+g[0]+","+g[1];c&&(c=a[t],e+="Q"+(g[0]+2*n[0]/3)+","+(g[1]+2*n[1]/3)+","+c[0]+","+c[1]);return e}function ce(a,b){for(var c,e=[],f=(1-b)/2,g=a[0],k=a[1],n=1,t=a.length;++n<t;)c=g,g=k,k=a[n],e.push([f*(k[0]-c[0]),f*(k[1]-c[1])]);return e}function ag(a){if(3>a.length)return Ka(a);var b=1,c=a.length,e=a[0],f=e[0],g=e[1],k=[f,f,f,(e=a[1])[0]],n=[g,g,g,e[1]],f=[f,",",g,"L",Ga(fb,k),",",Ga(fb,n)];for(a.push(a[c-1]);++b<=c;)e=a[b],k.shift(),k.push(e[0]),n.shift(),n.push(e[1]),de(f,k,n);return a.pop(),
f.push("L",e),f.join("")}function Ga(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]}function de(a,b,c){a.push("C",Ga(bg,b),",",Ga(bg,c),",",Ga(cg,b),",",Ga(cg,c),",",Ga(fb,b),",",Ga(fb,c))}function ee(a,b){return(b[1]-a[1])/(b[0]-a[0])}function dg(a){for(var b,c,e,f=-1,g=a.length;++f<g;)b=a[f],c=b[0],e=b[1]-ja,b[0]=c*Math.cos(e),b[1]=c*Math.sin(e);return a}function eg(a){function b(b){function t(){E.push("M",n(a(p),l),v,r(a(C.reverse()),l),"Z")}for(var h,B,m,E=[],C=[],p=[],K=-1,q=b.length,Q=
x(c),u=x(f),s=c===e?function(){return B}:x(e),H=f===g?function(){return m}:x(g);++K<q;)k.call(this,h=b[K],K)?(C.push([B=+Q.call(this,h,K),m=+u.call(this,h,K)]),p.push([+s.call(this,h,K),+H.call(this,h,K)])):C.length&&(t(),C=[],p=[]);return C.length&&t(),E.length?E.join(""):null}var c=xb,e=xb,f=0,g=bc,k=Zb,n=Ka,t=n.key,r=n,v="L",l=0.7;return b.x=function(a){return arguments.length?(c=e=a,b):e},b.x0=function(a){return arguments.length?(c=a,b):c},b.x1=function(a){return arguments.length?(e=a,b):e},b.y=
function(a){return arguments.length?(f=g=a,b):g},b.y0=function(a){return arguments.length?(f=a,b):f},b.y1=function(a){return arguments.length?(g=a,b):g},b.defined=function(a){return arguments.length?(k=a,b):k},b.interpolate=function(a){return arguments.length?(t="function"==typeof a?n=a:(n=$d.get(a)||Ka).key,r=n.reverse||n,v=n.closed?"M":"L",b):t},b.tension=function(a){return arguments.length?(l=a,b):l},b}function gi(a){return a.radius}function fg(a){return[a.x,a.y]}function hi(a){return function(){var b=
a.apply(this,arguments),c=b[0],b=b[1]-ja;return[c*Math.cos(b),c*Math.sin(b)]}}function ii(){return 64}function ji(){return"circle"}function gg(a){a=Math.sqrt(a/V);return"M0,"+a+"A"+a+","+a+" 0 1,1 0,"+-a+"A"+a+","+a+" 0 1,1 0,"+a+"Z"}function hg(a){return function(){var b,c,e;(b=this[a])&&(e=b[c=b.active])&&(e.timer.c=null,e.timer.t=NaN,--b.count?delete b[c]:delete this[a],b.active+=0.5,e.event&&e.event.interrupt.call(this,this.__data__,e.index))}}function jc(a,b,c){return oc(a,ma),a.namespace=b,
a.id=c,a}function fe(a,b,c,e){var f=a.id,g=a.namespace;return Da(a,"function"==typeof c?function(a,n,t){a[g][f].tween.set(b,e(c.call(a,a.__data__,n,t)))}:(c=e(c),function(a){a[g][f].tween.set(b,c)}))}function ki(a){return null==a&&(a=""),function(){this.textContent=a}}function ge(a){return null==a?"__transition__":"__transition_"+a+"__"}function Xc(a,b,c,e,f){function g(a){var b=ca.delay;return r.t=b+t,a>=b?k(a-b):void(r.c=k)}function k(c){var f=m.active,g=m[f];g&&(g.timer.c=null,g.timer.t=NaN,--m.count,
delete m[f],g.event&&g.event.interrupt.call(a,a.__data__,g.index));for(var k in m)e>+k&&(f=m[k],f.timer.c=null,f.timer.t=NaN,--m.count,delete m[k]);r.c=n;O(function(){return r.c&&n(c||1)&&(r.c=null,r.t=NaN),1},0,t);m.active=e;ca.event&&ca.event.start.call(a,a.__data__,b);h=[];ca.tween.forEach(function(c,e){(e=e.call(a,a.__data__,b))&&h.push(e)});l=ca.ease;v=ca.duration}function n(f){f/=v;for(var g=l(f),k=h.length;0<k;)h[--k].call(a,g);return 1<=f?(ca.event&&ca.event.end.call(a,a.__data__,b),--m.count?
delete m[e]:delete a[c],1):void 0}var t,r,v,l,h,m=a[c]||(a[c]={active:0,count:0}),ca=m[e];ca||(t=f.time,r=O(g,0,t),ca=m[e]={tween:new ua,time:t,timer:r,delay:f.delay,duration:f.duration,ease:f.ease,index:b},f=null,++m.count)}function li(a,b,c){a.attr("transform",function(a){var f=b(a);return"translate("+(isFinite(f)?f:c(a))+",0)"})}function mi(a,b,c){a.attr("transform",function(a){var f=b(a);return"translate(0,"+(isFinite(f)?f:c(a))+")"})}function he(a){return a.toISOString()}function ie(a,b,c){function e(b){return a(b)}
function f(a,c){var e=(a[1]-a[0])/c,f=l.bisect(Yc,e);return f==Yc.length?[b.year,eb(a.map(function(a){return a/31536E6}),c)[2]]:f?b[e/Yc[f-1]<Yc[f]/e?f-1:f]:[ni,eb(a,c)[2]]}return e.invert=function(b){return ob(a.invert(b))},e.domain=function(b){return arguments.length?(a.domain(b),e):a.domain().map(ob)},e.nice=function(a,b){function c(e){return!isNaN(e)&&!a.range(e,ob(+e+1),b).length}var t=e.domain(),r=Db(t),r=null==a?f(r,10):"number"==typeof a&&f(r,a);return r&&(a=r[0],b=r[1]),e.domain(Sc(t,1<b?
{floor:function(b){for(;c(b=a.floor(b));)b=ob(b-1);return b},ceil:function(b){for(;c(b=a.ceil(b));)b=ob(+b+1);return b}}:a))},e.ticks=function(a,b){var c=Db(e.domain()),t=null==a?f(c,10):"number"==typeof a?f(c,a):!a.range&&[{range:a},b];return t&&(a=t[0],b=t[1]),a.range(c[0],ob(+c[1]+1),1>b?1:b)},e.tickFormat=function(){return c},e.copy=function(){return ie(a.copy(),b,c)},Zd(e,a)}function ob(a){return new Date(a)}function oi(a){return JSON.parse(a.responseText)}function pi(a){var b=qa.createRange();
return b.selectNode(qa.body),b.createContextualFragment(a.responseText)}var l={version:"3.5.13"},ig=[].slice,Oa=function(a){return ig.call(a)},qa=this.document;if(qa)try{Oa(qa.documentElement.childNodes)[0].nodeType}catch(Ni){Oa=function(a){for(var b=a.length,c=Array(b);b--;)c[b]=a[b];return c}}if(Date.now||(Date.now=function(){return+new Date}),qa)try{qa.createElement("DIV").style.setProperty("opacity",0,"")}catch(Oi){var Zc=this.Element.prototype,qi=Zc.setAttribute,ri=Zc.setAttributeNS,jg=this.CSSStyleDeclaration.prototype,
si=jg.setProperty;Zc.setAttribute=function(a,b){qi.call(this,a,b+"")};Zc.setAttributeNS=function(a,b,c){ri.call(this,a,b,c+"")};jg.setProperty=function(a,b,c){si.call(this,a,b+"",c)}}l.ascending=U;l.descending=function(a,b){return a>b?-1:b>a?1:b>=a?0:NaN};l.min=function(a,b){var c,e,f=-1,g=a.length;if(1===arguments.length){for(;++f<g;)if(null!=(e=a[f])&&e>=e){c=e;break}for(;++f<g;)null!=(e=a[f])&&c>e&&(c=e)}else{for(;++f<g;)if(null!=(e=b.call(a,a[f],f))&&e>=e){c=e;break}for(;++f<g;)null!=(e=b.call(a,
a[f],f))&&c>e&&(c=e)}return c};l.max=function(a,b){var c,e,f=-1,g=a.length;if(1===arguments.length){for(;++f<g;)if(null!=(e=a[f])&&e>=e){c=e;break}for(;++f<g;)null!=(e=a[f])&&e>c&&(c=e)}else{for(;++f<g;)if(null!=(e=b.call(a,a[f],f))&&e>=e){c=e;break}for(;++f<g;)null!=(e=b.call(a,a[f],f))&&e>c&&(c=e)}return c};l.extent=function(a,b){var c,e,f,g=-1,k=a.length;if(1===arguments.length){for(;++g<k;)if(null!=(e=a[g])&&e>=e){c=f=e;break}for(;++g<k;)null!=(e=a[g])&&(c>e&&(c=e),e>f&&(f=e))}else{for(;++g<k;)if(null!=
(e=b.call(a,a[g],g))&&e>=e){c=f=e;break}for(;++g<k;)null!=(e=b.call(a,a[g],g))&&(c>e&&(c=e),e>f&&(f=e))}return[c,f]};l.sum=function(a,b){var c,e=0,f=a.length,g=-1;if(1===arguments.length)for(;++g<f;)S(c=+a[g])&&(e+=c);else for(;++g<f;)S(c=+b.call(a,a[g],g))&&(e+=c);return e};l.mean=function(a,b){var c,e=0,f=a.length,g=-1,k=f;if(1===arguments.length)for(;++g<f;)S(c=G(a[g]))?e+=c:--k;else for(;++g<f;)S(c=G(b.call(a,a[g],g)))?e+=c:--k;return k?e/k:void 0};l.quantile=function(a,b){var c=(a.length-1)*
b+1,e=Math.floor(c),f=+a[e-1];return(c-=e)?f+c*(a[e]-f):f};l.median=function(a,b){var c,e=[],f=a.length,g=-1;if(1===arguments.length)for(;++g<f;)S(c=G(a[g]))&&e.push(c);else for(;++g<f;)S(c=G(b.call(a,a[g],g)))&&e.push(c);return e.length?l.quantile(e.sort(U),0.5):void 0};l.variance=function(a,b){var c,e,f=a.length,g=0,k=0,n=-1,t=0;if(1===arguments.length)for(;++n<f;)S(c=G(a[n]))&&(e=c-g,g+=e/++t,k+=e*(c-g));else for(;++n<f;)S(c=G(b.call(a,a[n],n)))&&(e=c-g,g+=e/++t,k+=e*(c-g));return 1<t?k/(t-1):
void 0};l.deviation=function(){var a=l.variance.apply(this,arguments);return a?Math.sqrt(a):a};var kg=la(U);l.bisectLeft=kg.left;l.bisect=l.bisectRight=kg.right;l.bisector=function(a){return la(1===a.length?function(b,c){return U(a(b),c)}:a)};l.shuffle=function(a,b,c){3>(g=arguments.length)&&(c=a.length,2>g&&(b=0));for(var e,f,g=c-b;g;)f=Math.random()*g--|0,e=a[g+b],a[g+b]=a[f+b],a[f+b]=e;return a};l.permute=function(a,b){for(var c=b.length,e=Array(c);c--;)e[c]=a[b[c]];return e};l.pairs=function(a){for(var b=
0,c=a.length-1,e=a[0],f=Array(0>c?0:c);c>b;)f[b]=[e,e=a[++b]];return f};l.zip=function(){if(!(e=arguments.length))return[];for(var a=-1,b=l.min(arguments,oa),c=Array(b);++a<b;)for(var e,f=-1,g=c[a]=Array(e);++f<e;)g[f]=arguments[f][a];return c};l.transpose=function(a){return l.zip.apply(l,a)};l.keys=function(a){var b=[],c;for(c in a)b.push(c);return b};l.values=function(a){var b=[],c;for(c in a)b.push(a[c]);return b};l.entries=function(a){var b=[],c;for(c in a)b.push({key:c,value:a[c]});return b};
l.merge=function(a){var b,c,e,f=a.length;b=-1;for(var g=0;++b<f;)g+=a[b].length;for(c=Array(g);0<=--f;)for(e=a[f],b=e.length;0<=--b;)c[--g]=e[b];return c};var Y=Math.abs;l.range=function(a,b,c){if(3>arguments.length&&(c=1,2>arguments.length&&(b=a,a=0)),(b-a)/c===1/0)throw Error("infinite range");var e,f=[],g;e=Y(c);for(g=1;e*g%1;)g*=10;var k=-1;if(a*=g,b*=g,c*=g,0>c)for(;(e=a+c*++k)>b;)f.push(e/g);else for(;(e=a+c*++k)<b;)f.push(e/g);return f};l.map=function(a,b){var c=new ua;if(a instanceof ua)a.forEach(function(a,
b){c.set(a,b)});else if(Array.isArray(a)){var e,f=-1,g=a.length;if(1===arguments.length)for(;++f<g;)c.set(f,a[f]);else for(;++f<g;)c.set(b.call(a,e=a[f],f),e)}else for(f in a)c.set(f,a[f]);return c};var Cg="__proto__",pd="\x00";ta(ua,{has:Ca,get:function(a){return this._[La(a)]},set:function(a,b){return this._[La(a)]=b},remove:ia,keys:A,values:function(){var a=[],b;for(b in this._)a.push(this._[b]);return a},entries:function(){var a=[],b;for(b in this._)a.push({key:va(b),value:this._[b]});return a},
size:lc,empty:mc,forEach:function(a){for(var b in this._)a.call(this,va(b),this._[b])}});l.nest=function(){function a(b,k,r){if(r>=g.length)return e?e.call(f,k):c?k.sort(c):k;for(var v,l,h,m,ca=-1,B=k.length,M=g[r++],E=new ua;++ca<B;)(m=E.get(v=M(l=k[ca])))?m.push(l):E.set(v,[l]);return b?(l=b(),h=function(c,e){l.set(c,a(b,e,r))}):(l={},h=function(c,e){l[c]=a(b,e,r)}),E.forEach(h),l}function b(a,c){if(c>=g.length)return a;var e=[],f=k[c++];return a.forEach(function(a,f){e.push({key:a,values:b(f,c)})}),
f?e.sort(function(a,b){return f(a.key,b.key)}):e}var c,e,f={},g=[],k=[];return f.map=function(b,c){return a(c,b,0)},f.entries=function(c){return b(a(l.map,c,0),0)},f.key=function(a){return g.push(a),f},f.sortKeys=function(a){return k[g.length-1]=a,f},f.sortValues=function(a){return c=a,f},f.rollup=function(a){return e=a,f},f};l.set=function(a){var b=new R;if(a)for(var c=0,e=a.length;e>c;++c)b.add(a[c]);return b};ta(R,{has:Ca,add:function(a){return this._[La(a+="")]=!0,a},remove:ia,values:A,size:lc,
empty:mc,forEach:function(a){for(var b in this._)a.call(this,va(b))}});l.behavior={};l.rebind=function(a,b){for(var c,e=1,f=arguments.length;++e<f;)a[c=arguments[e]]=s(a,b,b[c]);return a};var re="webkit ms moz Moz o O".split(" ");l.dispatch=function(){for(var a=new Hb,b=-1,c=arguments.length;++b<c;)a[arguments[b]]=nc(a);return a};Hb.prototype.on=function(a,b){var c=a.indexOf("."),e="";if(0<=c&&(e=a.slice(c+1),a=a.slice(0,c)),a)return 2>arguments.length?this[a].on(e):this[a].on(e,b);if(2===arguments.length){if(null==
b)for(a in this)this.hasOwnProperty(a)&&this[a].on(e,null);return this}};l.event=null;l.requote=function(a){return a.replace(ti,"\\$&")};var ti=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,oc={}.__proto__?function(a,b){a.__proto__=b}:function(a,b){for(var c in b)a[c]=b[c]},qd=function(a,b){return b.querySelector(a)},rd=function(a,b){return b.querySelectorAll(a)},ud=function(a,b){var c=a.matches||a[Gb(a,"matchesSelector")];return(ud=function(a,b){return c.call(a,b)})(a,b)};"function"==typeof Sizzle&&(qd=function(a,
b){return Sizzle(a,b)[0]||null},rd=Sizzle,ud=Sizzle.matchesSelector);l.selection=function(){return l.select(qa.documentElement)};var ba=l.selection.prototype=[];ba.select=function(a){var b,c,e,f,g=[];a=Kb(a);for(var k=-1,n=this.length;++k<n;){g.push(b=[]);b.parentNode=(e=this[k]).parentNode;for(var t=-1,r=e.length;++t<r;)(f=e[t])?(b.push(c=a.call(f,f.__data__,t,k)),c&&"__data__"in f&&(c.__data__=f.__data__)):b.push(null)}return Na(g)};ba.selectAll=function(a){var b,c,e=[];a=qb(a);for(var f=-1,g=this.length;++f<
g;)for(var k=this[f],n=-1,t=k.length;++n<t;)(c=k[n])&&(e.push(b=Oa(a.call(c,c.__data__,n,f))),b.parentNode=c);return Na(e)};var je={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};l.ns={prefix:je,qualify:function(a){var b=a.indexOf(":"),c=a;return 0<=b&&"xmlns"!==(c=a.slice(0,b))&&(a=a.slice(b+1)),je.hasOwnProperty(c)?{space:je[c],local:a}:a}};ba.attr=function(a,
b){if(2>arguments.length){if("string"==typeof a){var c=this.node();return a=l.ns.qualify(a),a.local?c.getAttributeNS(a.space,a.local):c.getAttribute(a)}for(b in a)this.each(Lb(b,a[b]));return this}return this.each(Lb(a,b))};ba.classed=function(a,b){if(2>arguments.length){if("string"==typeof a){var c=this.node(),e=(a=(a+"").trim().split(/^|\s+/)).length,f=-1;if(b=c.classList)for(;++f<e;){if(!b.contains(a[f]))return!1}else for(b=c.getAttribute("class");++f<e;)if(!pc(a[f]).test(b))return!1;return!0}for(b in a)this.each(qc(b,
a[b]));return this}return this.each(qc(a,b))};ba.style=function(a,b,c){var e=arguments.length;if(3>e){if("string"!=typeof a){2>e&&(b="");for(c in a)this.each(Nb(c,a[c],b));return this}if(2>e)return e=this.node(),I(e).getComputedStyle(e,null).getPropertyValue(a);c=""}return this.each(Nb(a,b,c))};ba.property=function(a,b){if(2>arguments.length){if("string"==typeof a)return this.node()[a];for(b in a)this.each(Ob(b,a[b]));return this}return this.each(Ob(a,b))};ba.text=function(a){return arguments.length?
this.each("function"==typeof a?function(){var b=a.apply(this,arguments);this.textContent=null==b?"":b}:null==a?function(){this.textContent=""}:function(){this.textContent=a}):this.node().textContent};ba.html=function(a){return arguments.length?this.each("function"==typeof a?function(){var b=a.apply(this,arguments);this.innerHTML=null==b?"":b}:null==a?function(){this.innerHTML=""}:function(){this.innerHTML=a}):this.node().innerHTML};ba.append=function(a){return a=Pb(a),this.select(function(){return this.appendChild(a.apply(this,
arguments))})};ba.insert=function(a,b){return a=Pb(a),b=Kb(b),this.select(function(){return this.insertBefore(a.apply(this,arguments),b.apply(this,arguments)||null)})};ba.remove=function(){return this.each(td)};ba.data=function(a,b){function c(a,c){var e,f,g,k=a.length,l=c.length,h=Math.min(k,l),m=Array(l),p=Array(l),K=Array(k);if(b){var q,h=new ua,Q=Array(k);for(e=-1;++e<k;)(f=a[e])&&(h.has(q=b.call(f,f.__data__,e))?K[e]=f:h.set(q,f),Q[e]=q);for(e=-1;++e<l;)(f=h.get(q=b.call(c,g=c[e],e)))?!0!==f&&
(m[e]=f,f.__data__=g):p[e]={__data__:g},h.set(q,!0);for(e=-1;++e<k;)e in Q&&!0!==h.get(Q[e])&&(K[e]=a[e])}else{for(e=-1;++e<h;)f=a[e],g=c[e],f?(f.__data__=g,m[e]=f):p[e]={__data__:g};for(;l>e;++e)p[e]={__data__:c[e]};for(;k>e;++e)K[e]=a[e]}p.update=m;p.parentNode=m.parentNode=K.parentNode=a.parentNode;n.push(p);t.push(m);r.push(K)}var e,f,g=-1,k=this.length;if(!arguments.length){for(a=Array(k=(e=this[0]).length);++g<k;)(f=e[g])&&(a[g]=f.__data__);return a}var n=Qb([]),t=Na([]),r=Na([]);if("function"==
typeof a)for(;++g<k;)c(e=this[g],a.call(e,e.parentNode.__data__,g));else for(;++g<k;)c(e=this[g],a);return t.enter=function(){return n},t.exit=function(){return r},t};ba.datum=function(a){return arguments.length?this.property("__data__",a):this.property("__data__")};ba.filter=function(a){var b,c,e,f=[];"function"!=typeof a&&(a=rc(a));for(var g=0,k=this.length;k>g;g++){f.push(b=[]);b.parentNode=(c=this[g]).parentNode;for(var n=0,t=c.length;t>n;n++)(e=c[n])&&a.call(e,e.__data__,n,g)&&b.push(e)}return Na(f)};
ba.order=function(){for(var a=-1,b=this.length;++a<b;)for(var c,e=this[a],f=e.length-1,g=e[f];0<=--f;)(c=e[f])&&(g&&g!==c.nextSibling&&g.parentNode.insertBefore(c,g),g=c);return this};ba.sort=function(a){a=sc.apply(this,arguments);for(var b=-1,c=this.length;++b<c;)this[b].sort(a);return this.order()};ba.each=function(a){return Da(this,function(b,c,e){a.call(b,b.__data__,c,e)})};ba.call=function(a){var b=Oa(arguments);return a.apply(b[0]=this,b),this};ba.empty=function(){return!this.node()};ba.node=
function(){for(var a=0,b=this.length;b>a;a++)for(var c=this[a],e=0,f=c.length;f>e;e++){var g=c[e];if(g)return g}return null};ba.size=function(){var a=0;return Da(this,function(){++a}),a};var Ta=[];l.selection.enter=Qb;l.selection.enter.prototype=Ta;Ta.append=ba.append;Ta.empty=ba.empty;Ta.node=ba.node;Ta.call=ba.call;Ta.size=ba.size;Ta.select=function(a){for(var b,c,e,f,g,k=[],n=-1,t=this.length;++n<t;){e=(f=this[n]).update;k.push(b=[]);b.parentNode=f.parentNode;for(var r=-1,v=f.length;++r<v;)(g=
f[r])?(b.push(e[r]=c=a.call(f.parentNode,g.__data__,r,n)),c.__data__=g.__data__):b.push(null)}return Na(k)};Ta.insert=function(a,b){return 2>arguments.length&&(b=Rb(this)),ba.insert.call(this,a,b)};l.select=function(a){var b;return"string"==typeof a?(b=[qd(a,qa)],b.parentNode=qa.documentElement):(b=[a],b.parentNode=a&&(a.ownerDocument||a.document||a).documentElement),Na([b])};l.selectAll=function(a){var b;return"string"==typeof a?(b=Oa(rd(a,qa)),b.parentNode=qa.documentElement):(b=Oa(a),b.parentNode=
null),Na([b])};ba.on=function(a,b,c){var e=arguments.length;if(3>e){if("string"!=typeof a){2>e&&(b=!1);for(c in a)this.each(rb(c,a[c],b));return this}if(2>e)return(e=this.node()["__on"+a])&&e._;c=!1}return this.each(rb(a,b,c))};var vd=l.map({mouseenter:"mouseover",mouseleave:"mouseout"});qa&&vd.forEach(function(a){"on"+a in qa&&vd.remove(a)});var gb,Dg=0;l.mouse=function(a){return Za(a,Ib())};var wd=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;l.touch=function(a,b,c){if(3>arguments.length&&
(c=b,b=Ib().changedTouches),b)for(var e,f=0,g=b.length;g>f;++f)if((e=b[f]).identifier===c)return Za(a,e)};l.behavior.drag=function(){function a(){this.on("mousedown.drag",f).on("touchstart.drag",g)}function b(a,b,f,g,v){return function(){var h,z=l.event.target,m=this.parentNode,p=c.of(this,arguments),B=0,M=a(),E=".drag"+(null==M?"":"-"+M),C=l.select(f(z)).on(g+E,function(){var a,c,e=b(m,M);e&&(a=e[0]-K[0],c=e[1]-K[1],B|=a|c,K=e,p({type:"drag",x:e[0]+h[0],y:e[1]+h[1],dx:a,dy:c}))}).on(v+E,function(){b(m,
M)&&(C.on(g+E,null).on(v+E,null),q(B),p({type:"dragend"}))}),q=Ua(z),K=b(m,M);e?(h=e.apply(this,arguments),h=[h.x-K[0],h.y-K[1]]):h=[0,0];p({type:"dragstart"})}}var c=Jb(a,"drag","dragstart","dragend"),e=null,f=b(ea,l.mouse,I,"mousemove","mouseup"),g=b(tc,l.touch,aa,"touchmove","touchend");return a.origin=function(b){return arguments.length?(e=b,a):e},l.rebind(a,c,"on")};l.touches=function(a,b){return 2>arguments.length&&(b=Ib().touches),b?Oa(b).map(function(b){var e=Za(a,b);return e.identifier=b.identifier,
e}):[]};var N=1E-6,Nc=N*N,V=Math.PI,Ba=2*V,ui=Ba-N,ja=V/2,X=V/180,ha=180/V,kc=Math.SQRT2;l.interpolateZoom=function(a,b){var c,e,f=a[0],g=a[1],k=a[2],n=b[2],t=b[0]-f,r=b[1]-g,v=t*t+r*r;if(Nc>v)e=Math.log(n/k)/kc,c=function(a){return[f+a*t,g+a*r,k*Math.exp(kc*a*e)]};else{var l=Math.sqrt(v);c=(n*n-k*k+4*v)/(4*k*l);var n=(n*n-k*k-4*v)/(4*n*l),h=Math.log(Math.sqrt(c*c+1)-c);e=(Math.log(Math.sqrt(n*n+1)-n)-h)/kc;c=function(a){a*=e;var b=Ub(h),c=k/(2*l),n,v=kc*a+h;n=((v=Math.exp(2*v))-1)/(v+1);n*=b;var m=
h,v=((m=Math.exp(m))-1/m)/2,c=c*(n-v);return[f+c*t,g+c*r,k*b/Ub(kc*a+h)]}}return c.duration=1E3*e,c};l.behavior.zoom=function(){function a(a){a.on(w,r).on(ke+".zoom",h).on("dblclick.zoom",z).on(Z,v)}function b(a){return[(a[0]-Q.x)/Q.k,(a[1]-Q.y)/Q.k]}function c(a){Q.k=Math.max(H[0],Math.min(H[1],a))}function e(a,b){b=[b[0]*Q.k+Q.x,b[1]*Q.k+Q.y];Q.x+=a[0]-b[0];Q.y+=a[1]-b[1]}function f(b,f,g,k){b.__chart__={x:Q.x,y:Q.y,k:Q.k};c(Math.pow(2,k));e(p=f,g);b=l.select(b);0<x&&(b=b.transition().duration(x));
b.call(a.event)}function g(){q&&q.domain(C.range().map(function(a){return(a-Q.x)/Q.k}).map(C.invert));u&&u.domain(K.range().map(function(a){return(a-Q.y)/Q.k}).map(K.invert))}function k(a){y++||a({type:"zoomstart"})}function n(a){g();a({type:"zoom",scale:Q.k,translate:[Q.x,Q.y]})}function t(a){--y||(a({type:"zoomend"}),p=null)}function r(){var a=this,c=F.of(a,arguments),f=0,g=l.select(I(a)).on(D,function(){f=1;e(l.mouse(a),r);n(c)}).on(J,function(){g.on(D,null).on(J,null);v(f);t(c)}),r=b(l.mouse(a)),
v=Ua(a);$c.call(a);k(c)}function v(){function a(){var c=l.touches(m);return L=Q.k,c.forEach(function(a){a.identifier in C&&(C[a.identifier]=b(a))}),c}function g(){var b=l.event.target;l.select(b).on(K,h).on(q,z);ca.push(b);for(var b=l.event.changedTouches,c=0,e=b.length;e>c;++c)C[b[c].identifier]=null;c=a();e=Date.now();1===c.length?(500>e-E&&(b=c[0],f(m,b,C[b.identifier],Math.floor(Math.log(Q.k)/Math.LN2)+1),Ma()),E=e):1<c.length&&(b=c[0],e=c[1],c=b[0]-e[0],b=b[1]-e[1],p=c*c+b*b)}function h(){var a,
b,f,g,k=l.touches(m);$c.call(m);for(var r=0,t=k.length;t>r;++r,g=null)if(f=k[r],g=C[f.identifier]){if(b)break;a=f;b=g}if(g){var v=(v=f[0]-a[0])*v+(v=f[1]-a[1])*v,k=p&&Math.sqrt(v/p);a=[(a[0]+f[0])/2,(a[1]+f[1])/2];b=[(b[0]+g[0])/2,(b[1]+g[1])/2];c(k*L)}E=null;e(a,b);n(B)}function z(){if(l.event.touches.length){for(var b=l.event.changedTouches,c=0,e=b.length;e>c;++c)delete C[b[c].identifier];for(var f in C)return void a()}l.selectAll(ca).on(M,null);u.on(w,r).on(Z,v);da();t(B)}var L,m=this,B=F.of(m,
arguments),C={},p=0,M=".zoom-"+l.event.changedTouches[0].identifier,K="touchmove"+M,q="touchend"+M,ca=[],u=l.select(m),da=Ua(m);g();k(B);u.on(w,null).on(Z,g)}function h(){var a=F.of(this,arguments);M?clearTimeout(M):($c.call(this),m=b(p=B||l.mouse(this)),k(a));M=setTimeout(function(){M=null;t(a)},50);Ma();c(Math.pow(2,0.002*ad())*Q.k);e(p,m);n(a)}function z(){var a=l.mouse(this),c=Math.log(Q.k)/Math.LN2;f(this,a,b(a),l.event.shiftKey?Math.ceil(c)-1:Math.floor(c)+1)}var m,p,B,M,E,C,q,K,u,Q={x:0,y:0,
k:1},s=[960,500],H=lg,x=250,y=0,w="mousedown.zoom",D="mousemove.zoom",J="mouseup.zoom",Z="touchstart.zoom",F=Jb(a,"zoomstart","zoom","zoomend");return ke||(ke="onwheel"in qa?(ad=function(){return-l.event.deltaY*(l.event.deltaMode?120:1)},"wheel"):"onmousewheel"in qa?(ad=function(){return l.event.wheelDelta},"mousewheel"):(ad=function(){return-l.event.detail},"MozMousePixelScroll")),a.event=function(a){a.each(function(){var a=F.of(this,arguments),b=Q;pb?l.select(this).transition().each("start.zoom",
function(){Q=this.__chart__||{x:0,y:0,k:1};k(a)}).tween("zoom:zoom",function(){var c=s[0],e=s[1],f=p?p[0]:c/2,g=p?p[1]:e/2,k=l.interpolateZoom([(f-Q.x)/Q.k,(g-Q.y)/Q.k,c/Q.k],[(f-b.x)/b.k,(g-b.y)/b.k,c/b.k]);return function(b){b=k(b);var e=c/b[2];this.__chart__=Q={x:f-b[0]*e,y:g-b[1]*e,k:e};n(a)}}).each("interrupt.zoom",function(){t(a)}).each("end.zoom",function(){t(a)}):(this.__chart__=Q,k(a),n(a),t(a))})},a.translate=function(b){return arguments.length?(Q={x:+b[0],y:+b[1],k:Q.k},g(),a):[Q.x,Q.y]},
a.scale=function(b){return arguments.length?(Q={x:Q.x,y:Q.y,k:null},c(+b),g(),a):Q.k},a.scaleExtent=function(b){return arguments.length?(H=null==b?lg:[+b[0],+b[1]],a):H},a.center=function(b){return arguments.length?(B=b&&[+b[0],+b[1]],a):B},a.size=function(b){return arguments.length?(s=b&&[+b[0],+b[1]],a):s},a.duration=function(b){return arguments.length?(x=+b,a):x},a.x=function(b){return arguments.length?(q=b,C=b.copy(),Q={x:0,y:0,k:1},a):q},a.y=function(b){return arguments.length?(u=b,K=b.copy(),
Q={x:0,y:0,k:1},a):u},l.rebind(a,F,"on")};var ad,ke,lg=[0,1/0];l.color=Pa;Pa.prototype.toString=function(){return this.rgb()+""};l.hsl=wa;var le=wa.prototype=new Pa;le.brighter=function(a){return a=Math.pow(0.7,arguments.length?a:1),new wa(this.h,this.s,this.l/a)};le.darker=function(a){return a=Math.pow(0.7,arguments.length?a:1),new wa(this.h,this.s,a*this.l)};le.rgb=function(){return ub(this.h,this.s,this.l)};l.hcl=ra;var me=ra.prototype=new Pa;me.brighter=function(a){return new ra(this.h,this.c,
Math.min(100,this.l+bd*(arguments.length?a:1)))};me.darker=function(a){return new ra(this.h,this.c,Math.max(0,this.l-bd*(arguments.length?a:1)))};me.rgb=function(){return za(this.h,this.c,this.l).rgb()};l.lab=xa;var bd=18,se=0.95047,te=1,ue=1.08883,ne=xa.prototype=new Pa;ne.brighter=function(a){return new xa(Math.min(100,this.l+bd*(arguments.length?a:1)),this.a,this.b)};ne.darker=function(a){return new xa(Math.max(0,this.l-bd*(arguments.length?a:1)),this.a,this.b)};ne.rgb=function(){return Vb(this.l,
this.a,this.b)};l.rgb=p;var cd=p.prototype=new Pa;cd.brighter=function(a){a=Math.pow(0.7,arguments.length?a:1);var b=this.r,c=this.g,e=this.b;return b||c||e?(b&&30>b&&(b=30),c&&30>c&&(c=30),e&&30>e&&(e=30),new p(Math.min(255,b/a),Math.min(255,c/a),Math.min(255,e/a))):new p(30,30,30)};cd.darker=function(a){return a=Math.pow(0.7,arguments.length?a:1),new p(a*this.r,a*this.g,a*this.b)};cd.hsl=function(){return y(this.r,this.g,this.b)};cd.toString=function(){return"#"+u(this.r)+u(this.g)+u(this.b)};var uc=
l.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,
darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,
hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,
linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,
palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,
turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});uc.forEach(function(a,b){uc.set(a,new p(b>>16,b>>8&255,255&b))});l.functor=x;l.xhr=na(aa);l.dsv=function(a,b){function c(a,c,g){3>arguments.length&&(g=c,c=null);var k=J(a,b,null==c?e:f(c),g);return k.row=function(a){return arguments.length?k.response(null==(c=a)?e:f(a)):c},k}function e(a){return c.parse(a.responseText)}function f(a){return function(b){return c.parse(b.responseText,
a)}}function g(b){return b.map(k).join(a)}function k(a){return n.test(a)?'"'+a.replace(/\"/g,'""')+'"':a}var n=RegExp('["'+a+"\n]"),t=a.charCodeAt(0);return c.parse=function(a,b){var e;return c.parseRows(a,function(a,c){if(e)return e(a,c-1);var f=new Function("d","return {"+a.map(function(a,b){return JSON.stringify(a)+": d["+b+"]"}).join(",")+"}");e=b?function(a,c){return b(f(a),c)}:f})},c.parseRows=function(a,b){function c(){if(h>=l)return k;if(f)return f=!1,g;var b=h;if(34===a.charCodeAt(b)){for(var e=
b;e++<l;)if(34===a.charCodeAt(e)){if(34!==a.charCodeAt(e+1))break;++e}h=e+2;var n=a.charCodeAt(e+1);return 13===n?(f=!0,10===a.charCodeAt(e+2)&&++h):10===n&&(f=!0),a.slice(b+1,e).replace(/""/g,'"')}for(;l>h;){n=a.charCodeAt(h++);e=1;if(10===n)f=!0;else if(13===n)f=!0,10===a.charCodeAt(h)&&(++h,++e);else if(n!==t)continue;return a.slice(b,h-e)}return a.slice(b)}for(var e,f,g={},k={},n=[],l=a.length,h=0,m=0;(e=c())!==k;){for(var p=[];e!==g&&e!==k;)p.push(e),e=c();b&&null==(p=b(p,m++))||n.push(p)}return n},
c.format=function(b){if(Array.isArray(b[0]))return c.formatRows(b);var e=new R,f=[];return b.forEach(function(a){for(var b in a)e.has(b)||f.push(e.add(b))}),[f.map(k).join(a)].concat(b.map(function(b){return f.map(function(a){return k(b[a])}).join(a)})).join("\n")},c.formatRows=function(a){return a.map(g).join("\n")},c};l.csv=l.dsv(",","text/csv");l.tsv=l.dsv("\t","text/tab-separated-values");var wc,vc,xc,yc,ve=this[Gb(this,"requestAnimationFrame")]||function(a){setTimeout(a,17)};l.timer=function(){O.apply(this,
arguments)};l.timer.flush=function(){we();$()};l.round=function(a,b){return b?Math.round(a*(b=Math.pow(10,b)))/b:Math.round(a)};var vi="y z a f p n \u00b5 m  k M G T P E Z Y".split(" ").map(function(a,b){var c=Math.pow(10,3*Y(8-b));return{scale:8<b?function(a){return a/c}:function(a){return a*c},symbol:a}});l.formatPrefix=function(a,b){var c=0;return(a=+a)&&(0>a&&(a*=-1),b&&(a=l.round(a,Z(a,b))),c=1+Math.floor(1E-12+Math.log(a)/Math.LN10),c=Math.max(-24,Math.min(24,3*Math.floor((c-1)/3)))),vi[8+c/
3]};var xe=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Eg=l.map({b:function(a){return a.toString(2)},c:function(a){return String.fromCharCode(a)},o:function(a){return a.toString(8)},x:function(a){return a.toString(16)},X:function(a){return a.toString(16).toUpperCase()},g:function(a,b){return a.toPrecision(b)},e:function(a,b){return a.toExponential(b)},f:function(a,b){return a.toFixed(b)},r:function(a,b){return(a=l.round(a,Z(a,b))).toFixed(Math.max(0,Math.min(20,Z(a*(1+
1E-15),b))))}}),P=l.time={},pa=Date;fa.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},
getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Ya.setUTCDate.apply(this._,arguments)},setDay:function(){Ya.setUTCDay.apply(this._,arguments)},setFullYear:function(){Ya.setUTCFullYear.apply(this._,arguments)},setHours:function(){Ya.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Ya.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Ya.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Ya.setUTCMonth.apply(this._,
arguments)},setSeconds:function(){Ya.setUTCSeconds.apply(this._,arguments)},setTime:function(){Ya.setTime.apply(this._,arguments)}};var Ya=Date.prototype;P.year=ib(function(a){return a=P.day(a),a.setMonth(0,1),a},function(a,b){a.setFullYear(a.getFullYear()+b)},function(a){return a.getFullYear()});P.years=P.year.range;P.years.utc=P.year.utc.range;P.day=ib(function(a){var b=new pa(2E3,0);return b.setFullYear(a.getFullYear(),a.getMonth(),a.getDate()),b},function(a,b){a.setDate(a.getDate()+b)},function(a){return a.getDate()-
1});P.days=P.day.range;P.days.utc=P.day.utc.range;P.dayOfYear=function(a){var b=P.year(a);return Math.floor((a-b-6E4*(a.getTimezoneOffset()-b.getTimezoneOffset()))/864E5)};"sunday monday tuesday wednesday thursday friday saturday".split(" ").forEach(function(a,b){b=7-b;var c=P[a]=ib(function(a){return(a=P.day(a)).setDate(a.getDate()-(a.getDay()+b)%7),a},function(a,b){a.setDate(a.getDate()+7*Math.floor(b))},function(a){var c=P.year(a).getDay();return Math.floor((P.dayOfYear(a)+(c+b)%7)/7)-(c!==b)});
P[a+"s"]=c.range;P[a+"s"].utc=c.utc.range;P[a+"OfYear"]=function(a){var c=P.year(a).getDay();return Math.floor((P.dayOfYear(a)+(c+b)%7)/7)}});P.week=P.sunday;P.weeks=P.sunday.range;P.weeks.utc=P.sunday.utc.range;P.weekOfYear=P.sundayOfYear;var ye={"-":"",_:" ",0:"0"},ka=/^\s*\d+/,Be=/^%/;l.locale=function(a){return{numberFormat:ga(a),timeFormat:Fg(a)}};var mg=l.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM",
"PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});l.format=mg.numberFormat;l.geo={};yd.prototype={s:0,t:0,add:function(a){Ce(a,this.t,dd);Ce(dd.s,this.s,this);this.s?this.t+=dd.t:this.s=dd.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};
var dd=new yd;l.geo.stream=function(a,b){a&&ng.hasOwnProperty(a.type)?ng[a.type](a,b):Cc(a,b)};var ng={Feature:function(a,b){Cc(a.geometry,b)},FeatureCollection:function(a,b){for(var c=a.features,e=-1,f=c.length;++e<f;)Cc(c[e].geometry,b)}},De={Sphere:function(a,b){b.sphere()},Point:function(a,b){a=a.coordinates;b.point(a[0],a[1],a[2])},MultiPoint:function(a,b){for(var c=a.coordinates,e=-1,f=c.length;++e<f;)a=c[e],b.point(a[0],a[1],a[2])},LineString:function(a,b){zd(a.coordinates,b,0)},MultiLineString:function(a,
b){for(var c=a.coordinates,e=-1,f=c.length;++e<f;)zd(c[e],b,0)},Polygon:function(a,b){Ee(a.coordinates,b)},MultiPolygon:function(a,b){for(var c=a.coordinates,e=-1,f=c.length;++e<f;)Ee(c[e],b)},GeometryCollection:function(a,b){for(var c=a.geometries,e=-1,f=c.length;++e<f;)Cc(c[e],b)}};l.geo.area=function(a){return Eb=0,l.geo.stream(a,Aa),Eb};var Eb,jb=new yd,Aa={sphere:function(){Eb+=4*V},point:ea,lineStart:ea,lineEnd:ea,polygonStart:function(){jb.reset();Aa.lineStart=Ug},polygonEnd:function(){var a=
2*jb;Eb+=0>a?4*V+a:a;Aa.lineStart=Aa.lineEnd=Aa.point=ea}};l.geo.bounds=function(){function a(a,b){q.push(K=[v=a,z=a]);h>b&&(h=b);b>m&&(m=b)}function b(b,c){var e=kb([b*X,c*X]);if(E){var f=vb(E,e),f=vb([f[1],-f[0],0],f);Fc(f);var f=Gc(f),g=b-p,k=0<g?1:-1,r=f[0]*ha*k,g=180<Y(g);g^(r>k*p&&k*b>r)?(f=f[1]*ha,f>m&&(m=f)):(r=(r+360)%360-180,g^(r>k*p&&k*b>r))?(f=-f[1]*ha,h>f&&(h=f)):(h>c&&(h=c),c>m&&(m=c));g?p>b?n(v,b)>n(v,z)&&(z=b):n(b,z)>n(v,z)&&(v=b):z>=v?(v>b&&(v=b),b>z&&(z=b)):b>p?n(v,b)>n(v,z)&&(z=
b):n(b,z)>n(v,z)&&(v=b)}else a(b,c);E=e;p=b}function c(){u.point=b}function e(){K[0]=v;K[1]=z;u.point=a;E=null}function f(a,c){if(E){var e=a-p;C+=180<Y(e)?e+(0<e?360:-360):e}else B=a,M=c;Aa.point(a,c);b(a,c)}function g(){Aa.lineStart()}function k(){f(B,M);Aa.lineEnd();Y(C)>N&&(v=-(z=180));K[0]=v;K[1]=z;E=null}function n(a,b){return 0>(b-=a)?b+360:b}function t(a,b){return a[0]-b[0]}function r(a,b){return b[0]<=b[1]?b[0]<=a&&a<=b[1]:a<b[0]||b[1]<a}var v,h,z,m,p,B,M,E,C,q,K,u={point:a,lineStart:c,lineEnd:e,
polygonStart:function(){u.point=f;u.lineStart=g;u.lineEnd=k;C=0;Aa.polygonStart()},polygonEnd:function(){Aa.polygonEnd();u.point=a;u.lineStart=c;u.lineEnd=e;0>jb?(v=-(z=180),h=-(m=90)):C>N?m=90:-N>C&&(h=-90);K[0]=v;K[1]=z}};return function(a){m=z=-(v=h=1/0);q=[];l.geo.stream(a,u);if(a=q.length){q.sort(t);for(var b,c=1,e=q[0],f=[e];a>c;++c)b=q[c],r(b[0],e)||r(b[1],e)?(n(e[0],b[1])>n(e[0],e[1])&&(e[1]=b[1]),n(b[0],e[1])>n(e[0],e[1])&&(e[0]=b[0])):f.push(e=b);var g,k=-(1/0);a=f.length-1;c=0;for(e=f[a];a>=
c;e=b,++c)b=f[c],(g=n(e[1],b[0]))>k&&(k=g,v=b[0],z=e[1])}return q=K=null,v===1/0||h===1/0?[[NaN,NaN],[NaN,NaN]]:[[v,h],[z,m]]}}();l.geo.centroid=function(a){Yb=wb=Va=Wa=Qa=Ea=Fa=ya=ab=bb=Ra=0;l.geo.stream(a,Ia);a=ab;var b=bb,c=Ra,e=a*a+b*b+c*c;return Nc>e&&(a=Ea,b=Fa,c=ya,N>wb&&(a=Va,b=Wa,c=Qa),e=a*a+b*b+c*c,Nc>e)?[NaN,NaN]:[Math.atan2(b,a)*ha,Ha(c/Math.sqrt(e))*ha]};var Yb,wb,Va,Wa,Qa,Ea,Fa,ya,ab,bb,Ra,Ia={sphere:ea,point:Bd,lineStart:Fe,lineEnd:Ge,polygonStart:function(){Ia.lineStart=Vg},polygonEnd:function(){Ia.lineStart=
Fe}},We=Ke(Zb,function(a){var b,c=NaN,e=NaN,f=NaN;return{lineStart:function(){a.lineStart();b=1},point:function(g,k){var n=0<g?V:-V,t=Y(g-c);if(Y(t-V)<N)a.point(c,e=0<(e+k)/2?ja:-ja),a.point(f,e),a.lineEnd(),a.lineStart(),a.point(n,e),a.point(g,e),b=0;else if(f!==n&&t>=V){Y(c-f)<N&&(c-=f*N);Y(g-n)<N&&(g-=n*N);var t=c,r=e,v=g,l,h,m=Math.sin(t-v);e=Y(m)>N?Math.atan((Math.sin(r)*(h=Math.cos(k))*Math.sin(v)-Math.sin(k)*(l=Math.cos(r))*Math.sin(t))/(l*h*m)):(r+k)/2;a.point(f,e);a.lineEnd();a.lineStart();
a.point(n,e);b=0}a.point(c=g,e=k);f=n},lineEnd:function(){a.lineEnd();c=e=NaN},clean:function(){return 2-b}}},function(a,b,c,e){null==a?(c*=ja,e.point(-V,c),e.point(0,c),e.point(V,c),e.point(V,0),e.point(V,-c),e.point(0,-c),e.point(-V,-c),e.point(-V,0),e.point(-V,c)):Y(a[0]-b[0])>N?(a=a[0]<b[0]?V:-V,c=c*a/2,e.point(-a,c),e.point(0,c),e.point(a,c)):e.point(b[0],b[1])},[-V,-V/2]),Jc=1E9;l.geo.clipExtent=function(){var a,b,c,e,f,g,k={stream:function(a){return f&&(f.valid=!1),f=g(a),f.valid=!0,f},extent:function(n){return arguments.length?
(g=Ne(a=+n[0][0],b=+n[0][1],c=+n[1][0],e=+n[1][1]),f&&(f.valid=!1,f=null),k):[[a,b],[c,e]]}};return k.extent([[0,0],[960,500]])};(l.geo.conicEqualArea=function(){return Dd(Oe)}).raw=Oe;l.geo.albers=function(){return l.geo.conicEqualArea().rotate([96,0]).center([-0.6,38.7]).parallels([29.5,45.5]).scale(1070)};l.geo.albersUsa=function(){function a(a){var g=a[0];a=a[1];return b=null,c(g,a),b||(e(g,a),b)||f(g,a),b}var b,c,e,f,g=l.geo.albers(),k=l.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,
65]),n=l.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),t={point:function(a,c){b=[a,c]}};return a.invert=function(a){var b=g.scale(),c=g.translate(),e=(a[0]-c[0])/b,b=(a[1]-c[1])/b;return(0.12<=b&&0.234>b&&-0.425<=e&&-0.214>e?k:0.166<=b&&0.234>b&&-0.214<=e&&-0.115>e?n:g).invert(a)},a.stream=function(a){var b=g.stream(a),c=k.stream(a),e=n.stream(a);return{point:function(a,f){b.point(a,f);c.point(a,f);e.point(a,f)},sphere:function(){b.sphere();c.sphere();e.sphere()},lineStart:function(){b.lineStart();
c.lineStart();e.lineStart()},lineEnd:function(){b.lineEnd();c.lineEnd();e.lineEnd()},polygonStart:function(){b.polygonStart();c.polygonStart();e.polygonStart()},polygonEnd:function(){b.polygonEnd();c.polygonEnd();e.polygonEnd()}}},a.precision=function(b){return arguments.length?(g.precision(b),k.precision(b),n.precision(b),a):g.precision()},a.scale=function(b){return arguments.length?(g.scale(b),k.scale(0.35*b),n.scale(b),a.translate(g.translate())):g.scale()},a.translate=function(b){if(!arguments.length)return g.translate();
var l=g.scale(),h=+b[0],z=+b[1];return c=g.translate(b).clipExtent([[h-0.455*l,z-0.238*l],[h+0.455*l,z+0.238*l]]).stream(t).point,e=k.translate([h-0.307*l,z+0.201*l]).clipExtent([[h-0.425*l+N,z+0.12*l+N],[h-0.214*l-N,z+0.234*l-N]]).stream(t).point,f=n.translate([h-0.205*l,z+0.212*l]).clipExtent([[h-0.214*l+N,z+0.166*l+N],[h-0.115*l-N,z+0.234*l-N]]).stream(t).point,a},a.scale(1070)};var ed,Kc,fd,gd,hd,id,cb={point:ea,lineStart:ea,lineEnd:ea,polygonStart:function(){Kc=0;cb.lineStart=Zg},polygonEnd:function(){cb.lineStart=
cb.lineEnd=cb.point=ea;ed+=Y(Kc/2)}},wi={point:function(a,b){fd>a&&(fd=a);a>hd&&(hd=a);gd>b&&(gd=b);b>id&&(id=b)},lineStart:ea,lineEnd:ea,polygonStart:ea,polygonEnd:ea},Ja={point:lb,lineStart:Qe,lineEnd:Re,polygonStart:function(){Ja.lineStart=ah},polygonEnd:function(){Ja.point=lb;Ja.lineStart=Qe;Ja.lineEnd=Re}};l.geo.path=function(){function a(a){return a&&("function"==typeof k&&f.pointRadius(+k.apply(this,arguments)),g&&g.valid||(g=e(f)),l.geo.stream(a,g)),f.result()}var b,c,e,f,g,k=4.5;return a.area=
function(a){return ed=0,l.geo.stream(a,e(cb)),ed},a.centroid=function(a){return Va=Wa=Qa=Ea=Fa=ya=ab=bb=Ra=0,l.geo.stream(a,e(Ja)),Ra?[ab/Ra,bb/Ra]:ya?[Ea/ya,Fa/ya]:Qa?[Va/Qa,Wa/Qa]:[NaN,NaN]},a.bounds=function(a){return hd=id=-(fd=gd=1/0),l.geo.stream(a,e(wi)),[[fd,gd],[hd,id]]},a.projection=function(c){return arguments.length?(e=(b=c)?c.stream||ch(c):aa,g=null,a):b},a.context=function(b){return arguments.length?(f=null==(c=b)?new $g:new bh(b),"function"!=typeof k&&f.pointRadius(k),g=null,a):c},
a.pointRadius=function(b){return arguments.length?(k="function"==typeof b?b:(f.pointRadius(+b),+b),a):k},a.projection(l.geo.albersUsa()).context(null)};l.geo.transform=function(a){return{stream:function(b){b=new Ve(b);for(var c in a)b[c]=a[c];return b}}};Ve.prototype={point:function(a,b){this.stream.point(a,b)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};
l.geo.projection=db;l.geo.projectionMutator=Ed;(l.geo.equirectangular=function(){return db($b)}).raw=$b.invert=$b;l.geo.rotation=function(a){function b(b){return b=a(b[0]*X,b[1]*X),b[0]*=ha,b[1]*=ha,b}return a=Fd(a[0]%360*X,a[1]*X,2<a.length?a[2]*X:0),b.invert=function(b){return b=a.invert(b[0]*X,b[1]*X),b[0]*=ha,b[1]*=ha,b},b};Xe.invert=$b;l.geo.circle=function(){function a(){var a="function"==typeof e?e.apply(this,arguments):e,b=Fd(-a[0]*X,-a[1]*X,0).invert,f=[];return c(null,null,1,{point:function(a,
c){f.push(a=b(a,c));a[0]*=ha;a[1]*=ha}}),{type:"Polygon",coordinates:[f]}}var b,c,e=[0,0],f=6;return a.origin=function(b){return arguments.length?(e=b,a):e},a.angle=function(e){return arguments.length?(c=Cd((b=+e)*X,f*X),a):b},a.precision=function(e){return arguments.length?(c=Cd(b*X,(f=+e)*X),a):f},a.angle(90)};l.geo.distance=function(a,b){var c,e=(b[0]-a[0])*X,f=a[1]*X,g=b[1]*X,k=Math.sin(e),e=Math.cos(e),n=Math.sin(f),f=Math.cos(f),t=Math.sin(g),g=Math.cos(g);return Math.atan2(Math.sqrt((c=g*k)*
c+(c=f*t-n*g*e)*c),n*t+f*g*e)};l.geo.graticule=function(){function a(){return{type:"MultiLineString",coordinates:b()}}function b(){return l.range(Math.ceil(g/M)*M,f,M).map(z).concat(l.range(Math.ceil(r/E)*E,t,E).map(p)).concat(l.range(Math.ceil(e/q)*q,c,q).filter(function(a){return Y(a%M)>N}).map(h)).concat(l.range(Math.ceil(n/B)*B,k,B).filter(function(a){return Y(a%E)>N}).map(m))}var c,e,f,g,k,n,t,r,h,m,z,p,q=10,B=q,M=90,E=360,C=2.5;return a.lines=function(){return b().map(function(a){return{type:"LineString",
coordinates:a}})},a.outline=function(){return{type:"Polygon",coordinates:[z(g).concat(p(t).slice(1),z(f).reverse().slice(1),p(r).reverse().slice(1))]}},a.extent=function(b){return arguments.length?a.majorExtent(b).minorExtent(b):a.minorExtent()},a.majorExtent=function(b){return arguments.length?(g=+b[0][0],f=+b[1][0],r=+b[0][1],t=+b[1][1],g>f&&(b=g,g=f,f=b),r>t&&(b=r,r=t,t=b),a.precision(C)):[[g,r],[f,t]]},a.minorExtent=function(b){return arguments.length?(e=+b[0][0],c=+b[1][0],n=+b[0][1],k=+b[1][1],
e>c&&(b=e,e=c,c=b),n>k&&(b=n,n=k,k=b),a.precision(C)):[[e,n],[c,k]]},a.step=function(b){return arguments.length?a.majorStep(b).minorStep(b):a.minorStep()},a.majorStep=function(b){return arguments.length?(M=+b[0],E=+b[1],a):[M,E]},a.minorStep=function(b){return arguments.length?(q=+b[0],B=+b[1],a):[q,B]},a.precision=function(b){return arguments.length?(C=+b,h=bf(n,k,90),m=cf(e,c,C),z=bf(r,t,90),p=cf(g,f,C),a):C},a.majorExtent([[-180,-90+N],[180,90-N]]).minorExtent([[-180,-80-N],[180,80+N]])};l.geo.greatArc=
function(){function a(){return{type:"LineString",coordinates:[b||e.apply(this,arguments),c||f.apply(this,arguments)]}}var b,c,e=Gd,f=Hd;return a.distance=function(){return l.geo.distance(b||e.apply(this,arguments),c||f.apply(this,arguments))},a.source=function(c){return arguments.length?(e=c,b="function"==typeof c?null:c,a):e},a.target=function(b){return arguments.length?(f=b,c="function"==typeof b?null:b,a):f},a.precision=function(){return arguments.length?a:0},a};l.geo.interpolate=function(a,b){return dh(a[0]*
X,a[1]*X,b[0]*X,b[1]*X)};l.geo.length=function(a){return jd=0,l.geo.stream(a,Fb),jd};var jd,Fb={sphere:ea,point:ea,lineStart:function(){function a(a,g){var k=Math.sin(g*=X),n=Math.cos(g),t=Y((a*=X)-b),r=Math.cos(t);jd+=Math.atan2(Math.sqrt((t=n*Math.sin(t))*t+(t=e*k-c*n*r)*t),c*k+e*n*r);b=a;c=k;e=n}var b,c,e;Fb.point=function(f,g){b=f*X;c=Math.sin(g*=X);e=Math.cos(g);Fb.point=a};Fb.lineEnd=function(){Fb.point=Fb.lineEnd=ea}},lineEnd:ea,polygonStart:ea,polygonEnd:ea},og=ac(function(a){return Math.sqrt(2/
(1+a))},function(a){return 2*Math.asin(a/2)});(l.geo.azimuthalEqualArea=function(){return db(og)}).raw=og;var pg=ac(function(a){return(a=Math.acos(a))&&a/Math.sin(a)},aa);(l.geo.azimuthalEquidistant=function(){return db(pg)}).raw=pg;(l.geo.conicConformal=function(){return Dd(df)}).raw=df;(l.geo.conicEquidistant=function(){return Dd(ef)}).raw=ef;var qg=ac(function(a){return 1/a},Math.atan);(l.geo.gnomonic=function(){return db(qg)}).raw=qg;Lc.invert=function(a,b){return[a,2*Math.atan(Math.exp(b))-ja]};
(l.geo.mercator=function(){return ff(Lc)}).raw=Lc;var rg=ac(function(){return 1},Math.asin);(l.geo.orthographic=function(){return db(rg)}).raw=rg;var sg=ac(function(a){return 1/(1+a)},function(a){return 2*Math.atan(a)});(l.geo.stereographic=function(){return db(sg)}).raw=sg;Id.invert=function(a,b){return[-b,2*Math.atan(Math.exp(a))-ja]};(l.geo.transverseMercator=function(){var a=ff(Id),b=a.center,c=a.rotate;return a.center=function(a){return a?b([-a[1],a[0]]):(a=b(),[a[1],-a[0]])},a.rotate=function(a){return a?
c([a[0],a[1],2<a.length?a[2]+90:90]):(a=c(),[a[0],a[1],a[2]-90])},c([0,0,90])}).raw=Id;l.geom={};l.geom.hull=function(a){function b(a){if(3>a.length)return[];var b,k=x(c),n=x(e),t=a.length,r=[],l=[];for(b=0;t>b;b++)r.push([+k.call(this,a[b],b),+n.call(this,a[b],b),b]);r.sort(eh);for(b=0;t>b;b++)l.push([r[b][0],-r[b][1]]);var k=gf(r),l=gf(l),n=l[0]===k[0],t=l[l.length-1]===k[k.length-1],h=[];for(b=k.length-1;0<=b;--b)h.push(a[r[k[b]][2]]);for(b=+n;b<l.length-t;++b)h.push(a[r[l[b]][2]]);return h}var c=
xb,e=bc;return arguments.length?b(a):(b.x=function(a){return arguments.length?(c=a,b):c},b.y=function(a){return arguments.length?(e=a,b):e},b)};l.geom.polygon=function(a){return oc(a,kd),a};var kd=l.geom.polygon.prototype=[];kd.area=function(){for(var a,b=-1,c=this.length,e=this[c-1],f=0;++b<c;)a=e,e=this[b],f+=a[1]*e[0]-a[0]*e[1];return 0.5*f};kd.centroid=function(a){var b,c,e=-1,f=this.length,g=0,k=0,n=this[f-1];for(arguments.length||(a=-1/(6*this.area()));++e<f;)b=n,n=this[e],c=b[0]*n[1]-n[0]*
b[1],g+=(b[0]+n[0])*c,k+=(b[1]+n[1])*c;return[g*a,k*a]};kd.clip=function(a){for(var b,c,e,f,g,k,n=hf(a),t=-1,r=this.length-hf(this),l=this[r-1];++t<r;){b=a.slice();a.length=0;f=this[t];g=b[(e=b.length-n)-1];for(c=-1;++c<e;)k=b[c],Jd(k,l,f)?(Jd(g,l,f)||a.push(Kd(g,k,l,f)),a.push(k)):Jd(g,l,f)&&a.push(Kd(g,k,l,f)),g=k;n&&a.push(a[0]);l=f}return a};var Bb,mb,zb,Md,cc,kf=[],of=[];mf.prototype.prepare=function(){for(var a,b=this.edges,c=b.length;c--;)a=b[c].edge,a.b&&a.a||b.splice(c,1);return b.sort(nf),
b.length};Pc.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};Nd.prototype={insert:function(a,b){var c,e,f;if(a){if(b.P=a,b.N=a.N,a.N&&(a.N.P=b),a.N=b,a.R){for(a=a.R;a.L;)a=a.L;a.L=b}else a.R=b;c=a}else this._?(a=qf(this._),b.P=null,b.N=a,a.P=a.L=b,c=a):(b.P=b.N=null,this._=b,c=null);b.L=b.R=null;b.U=c;b.C=!0;for(a=b;c&&c.C;)e=c.U,c===e.L?(f=e.R,f&&f.C?(c.C=f.C=!1,e.C=!0,a=e):(a===c.R&&(ec(this,
c),a=c,c=a.U),c.C=!1,e.C=!0,fc(this,e))):(f=e.L,f&&f.C?(c.C=f.C=!1,e.C=!0,a=e):(a===c.L&&(fc(this,c),a=c,c=a.U),c.C=!1,e.C=!0,ec(this,e))),c=a.U;this._.C=!1},remove:function(a){a.N&&(a.N.P=a.P);a.P&&(a.P.N=a.N);a.N=a.P=null;var b,c,e,f=a.U,g=a.L,k=a.R;if(c=g?k?qf(k):g:k,f?f.L===a?f.L=c:f.R=c:this._=c,g&&k?(e=c.C,c.C=a.C,c.L=g,g.U=c,c!==k?(f=c.U,c.U=a.U,a=c.R,f.L=a,c.R=k,k.U=c):(c.U=f,f=c,a=c.R)):(e=a.C,a=c),a&&(a.U=f),!e){if(a&&a.C)return void(a.C=!1);do{if(a===this._)break;if(a===f.L){if(b=f.R,b.C&&
(b.C=!1,f.C=!0,ec(this,f),b=f.R),b.L&&b.L.C||b.R&&b.R.C){b.R&&b.R.C||(b.L.C=!1,b.C=!0,fc(this,b),b=f.R);b.C=f.C;f.C=b.R.C=!1;ec(this,f);a=this._;break}}else if(b=f.L,b.C&&(b.C=!1,f.C=!0,fc(this,f),b=f.L),b.L&&b.L.C||b.R&&b.R.C){b.L&&b.L.C||(b.R.C=!1,b.C=!0,ec(this,b),b=f.L);b.C=f.C;f.C=b.L.C=!1;fc(this,f);a=this._;break}b.C=!0;a=f;f=f.U}while(!a.C);a&&(a.C=!1)}}};l.geom.voronoi=function(a){function b(a){var b=Array(a.length),e=n[0][0],f=n[0][1],g=n[1][0],k=n[1][1];return Od(c(a),n).cells.forEach(function(c,
n){var l=c.edges,h=c.site;(b[n]=l.length?l.map(function(a){a=a.start();return[a.x,a.y]}):h.x>=e&&h.x<=g&&h.y>=f&&h.y<=k?[[e,k],[g,k],[g,f],[e,f]]:[]).point=a[n]}),b}function c(a){return a.map(function(a,b){return{x:Math.round(g(a,b)/N)*N,y:Math.round(k(a,b)/N)*N,i:b}})}var e=xb,f=bc,g=e,k=f,n=ld;return a?b(a):(b.links=function(a){return Od(c(a)).edges.filter(function(a){return a.l&&a.r}).map(function(b){return{source:a[b.l.i],target:a[b.r.i]}})},b.triangles=function(a){var b=[];return Od(c(a)).cells.forEach(function(c,
e){for(var f,g=c.site,k=c.edges.sort(nf),n=-1,l=k.length,h=k[l-1].edge,h=h.l===g?h.r:h.l;++n<l;)f=h,h=k[n].edge,h=h.l===g?h.r:h.l,e<f.i&&e<h.i&&0>(g.x-h.x)*(f.y-g.y)-(g.x-f.x)*(h.y-g.y)&&b.push([a[e],a[f.i],a[h.i]])}),b},b.x=function(a){return arguments.length?(g=x(e=a),b):e},b.y=function(a){return arguments.length?(k=x(f=a),b):f},b.clipExtent=function(a){return arguments.length?(n=null==a?ld:a,b):n===ld?null:n},b.size=function(a){return arguments.length?b.clipExtent(a&&[[0,0],a]):n===ld?null:n&&
n[1]},b)};var ld=[[-1E6,-1E6],[1E6,1E6]];l.geom.delaunay=function(a){return l.geom.voronoi().triangles(a)};l.geom.quadtree=function(a,b,c,e,f){function g(a){function g(a,b,c,e,f,k,n,r){if(!isNaN(c)&&!isNaN(e))if(a.leaf){var l=a.x,t=a.y;if(null!=l){if(!(0.01>Y(l-c)+Y(t-e))){var v=a.point;a.x=a.y=a.point=null;h(a,v,l,t,f,k,n,r)}h(a,b,c,e,f,k,n,r)}else a.x=c,a.y=e,a.point=b}else h(a,b,c,e,f,k,n,r)}function h(a,b,c,e,f,k,n,r){var l=0.5*(f+n),t=0.5*(k+r),m=c>=l,z=e>=t,p=z<<1|m;a.leaf=!1;a=a.nodes[p]||
(a.nodes[p]=rf());m?f=l:n=l;z?k=t:r=t;g(a,b,c,e,f,k,n,r)}var m,p,q,B,M,E,C,u,K,s=x(n),H=x(l);if(null!=b)E=b,C=c,u=e,K=f;else if(u=K=-(E=C=1/0),p=[],q=[],M=a.length,k)for(B=0;M>B;++B)m=a[B],m.x<E&&(E=m.x),m.y<C&&(C=m.y),m.x>u&&(u=m.x),m.y>K&&(K=m.y),p.push(m.x),q.push(m.y);else for(B=0;M>B;++B){var y=+s(m=a[B],B);m=+H(m,B);E>y&&(E=y);C>m&&(C=m);y>u&&(u=y);m>K&&(K=m);p.push(y);q.push(m)}y=u-E;m=K-C;y>m?K=C+y:u=E+m;var w=rf();if(w.add=function(a){g(w,a,+s(a,++B),+H(a,B),E,C,u,K)},w.visit=function(a){gc(a,
w,E,C,u,K)},w.find=function(a){return mh(w,a[0],a[1],E,C,u,K)},B=-1,null==b){for(;++B<M;)g(w,a[B],p[B],q[B],E,C,u,K);--B}else a.forEach(w.add);return p=q=a=m=null,w}var k,n=xb,l=bc;return(k=arguments.length)?(n=kh,l=lh,3===k&&(f=c,e=b,c=b=0),g(a)):(g.x=function(a){return arguments.length?(n=a,g):n},g.y=function(a){return arguments.length?(l=a,g):l},g.extent=function(a){return arguments.length?(null==a?b=c=e=f=null:(b=+a[0][0],c=+a[0][1],e=+a[1][0],f=+a[1][1]),g):null==b?null:[[b,c],[e,f]]},g.size=
function(a){return arguments.length?(null==a?b=c=e=f=null:(b=c=0,e=+a[0],f=+a[1]),g):null==b?null:[e-b,f-c]},g)};l.interpolateRgb=Pd;l.interpolateObject=sf;l.interpolateNumber=Xa;l.interpolateString=tf;var Qd=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Rd=RegExp(Qd.source,"g");l.interpolate=nb;l.interpolators=[function(a,b){var c=typeof b;return("string"===c?uc.has(b.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(b)?Pd:tf:b instanceof Pa?Pd:Array.isArray(b)?Qc:"object"===c&&isNaN(b)?sf:Xa)(a,b)}];l.interpolateArray=
Qc;var tg=function(){return aa},xi=l.map({linear:tg,poly:function(a){return function(b){return Math.pow(b,a)}},quad:function(){return oh},cubic:function(){return ph},sin:function(){return rh},exp:function(){return sh},circle:function(){return th},elastic:function(a,b){var c;return 2>arguments.length&&(b=0.45),arguments.length?c=b/Ba*Math.asin(1/a):(a=1,c=b/4),function(e){return 1+a*Math.pow(2,-10*e)*Math.sin((e-c)*Ba/b)}},back:function(a){return a||(a=1.70158),function(b){return b*b*((a+1)*b-a)}},
bounce:function(){return uh}}),yi=l.map({"in":aa,out:uf,"in-out":vf,"out-in":function(a){return vf(uf(a))}});l.ease=function(a){var b=a.indexOf("-"),c=0<=b?a.slice(0,b):a,b=0<=b?a.slice(b+1):"in";return c=xi.get(c)||tg,b=yi.get(b)||aa,nh(b(c.apply(null,ig.call(arguments,1))))};l.interpolateHcl=function(a,b){a=l.hcl(a);b=l.hcl(b);var c=a.h,e=a.c,f=a.l,g=b.h-c,k=b.c-e,n=b.l-f;return isNaN(k)&&(k=0,e=isNaN(e)?b.c:e),isNaN(g)?(g=0,c=isNaN(c)?b.h:c):180<g?g-=360:-180>g&&(g+=360),function(a){return za(c+
g*a,e+k*a,f+n*a)+""}};l.interpolateHsl=function(a,b){a=l.hsl(a);b=l.hsl(b);var c=a.h,e=a.s,f=a.l,g=b.h-c,k=b.s-e,n=b.l-f;return isNaN(k)&&(k=0,e=isNaN(e)?b.s:e),isNaN(g)?(g=0,c=isNaN(c)?b.h:c):180<g?g-=360:-180>g&&(g+=360),function(a){return ub(c+g*a,e+k*a,f+n*a)+""}};l.interpolateLab=function(a,b){a=l.lab(a);b=l.lab(b);var c=a.l,e=a.a,f=a.b,g=b.l-c,k=b.a-e,n=b.b-f;return function(a){return Vb(c+g*a,e+k*a,f+n*a)+""}};l.interpolateRound=wf;l.transform=function(a){var b=qa.createElementNS(l.ns.prefix.svg,
"g");return(l.transform=function(a){if(null!=a){b.setAttribute("transform",a);var e=b.transform.baseVal.consolidate()}return new xf(e?e.matrix:zi)})(a)};xf.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var zi={a:1,b:0,c:0,d:1,e:0,f:0};l.interpolateTransform=zf;l.layout={};l.layout.bundle=function(){return function(a){for(var b=[],c=-1,e=a.length;++c<e;)b.push(Bh(a[c]));return b}};l.layout.chord=function(){function a(){var a,
r,m,p,B,q={},E=[],C=l.range(g),u=[];c=[];e=[];a=0;for(p=-1;++p<g;){r=0;for(B=-1;++B<g;)r+=f[p][B];E.push(r);u.push(l.range(g));a+=r}k&&C.sort(function(a,b){return k(E[a],E[b])});n&&u.forEach(function(a,b){a.sort(function(a,c){return n(f[b][a],f[b][c])})});a=(Ba-v*g)/a;r=0;for(p=-1;++p<g;){m=r;for(B=-1;++B<g;){var K=C[p],s=u[K][B],H=f[K][s],x=r,y=r+=H*a;q[K+"-"+s]={index:K,subindex:s,startAngle:x,endAngle:y,value:H}}e[K]={index:K,startAngle:m,endAngle:r,value:E[K]};r+=v}for(p=-1;++p<g;)for(B=p-1;++B<
g;)a=q[p+"-"+B],r=q[B+"-"+p],(a.value||r.value)&&c.push(a.value<r.value?{source:r,target:a}:{source:a,target:r});h&&b()}function b(){c.sort(function(a,b){return h((a.source.value+a.target.value)/2,(b.source.value+b.target.value)/2)})}var c,e,f,g,k,n,h,r={},v=0;return r.matrix=function(a){return arguments.length?(g=(f=a)&&f.length,c=e=null,r):f},r.padding=function(a){return arguments.length?(v=a,c=e=null,r):v},r.sortGroups=function(a){return arguments.length?(k=a,c=e=null,r):k},r.sortSubgroups=function(a){return arguments.length?
(n=a,c=null,r):n},r.sortChords=function(a){return arguments.length?(h=a,c&&b(),r):h},r.chords=function(){return c||a(),c},r.groups=function(){return e||a(),e},r};l.layout.force=function(){function a(a){return function(b,c,e,f){if(b.point!==a){e=b.cx-a.x;var g=b.cy-a.y;c=f-c;f=e*e+g*g;if(f>c*c/E)return B>f&&(c=b.charge/f,a.px-=e*c,a.py-=g*c),!0;b.point&&(f&&B>f)&&(c=b.pointCharge/f,a.px-=e*c,a.py-=g*c)}return!b.charge}}function b(a){a.px=l.event.x;a.py=l.event.y;h.resume()}var c,e,f,g,k,n,h={},r=l.dispatch("start",
"tick","end"),v=[1,1],m=0.9,p=Ai,q=Bi,u=-30,B=Ci,M=0.1,E=0.64,C=[],s=[];return h.tick=function(){if(0.005>(f*=0.99))return c=null,r.end({type:"end",alpha:f=0}),!0;var b,e,h,t,p,z,B,q,E=C.length,H=s.length;for(e=0;H>e;++e)h=s[e],b=h.source,t=h.target,B=t.x-b.x,q=t.y-b.y,(p=B*B+q*q)&&(p=f*k[e]*((p=Math.sqrt(p))-g[e])/p,B*=p,q*=p,t.x-=B*(z=b.weight+t.weight?b.weight/(b.weight+t.weight):0.5),t.y-=q*z,b.x+=B*(z=1-z),b.y+=q*z);if((z=f*M)&&(B=v[0]/2,q=v[1]/2,e=-1,z))for(;++e<E;)h=C[e],h.x+=(B-h.x)*z,h.y+=
(q-h.y)*z;if(u)for(Bf(b=l.geom.quadtree(C),f,n),e=-1;++e<E;)(h=C[e]).fixed||b.visit(a(h));for(e=-1;++e<E;)h=C[e],h.fixed?(h.x=h.px,h.y=h.py):(h.x-=(h.px-(h.px=h.x))*m,h.y-=(h.py-(h.py=h.y))*m);r.tick({type:"tick",alpha:f})},h.nodes=function(a){return arguments.length?(C=a,h):C},h.links=function(a){return arguments.length?(s=a,h):s},h.size=function(a){return arguments.length?(v=a,h):v},h.linkDistance=function(a){return arguments.length?(p="function"==typeof a?a:+a,h):p},h.distance=h.linkDistance,h.linkStrength=
function(a){return arguments.length?(q="function"==typeof a?a:+a,h):q},h.friction=function(a){return arguments.length?(m=+a,h):m},h.charge=function(a){return arguments.length?(u="function"==typeof a?a:+a,h):u},h.chargeDistance=function(a){return arguments.length?(B=a*a,h):Math.sqrt(B)},h.gravity=function(a){return arguments.length?(M=+a,h):M},h.theta=function(a){return arguments.length?(E=a*a,h):Math.sqrt(E)},h.alpha=function(a){return arguments.length?(a=+a,f?0<a?f=a:(c.c=null,c.t=NaN,c=null,r.end({type:"end",
alpha:f=0})):0<a&&(r.start({type:"start",alpha:f=a}),c=O(h.tick)),h):f},h.start=function(){function a(e,g){if(!c){c=Array(f);for(h=0;f>h;++h)c[h]=[];for(h=0;r>h;++h){var k=s[h];c[k.source.index].push(k.target);c[k.target.index].push(k.source)}}for(var n=c[b],h=-1,l=n.length;++h<l;)if(!isNaN(k=n[h][e]))return k;return Math.random()*g}var b,c,e,f=C.length,r=s.length,l=v[0],m=v[1];for(b=0;f>b;++b)(e=C[b]).index=b,e.weight=0;for(b=0;r>b;++b)e=s[b],"number"==typeof e.source&&(e.source=C[e.source]),"number"==
typeof e.target&&(e.target=C[e.target]),++e.source.weight,++e.target.weight;for(b=0;f>b;++b)e=C[b],isNaN(e.x)&&(e.x=a("x",l)),isNaN(e.y)&&(e.y=a("y",m)),isNaN(e.px)&&(e.px=e.x),isNaN(e.py)&&(e.py=e.y);if(g=[],"function"==typeof p)for(b=0;r>b;++b)g[b]=+p.call(this,s[b],b);else for(b=0;r>b;++b)g[b]=p;if(k=[],"function"==typeof q)for(b=0;r>b;++b)k[b]=+q.call(this,s[b],b);else for(b=0;r>b;++b)k[b]=q;if(n=[],"function"==typeof u)for(b=0;f>b;++b)n[b]=+u.call(this,C[b],b);else for(b=0;f>b;++b)n[b]=u;return h.resume()},
h.resume=function(){return h.alpha(0.1)},h.stop=function(){return h.alpha(0)},h.drag=function(){return e||(e=l.behavior.drag().origin(aa).on("dragstart.force",Ch).on("drag.force",b).on("dragend.force",Dh)),arguments.length?void this.on("mouseover.force",Eh).on("mouseout.force",Fh).call(e):e},l.rebind(h,r,"on")};var Ai=20,Bi=1,Ci=1/0;l.layout.hierarchy=function(){function a(f){var g,k=[f],n=[];for(f.depth=0;null!=(g=k.pop());)if(n.push(g),(r=c.call(a,g,g.depth))&&(h=r.length)){for(var h,r,l;0<=--h;)k.push(l=
r[h]),l.parent=g,l.depth=g.depth+1;e&&(g.value=0);g.children=r}else e&&(g.value=+e.call(a,g,g.depth)||0),delete g.children;return Sa(f,function(a){var c,f;b&&(c=a.children)&&c.sort(b);e&&(f=a.parent)&&(f.value+=a.value)}),n}var b=Jh,c=Hh,e=Ih;return a.sort=function(c){return arguments.length?(b=c,a):b},a.children=function(b){return arguments.length?(c=b,a):c},a.value=function(b){return arguments.length?(e=b,a):e},a.revalue=function(b){return e&&(ic(b,function(a){a.children&&(a.value=0)}),Sa(b,function(b){var c;
b.children||(b.value=+e.call(a,b,b.depth)||0);(c=b.parent)&&(c.value+=b.value)})),b},a};l.layout.partition=function(){function a(b,c,e,f){var h=b.children;if(b.x=c,b.y=b.depth*f,b.dx=e,b.dy=f,h&&(l=h.length)){var l,m,p=-1;for(e=b.value?e/b.value:0;++p<l;)a(m=h[p],c,b=m.value*e,f),c+=b}}function b(a){a=a.children;var c=0;if(a&&(e=a.length))for(var e,f=-1;++f<e;)c=Math.max(c,b(a[f]));return 1+c}function c(c,k){var n=e.call(this,c,k);return a(n[0],0,f[0],f[1]/b(n[0])),n}var e=l.layout.hierarchy(),f=
[1,1];return c.size=function(a){return arguments.length?(f=a,c):f},hc(c,e)};l.layout.pie=function(){function a(k){var n,h=k.length,r=k.map(function(c,e){return+b.call(a,c,e)}),v=+("function"==typeof e?e.apply(this,arguments):e),m=("function"==typeof f?f.apply(this,arguments):f)-v,p=Math.min(Math.abs(m)/h,+("function"==typeof g?g.apply(this,arguments):g)),q=p*(0>m?-1:1),u=l.sum(r),B=u?(m-h*q)/u:0,h=l.range(h),M=[];return null!=c&&h.sort(c===ug?function(a,b){return r[b]-r[a]}:function(a,b){return c(k[a],
k[b])}),h.forEach(function(a){M[a]={data:k[a],value:n=r[a],startAngle:v,endAngle:v+=n*B+q,padAngle:p}}),M}var b=Number,c=ug,e=0,f=Ba,g=0;return a.value=function(c){return arguments.length?(b=c,a):b},a.sort=function(b){return arguments.length?(c=b,a):c},a.startAngle=function(b){return arguments.length?(e=b,a):e},a.endAngle=function(b){return arguments.length?(f=b,a):f},a.padAngle=function(b){return arguments.length?(g=b,a):g},a};var ug={};l.layout.stack=function(){function a(n,h){if(!(p=n.length))return n;
var r=n.map(function(c,e){return b.call(a,c,e)}),v=r.map(function(b){return b.map(function(b,c){return[g.call(a,b,c),k.call(a,b,c)]})}),m=c.call(a,v,h),r=l.permute(r,m),v=l.permute(v,m),p,q,u,B=e.call(a,v,h),M=r[0].length;for(q=0;M>q;++q)for(f.call(a,r[0][q],u=B[q],v[0][q][1]),m=1;p>m;++m)f.call(a,r[m][q],u+=v[m-1][q][1],v[m][q][1]);return n}var b=aa,c=Sd,e=Td,f=Mh,g=Kh,k=Lh;return a.values=function(c){return arguments.length?(b=c,a):b},a.order=function(b){return arguments.length?(c="function"==typeof b?
b:Di.get(b)||Sd,a):c},a.offset=function(b){return arguments.length?(e="function"==typeof b?b:Ei.get(b)||Td,a):e},a.x=function(b){return arguments.length?(g=b,a):g},a.y=function(b){return arguments.length?(k=b,a):k},a.out=function(b){return arguments.length?(f=b,a):f},a};var Di=l.map({"inside-out":function(a){var b,c=a.length,e=a.map(Nh),f=a.map(Oh),g=l.range(c).sort(function(a,b){return e[a]-e[b]}),k=0,n=0,h=[],r=[];for(a=0;c>a;++a)b=g[a],n>k?(k+=f[b],h.push(b)):(n+=f[b],r.push(b));return r.reverse().concat(h)},
reverse:function(a){return l.range(a.length).reverse()},"default":Sd}),Ei=l.map({silhouette:function(a){var b,c,e,f=a.length,g=a[0].length,k=[],n=0,h=[];for(c=0;g>c;++c){for(e=b=0;f>b;b++)e+=a[b][c][1];e>n&&(n=e);k.push(e)}for(c=0;g>c;++c)h[c]=(n-k[c])/2;return h},wiggle:function(a){var b,c,e,f,g,k,n,h,r,l=a.length,m=a[0],p=m.length,q=[];q[0]=h=r=0;for(c=1;p>c;++c){for(f=b=0;l>b;++b)f+=a[b][c][1];g=b=0;for(n=m[c][0]-m[c-1][0];l>b;++b){e=0;for(k=(a[b][c][1]-a[b][c-1][1])/(2*n);b>e;++e)k+=(a[e][c][1]-
a[e][c-1][1])/n;g+=k*a[b][c][1]}q[c]=h-=f?g/f*n:0;r>h&&(r=h)}for(c=0;p>c;++c)q[c]-=r;return q},expand:function(a){var b,c,e,f=a.length,g=a[0].length,k=1/f,n=[];for(c=0;g>c;++c){for(e=b=0;f>b;b++)e+=a[b][c][1];if(e)for(b=0;f>b;b++)a[b][c][1]/=e;else for(b=0;f>b;b++)a[b][c][1]=k}for(c=0;g>c;++c)n[c]=0;return n},zero:Td});l.layout.histogram=function(){function a(a,k){var n,h,r=[],v=a.map(c,this),m=e.call(this,v,k),p=f.call(this,m,v,k);k=-1;for(var q=v.length,u=p.length-1,B=b?1:1/q;++k<u;)n=r[k]=[],n.dx=
p[k+1]-(n.x=p[k]),n.y=0;if(0<u)for(k=-1;++k<q;)h=v[k],h>=m[0]&&h<=m[1]&&(n=r[l.bisect(p,h,1,u)-1],n.y+=B,n.push(a[k]));return r}var b=!0,c=Number,e=Rh,f=Qh;return a.value=function(b){return arguments.length?(c=b,a):c},a.range=function(b){return arguments.length?(e=x(b),a):e},a.bins=function(b){return arguments.length?(f="number"==typeof b?function(a){return Cf(a,b)}:x(b),a):f},a.frequency=function(c){return arguments.length?(b=!!c,a):b},a};l.layout.pack=function(){function a(a,k){var n=c.call(this,
a,k),h=n[0],l=f[0],v=f[1],m=null==b?Math.sqrt:"function"==typeof b?b:function(){return b};if(h.x=h.y=0,Sa(h,function(a){a.r=+m(a.value)}),Sa(h,Ff),e){var p=e*(b?1:Math.max(2*h.r/l,2*h.r/v))/2;Sa(h,function(a){a.r+=p});Sa(h,Ff);Sa(h,function(a){a.r-=p})}return Hf(h,l/2,v/2,b?1:1/Math.max(2*h.r/l,2*h.r/v)),n}var b,c=l.layout.hierarchy().sort(Sh),e=0,f=[1,1];return a.size=function(b){return arguments.length?(f=b,a):f},a.radius=function(c){return arguments.length?(b=null==c||"function"==typeof c?c:+c,
a):b},a.padding=function(b){return arguments.length?(e=+b,a):e},hc(a,c)};l.layout.tree=function(){function a(a,l){var m=g.call(this,a,l),p=m[0],q=b(p);if(Sa(q,c),q.parent.m=-q.z,ic(q,e),h)ic(p,f);else{var u=p,B=p,M=p;ic(p,function(a){a.x<u.x&&(u=a);a.x>B.x&&(B=a);a.depth>M.depth&&(M=a)});var E=k(u,B)/2-u.x,C=n[0]/(B.x+k(B,u)/2+E),s=n[1]/(M.depth||1);ic(p,function(a){a.x=(a.x+E)*C;a.y=a.depth*s})}return m}function b(a){for(var b={A:null,children:[a]},c=[b];null!=(a=c.pop());)for(var e,f=a.children,
g=0,k=f.length;k>g;++g)c.push((f[g]=e={_:f[g],parent:a,children:(e=f[g].children)&&e.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:g}).a=e);return b.children[0]}function c(a){var b=a.children,c=a.parent.children,e=a.i?c[a.i-1]:null;if(b.length){for(var f,g=0,n=0,h=a.children,l=h.length;0<=--l;)f=h[l],f.z+=g,f.m+=g,g+=f.s+(n+=f.c);b=(b[0].z+b[b.length-1].z)/2;e?(a.z=e.z+k(a._,e._),a.m=a.z-b):a.z=b}else e&&(a.z=e.z+k(a._,e._));b=a.parent;c=a.parent.A||c[0];if(e){for(var g=f=a,n=e,h=f.parent.children[0],
l=f.m,t=g.m,m=n.m,p=h.m;n=Wd(n),f=Vd(f),n&&f;){h=Vd(h);g=Wd(g);g.a=a;e=n.z+m-f.z-l+k(n._,f._);if(0<e){var q=n.a.parent===a.parent?n.a:c,u=a,s=e,H=s/(u.i-q.i);u.c-=H;u.s+=s;q.c+=H;u.z+=s;u.m+=s;l+=e;t+=e}m+=n.m;l+=f.m;p+=h.m;t+=g.m}n&&!Wd(g)&&(g.t=n,g.m+=m-t);f&&!Vd(h)&&(h.t=f,h.m+=l-p,c=a)}b.A=c}function e(a){a._.x=a.z+a.parent.m;a.m+=a.parent.m}function f(a){a.x*=n[0];a.y=a.depth*n[1]}var g=l.layout.hierarchy().sort(null).value(null),k=If,n=[1,1],h=null;return a.separation=function(b){return arguments.length?
(k=b,a):k},a.size=function(b){return arguments.length?(h=null==(n=b)?f:null,a):h?null:n},a.nodeSize=function(b){return arguments.length?(h=null==(n=b)?null:f,a):h?n:null},hc(a,g)};l.layout.cluster=function(){function a(a,k){var n,h=b.call(this,a,k),l=h[0],m=0;Sa(l,function(a){var b=a.children;b&&b.length?(a.x=Wh(b),a.y=Vh(b)):(a.x=n?m+=c(a,n):0,a.y=0,n=a)});var p=Jf(l),q=Kf(l),u=p.x-c(p,q)/2,s=q.x+c(q,p)/2;return Sa(l,f?function(a){a.x=(a.x-l.x)*e[0];a.y=(l.y-a.y)*e[1]}:function(a){a.x=(a.x-u)/(s-
u)*e[0];a.y=(1-(l.y?a.y/l.y:1))*e[1]}),h}var b=l.layout.hierarchy().sort(null).value(null),c=If,e=[1,1],f=!1;return a.separation=function(b){return arguments.length?(c=b,a):c},a.size=function(b){return arguments.length?(f=null==(e=b),a):f?null:e},a.nodeSize=function(b){return arguments.length?(f=null!=(e=b),a):f?e:null},hc(a,b)};l.layout.treemap=function(){function a(a,b){for(var c,e,f=-1,g=a.length;++f<g;)e=(c=a[f]).value*(0>b?0:b),c.area=isNaN(e)||0>=e?0:e}function b(c){var f=c.children;if(f&&f.length){var g,
k=m(c),h=[],n=f.slice(),l=1/0,r="slice"===q?k.dx:"dice"===q?k.dy:"slice-dice"===q?1&c.depth?k.dy:k.dx:Math.min(k.dx,k.dy);a(n,k.dx*k.dy/c.value);for(h.area=0;0<(c=n.length);){h.push(c=n[c-1]);h.area+=c.area;var t;if(!(t="squarify"!==q)){c=r;g=void 0;var p=h.area;t=0;for(var s=1/0,L=-1,H=h.length;++L<H;)(g=h[L].area)&&(s>g&&(s=g),g>t&&(t=g));t=(g=(p*=p,c*=c,p?Math.max(c*t*u/p,p/(c*s*u)):1/0))<=l}t?(n.pop(),l=g):(h.area-=h.pop().area,e(h,r,k,!1),r=Math.min(k.dx,k.dy),h.length=h.area=0,l=1/0)}h.length&&
(e(h,r,k,!0),h.length=h.area=0);f.forEach(b)}}function c(b){var f=b.children;if(f&&f.length){var g=m(b),k=f.slice(),h=[];a(k,g.dx*g.dy/b.value);for(h.area=0;b=k.pop();)h.push(b),h.area+=b.area,null!=b.z&&(e(h,b.z?g.dx:g.dy,g,!k.length),h.length=h.area=0);f.forEach(c)}}function e(a,b,c,e){var f,g=-1,k=a.length,h=c.x,l=c.y,r=b?n(a.area/b):0;if(b==c.dx){for((e||r>c.dy)&&(r=c.dy);++g<k;)f=a[g],f.x=h,f.y=l,f.dy=r,h+=f.dx=Math.min(c.x+c.dx-h,r?n(f.area/r):0);f.z=!0;f.dx+=c.x+c.dx-h;c.y+=r;c.dy-=r}else{for((e||
r>c.dx)&&(r=c.dx);++g<k;)f=a[g],f.x=h,f.y=l,f.dx=r,l+=f.dy=Math.min(c.y+c.dy-l,r?n(f.area/r):0);f.z=!1;f.dy+=c.y+c.dy-l;c.x+=r;c.dx-=r}}function f(e){e=g||k(e);var f=e[0];return f.x=f.y=0,f.value?(f.dx=h[0],f.dy=h[1]):f.dx=f.dy=0,g&&k.revalue(f),a([f],f.dx*f.dy/f.value),(g?c:b)(f),p&&(g=e),e}var g,k=l.layout.hierarchy(),n=Math.round,h=[1,1],r=null,m=Xd,p=!1,q="squarify",u=0.5*(1+Math.sqrt(5));return f.size=function(a){return arguments.length?(h=a,f):h},f.padding=function(a){function b(c){var e=a.call(f,
c,c.depth);return null==e?Xd(c):Lf(c,"number"==typeof e?[e,e,e,e]:e)}function c(b){return Lf(b,a)}if(!arguments.length)return r;var e;return m=null==(r=a)?Xd:"function"==(e=typeof a)?b:"number"===e?(a=[a,a,a,a],c):c,f},f.round=function(a){return arguments.length?(n=a?Math.round:Number,f):n!=Number},f.sticky=function(a){return arguments.length?(p=a,g=null,f):p},f.ratio=function(a){return arguments.length?(u=a,f):u},f.mode=function(a){return arguments.length?(q=a+"",f):q},hc(f,k)};l.random={normal:function(a,
b){var c=arguments.length;return 2>c&&(b=1),1>c&&(a=0),function(){var c,f;do c=2*Math.random()-1,f=2*Math.random()-1,f=c*c+f*f;while(!f||1<f);return a+b*c*Math.sqrt(-2*Math.log(f)/f)}},logNormal:function(){var a=l.random.normal.apply(l,arguments);return function(){return Math.exp(a())}},bates:function(a){var b=l.random.irwinHall(a);return function(){return b()/a}},irwinHall:function(a){return function(){for(var b=0,c=0;a>c;c++)b+=Math.random();return b}}};l.scale={};var Yh={floor:aa,ceil:aa};l.scale.linear=
function(){return Nf([0,1],[0,1],nb,!1)};var ai={s:1,g:1,p:1,r:1,e:1};l.scale.log=function(){return Pf(l.scale.linear().domain([0,1]),10,!0,[1,10])};var Qf=l.format(".0e"),bi={floor:function(a){return-Math.ceil(-a)},ceil:function(a){return-Math.floor(-a)}};l.scale.pow=function(){return Rf(l.scale.linear(),1,[0,1])};l.scale.sqrt=function(){return l.scale.pow().exponent(0.5)};l.scale.ordinal=function(){return Sf([],{t:"range",a:[[]]})};l.scale.category10=function(){return l.scale.ordinal().range(Fi)};
l.scale.category20=function(){return l.scale.ordinal().range(Gi)};l.scale.category20b=function(){return l.scale.ordinal().range(Hi)};l.scale.category20c=function(){return l.scale.ordinal().range(Ii)};var Fi=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(H),Gi=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(H),Hi=[3750777,5395619,
7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(H),Ii=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(H);l.scale.quantile=function(){return Tf([],[])};l.scale.quantize=function(){return Uf(0,1,[0,1])};l.scale.threshold=function(){return Vf([0.5],[0,1])};l.scale.identity=
function(){return Wf([0,1])};l.svg={};l.svg.arc=function(){function a(){var a=Math.max(0,+c.apply(this,arguments)),m=Math.max(0,+e.apply(this,arguments)),p=k.apply(this,arguments)-ja,q=h.apply(this,arguments)-ja,u=Math.abs(q-p),s=p>q?0:1;if(a>m&&(B=m,m=a,a=B),u>=ui)return b(m,s)+(a?b(a,1-s):"")+"Z";var B,H,E,C,x,y,w,D,J,Z,F=0;w=0;var fa=[];((C=(+l.apply(this,arguments)||0)/2)&&(E=g===md?Math.sqrt(a*a+m*m):+g.apply(this,arguments),s||(w*=-1),m&&(w=Ha(E/m*Math.sin(C))),a&&(F=Ha(E/a*Math.sin(C)))),m)?
(E=m*Math.cos(p+w),C=m*Math.sin(p+w),x=m*Math.cos(q-w),y=m*Math.sin(q-w),H=Math.abs(q-p-2*w)<=V?0:1,w&&(0<(E-x)*C-(C-y)*E?0:1)===s^H&&(x=(p+q)/2,E=m*Math.cos(x),C=m*Math.sin(x),x=y=null)):E=C=0;if(a){w=a*Math.cos(q-F);D=a*Math.sin(q-F);J=a*Math.cos(p+F);Z=a*Math.sin(p+F);var ga=Math.abs(p-q+2*F)<=V?0:1;F&&(0<(w-J)*D-(D-Z)*w?0:1)===1-s^ga&&(J=(p+q)/2,w=a*Math.cos(J),D=a*Math.sin(J),J=Z=null)}else w=D=0;u>N&&0.001<(B=Math.min(Math.abs(m-a)/2,+f.apply(this,arguments)))?(H=m>a^s?0:1,ga=p=B,V>u&&(u=null==
J?[w,D]:null==x?[E,C]:Kd([E,C],[J,Z],[x,y],[w,D]),ga=E-u[0],p=C-u[1],q=x-u[0],F=y-u[1],p=1/Math.sin(Math.acos((ga*q+p*F)/(Math.sqrt(ga*ga+p*p)*Math.sqrt(q*q+F*F)))/2),u=Math.sqrt(u[0]*u[0]+u[1]*u[1]),ga=Math.min(B,(a-u)/(p-1)),p=Math.min(B,(m-u)/(p+1))),null!=x?(u=Vc(null==J?[w,D]:[J,Z],[E,C],m,p,s),q=Vc([x,y],[w,D],m,p,s),B===p?fa.push("M",u[0],"A",p,",",p," 0 0,",H," ",u[1],"A",m,",",m," 0 ",1-s^(0<(u[1][0]-q[1][0])*u[1][1]-(u[1][1]-q[1][1])*u[1][0]?0:1),",",s," ",q[1],"A",p,",",p," 0 0,",H," ",
q[0]):fa.push("M",u[0],"A",p,",",p," 0 1,",H," ",q[0])):fa.push("M",E,",",C),null!=J?(m=Vc([E,C],[J,Z],a,-ga,s),x=Vc([w,D],null==x?[E,C]:[x,y],a,-ga,s),B===ga?fa.push("L",x[0],"A",ga,",",ga," 0 0,",H," ",x[1],"A",a,",",a," 0 ",s^(0<(x[1][0]-m[1][0])*x[1][1]-(x[1][1]-m[1][1])*x[1][0]?0:1),",",1-s," ",m[1],"A",ga,",",ga," 0 0,",H," ",m[0]):fa.push("L",x[0],"A",ga,",",ga," 0 0,",H," ",m[0])):fa.push("L",w,",",D)):(fa.push("M",E,",",C),null!=x&&fa.push("A",m,",",m," 0 ",H,",",s," ",x,",",y),fa.push("L",
w,",",D),null!=J&&fa.push("A",a,",",a," 0 ",ga,",",1-s," ",J,",",Z));return fa.push("Z"),fa.join("")}function b(a,b){return"M0,"+a+"A"+a+","+a+" 0 1,"+b+" 0,"+-a+"A"+a+","+a+" 0 1,"+b+" 0,"+a}var c=di,e=ei,f=ci,g=md,k=Xf,h=Yf,l=fi;return a.innerRadius=function(b){return arguments.length?(c=x(b),a):c},a.outerRadius=function(b){return arguments.length?(e=x(b),a):e},a.cornerRadius=function(b){return arguments.length?(f=x(b),a):f},a.padRadius=function(b){return arguments.length?(g=b==md?md:x(b),a):g},
a.startAngle=function(b){return arguments.length?(k=x(b),a):k},a.endAngle=function(b){return arguments.length?(h=x(b),a):h},a.padAngle=function(b){return arguments.length?(l=x(b),a):l},a.centroid=function(){var a=(+c.apply(this,arguments)+ +e.apply(this,arguments))/2,b=(+k.apply(this,arguments)+ +h.apply(this,arguments))/2-ja;return[Math.cos(b)*a,Math.sin(b)*a]},a};var md="auto";l.svg.line=function(){return Zf(aa)};var $d=l.map({linear:Ka,"linear-closed":$f,step:function(a){for(var b=0,c=a.length,
e=a[0],f=[e[0],",",e[1]];++b<c;)f.push("H",(e[0]+(e=a[b])[0])/2,"V",e[1]);return 1<c&&f.push("H",e[0]),f.join("")},"step-before":ae,"step-after":be,basis:ag,"basis-open":function(a){if(4>a.length)return Ka(a);for(var b,c=[],e=-1,f=a.length,g=[0],k=[0];3>++e;)b=a[e],g.push(b[0]),k.push(b[1]);c.push(Ga(fb,g)+","+Ga(fb,k));for(--e;++e<f;)b=a[e],g.shift(),g.push(b[0]),k.shift(),k.push(b[1]),de(c,g,k);return c.join("")},"basis-closed":function(a){for(var b,c,e=-1,f=a.length,g=f+4,k=[],h=[];4>++e;)c=a[e%
f],k.push(c[0]),h.push(c[1]);b=[Ga(fb,k),",",Ga(fb,h)];for(--e;++e<g;)c=a[e%f],k.shift(),k.push(c[0]),h.shift(),h.push(c[1]),de(b,k,h);return b.join("")},bundle:function(a,b){var c=a.length-1;if(c)for(var e,f,g=a[0][0],k=a[0][1],h=a[c][0]-g,l=a[c][1]-k,r=-1;++r<=c;)e=a[r],f=r/c,e[0]=b*e[0]+(1-b)*(g+f*h),e[1]=b*e[1]+(1-b)*(k+f*l);return ag(a)},cardinal:function(a,b){return 3>a.length?Ka(a):a[0]+Wc(a,ce(a,b))},"cardinal-open":function(a,b){return 4>a.length?Ka(a):a[1]+Wc(a.slice(1,-1),ce(a,b))},"cardinal-closed":function(a,
b){return 3>a.length?$f(a):a[0]+Wc((a.push(a[0]),a),ce([a[a.length-2]].concat(a,[a[1]]),b))},monotone:function(a){if(3>a.length)a=Ka(a);else{var b=a[0],c,e,f,g,k=[],h;c=0;h=a.length-1;for(var l=[],r=a[1],m=l[0]=ee(a[0],r);++c<h;)l[c]=(m+(m=ee(r,r=a[c+1])))/2;h=(l[c]=m,l);l=-1;for(r=a.length-1;++l<r;)c=ee(a[l],a[l+1]),Y(c)<N?h[l]=h[l+1]=0:(e=h[l]/c,f=h[l+1]/c,g=e*e+f*f,9<g&&(g=3*c/Math.sqrt(g),h[l]=g*e,h[l+1]=g*f));for(l=-1;++l<=r;)g=(a[Math.min(r,l+1)][0]-a[Math.max(0,l-1)][0])/(6*(1+h[l]*h[l])),
k.push([g||0,h[l]*g||0]);a=b+Wc(a,k)}return a}});$d.forEach(function(a,b){b.key=a;b.closed=/-closed$/.test(a)});var bg=[0,2/3,1/3,0],cg=[0,1/3,2/3,0],fb=[0,1/6,2/3,1/6];l.svg.line.radial=function(){var a=Zf(dg);return a.radius=a.x,delete a.x,a.angle=a.y,delete a.y,a};ae.reverse=be;be.reverse=ae;l.svg.area=function(){return eg(aa)};l.svg.area.radial=function(){var a=eg(dg);return a.radius=a.x,delete a.x,a.innerRadius=a.x0,delete a.x0,a.outerRadius=a.x1,delete a.x1,a.angle=a.y,delete a.y,a.startAngle=
a.y0,delete a.y0,a.endAngle=a.y1,delete a.y1,a};l.svg.chord=function(){function a(a,f){var g=b(this,c,a,f),k=b(this,e,a,f);return"M"+g.p0+("A"+g.r+","+g.r+" 0 "+ +(g.a1-g.a0>V)+",1 "+g.p1)+(g.a0==k.a0&&g.a1==k.a1?"Q 0,0 "+g.p0:"Q 0,0 "+k.p0+("A"+k.r+","+k.r+" 0 "+ +(k.a1-k.a0>V)+",1 "+k.p1)+("Q 0,0 "+g.p0))+"Z"}function b(a,b,c,e){var h=b.call(a,c,e);b=f.call(a,h,e);c=g.call(a,h,e)-ja;a=k.call(a,h,e)-ja;return{r:b,a0:c,a1:a,p0:[b*Math.cos(c),b*Math.sin(c)],p1:[b*Math.cos(a),b*Math.sin(a)]}}var c=
Gd,e=Hd,f=gi,g=Xf,k=Yf;return a.radius=function(b){return arguments.length?(f=x(b),a):f},a.source=function(b){return arguments.length?(c=x(b),a):c},a.target=function(b){return arguments.length?(e=x(b),a):e},a.startAngle=function(b){return arguments.length?(g=x(b),a):g},a.endAngle=function(b){return arguments.length?(k=x(b),a):k},a};l.svg.diagonal=function(){function a(a,g){var k=b.call(this,a,g),h=c.call(this,a,g),l=(k.y+h.y)/2,k=[k,{x:k.x,y:l},{x:h.x,y:l},h];return k=k.map(e),"M"+k[0]+"C"+k[1]+" "+
k[2]+" "+k[3]}var b=Gd,c=Hd,e=fg;return a.source=function(c){return arguments.length?(b=x(c),a):b},a.target=function(b){return arguments.length?(c=x(b),a):c},a.projection=function(b){return arguments.length?(e=b,a):e},a};l.svg.diagonal.radial=function(){var a=l.svg.diagonal(),b=fg,c=a.projection;return a.projection=function(a){return arguments.length?c(hi(b=a)):b},a};l.svg.symbol=function(){function a(a,f){return(vg.get(b.call(this,a,f))||gg)(c.call(this,a,f))}var b=ji,c=ii;return a.type=function(c){return arguments.length?
(b=x(c),a):b},a.size=function(b){return arguments.length?(c=x(b),a):c},a};var vg=l.map({circle:gg,cross:function(a){a=Math.sqrt(a/5)/2;return"M"+-3*a+","+-a+"H"+-a+"V"+-3*a+"H"+a+"V"+-a+"H"+3*a+"V"+a+"H"+a+"V"+3*a+"H"+-a+"V"+a+"H"+-3*a+"Z"},diamond:function(a){a=Math.sqrt(a/(2*wg));var b=a*wg;return"M0,"+-a+"L"+b+",0 0,"+a+" "+-b+",0Z"},square:function(a){a=Math.sqrt(a)/2;return"M"+-a+","+-a+"L"+a+","+-a+" "+a+","+a+" "+-a+","+a+"Z"},"triangle-down":function(a){a=Math.sqrt(a/nd);var b=a*nd/2;return"M0,"+
b+"L"+a+","+-b+" "+-a+","+-b+"Z"},"triangle-up":function(a){a=Math.sqrt(a/nd);var b=a*nd/2;return"M0,"+-b+"L"+a+","+b+" "+-a+","+b+"Z"}});l.svg.symbolTypes=vg.keys();var nd=Math.sqrt(3),wg=Math.tan(30*X);ba.transition=function(a){for(var b,c=pb||++xg,e=ge(a),f=[],g=od||{time:Date.now(),ease:qh,delay:0,duration:250},k=-1,h=this.length;++k<h;){f.push(a=[]);for(var l=this[k],r=-1,m=l.length;++r<m;)(b=l[r])&&Xc(b,r,e,c,g),a.push(b)}return jc(f,e,c)};ba.interrupt=function(a){return this.each(null==a?$c:
hg(ge(a)))};var pb,od,$c=hg(ge()),ma=[],xg=0;ma.call=ba.call;ma.empty=ba.empty;ma.node=ba.node;ma.size=ba.size;l.transition=function(a,b){return a&&a.transition?pb?a.transition(b):a:l.selection().transition(a)};l.transition.prototype=ma;ma.select=function(a){var b,c,e,f=this.id,g=this.namespace,k=[];a=Kb(a);for(var h=-1,l=this.length;++h<l;){k.push(b=[]);for(var r=this[h],m=-1,p=r.length;++m<p;)(e=r[m])&&(c=a.call(e,e.__data__,m,h))?("__data__"in e&&(c.__data__=e.__data__),Xc(c,m,g,f,e[g][f]),b.push(c)):
b.push(null)}return jc(k,g,f)};ma.selectAll=function(a){var b,c,e,f,g=this.id,k=this.namespace,h=[];a=qb(a);for(var l=-1,r=this.length;++l<r;)for(var m=this[l],p=-1,q=m.length;++p<q;)if(b=m[p]){f=b[k][g];c=a.call(b,b.__data__,p,l);h.push(b=[]);for(var u=-1,s=c.length;++u<s;)(e=c[u])&&Xc(e,u,k,g,f),b.push(e)}return jc(h,k,g)};ma.filter=function(a){var b,c,e,f=[];"function"!=typeof a&&(a=rc(a));for(var g=0,k=this.length;k>g;g++){f.push(b=[]);c=this[g];for(var h=0,l=c.length;l>h;h++)(e=c[h])&&a.call(e,
e.__data__,h,g)&&b.push(e)}return jc(f,this.namespace,this.id)};ma.tween=function(a,b){var c=this.id,e=this.namespace;return 2>arguments.length?this.node()[e][c].tween.get(a):Da(this,null==b?function(b){b[e][c].tween.remove(a)}:function(f){f[e][c].tween.set(a,b)})};ma.attr=function(a,b){function c(){this.removeAttribute(h)}function e(){this.removeAttributeNS(h.space,h.local)}function f(a){return null==a?c:(a+="",function(){var b,c=this.getAttribute(h);return c!==a&&(b=k(c,a),function(a){this.setAttribute(h,
b(a))})})}function g(a){return null==a?e:(a+="",function(){var b,c=this.getAttributeNS(h.space,h.local);return c!==a&&(b=k(c,a),function(a){this.setAttributeNS(h.space,h.local,b(a))})})}if(2>arguments.length){for(b in a)this.attr(b,a[b]);return this}var k="transform"==a?zf:nb,h=l.ns.qualify(a);return fe(this,"attr."+a,b,h.local?g:f)};ma.attrTween=function(a,b){function c(a,c){var e=b.call(this,a,c,this.getAttribute(f));return e&&function(a){this.setAttribute(f,e(a))}}function e(a,c){var e=b.call(this,
a,c,this.getAttributeNS(f.space,f.local));return e&&function(a){this.setAttributeNS(f.space,f.local,e(a))}}var f=l.ns.qualify(a);return this.tween("attr."+a,f.local?e:c)};ma.style=function(a,b,c){function e(){this.style.removeProperty(a)}var f=arguments.length;if(3>f){if("string"!=typeof a){2>f&&(b="");for(c in a)this.style(c,a[c],b);return this}c=""}return fe(this,"style."+a,b,function(b){return null==b?e:(b+="",function(){var e,f=I(this).getComputedStyle(this,null).getPropertyValue(a);return f!==
b&&(e=nb(f,b),function(b){this.style.setProperty(a,e(b),c)})})})};ma.styleTween=function(a,b,c){return 3>arguments.length&&(c=""),this.tween("style."+a,function(e,f){var g=b.call(this,e,f,I(this).getComputedStyle(this,null).getPropertyValue(a));return g&&function(b){this.style.setProperty(a,g(b),c)}})};ma.text=function(a){return fe(this,"text",a,ki)};ma.remove=function(){var a=this.namespace;return this.each("end.transition",function(){var b;2>this[a].count&&(b=this.parentNode)&&b.removeChild(this)})};
ma.ease=function(a){var b=this.id,c=this.namespace;return 1>arguments.length?this.node()[c][b].ease:("function"!=typeof a&&(a=l.ease.apply(l,arguments)),Da(this,function(e){e[c][b].ease=a}))};ma.delay=function(a){var b=this.id,c=this.namespace;return 1>arguments.length?this.node()[c][b].delay:Da(this,"function"==typeof a?function(e,f,g){e[c][b].delay=+a.call(e,e.__data__,f,g)}:(a=+a,function(e){e[c][b].delay=a}))};ma.duration=function(a){var b=this.id,c=this.namespace;return 1>arguments.length?this.node()[c][b].duration:
Da(this,"function"==typeof a?function(e,f,g){e[c][b].duration=Math.max(1,a.call(e,e.__data__,f,g))}:(a=Math.max(1,a),function(e){e[c][b].duration=a}))};ma.each=function(a,b){var c=this.id,e=this.namespace;if(2>arguments.length){var f=od,g=pb;try{pb=c,Da(this,function(b,f,g){od=b[e][c];a.call(b,b.__data__,f,g)})}finally{od=f,pb=g}}else Da(this,function(f){f=f[e][c];(f.event||(f.event=l.dispatch("start","end","interrupt"))).on(a,b)});return this};ma.transition=function(){for(var a,b,c,e,f=this.id,g=
++xg,h=this.namespace,l=[],m=0,r=this.length;r>m;m++){l.push(a=[]);b=this[m];for(var p=0,q=b.length;q>p;p++)(c=b[p])&&(e=c[h][f],Xc(c,p,h,g,{time:e.time,ease:e.ease,delay:e.delay+e.duration,duration:e.duration})),a.push(c)}return jc(l,h,g)};l.svg.axis=function(){function a(a){a.each(function(){var a,r=l.select(this),p=this.__chart__||c,q=this.__chart__=c.copy(),u=null==m?q.ticks?q.ticks.apply(q,n):q.domain():m,s=null==b?q.tickFormat?q.tickFormat.apply(q,n):aa:b,H=r.selectAll(".tick").data(u,q),u=
H.enter().insert("g",".domain").attr("class","tick").style("opacity",N),E=l.transition(H.exit()).style("opacity",N).remove(),C=l.transition(H.order()).style("opacity",1),x=Math.max(f,0)+h,w=Rc(q),r=r.selectAll(".domain").data([0]),r=(r.enter().append("path").attr("class","domain"),l.transition(r));u.append("line");u.append("text");var y,D,J,Z,F=u.select("line"),ga=C.select("line"),s=H.select("text").text(s),H=u.select("text"),fa=C.select("text"),O="top"===e||"left"===e?-1:1;if("bottom"===e||"top"===
e?(a=li,y="x",J="y",D="x2",Z="y2",s.attr("dy",0>O?"0em":".71em").style("text-anchor","middle"),r.attr("d","M"+w[0]+","+O*g+"V0H"+w[1]+"V"+O*g)):(a=mi,y="y",J="x",D="y2",Z="x2",s.attr("dy",".32em").style("text-anchor",0>O?"end":"start"),r.attr("d","M"+O*g+","+w[0]+"H0V"+w[1]+"H"+O*g)),F.attr(Z,O*f),H.attr(J,O*x),ga.attr(D,0).attr(Z,O*f),fa.attr(y,0).attr(J,O*x),q.rangeBand)var T=q,$=T.rangeBand()/2,p=q=function(a){return T(a)+$};else p.rangeBand?p=q:E.call(a,q,p);u.call(a,p,q);C.call(a,q,q)})}var b,
c=l.scale.linear(),e=yg,f=6,g=6,h=3,n=[10],m=null;return a.scale=function(b){return arguments.length?(c=b,a):c},a.orient=function(b){return arguments.length?(e=b in Ji?b+"":yg,a):e},a.ticks=function(){return arguments.length?(n=Oa(arguments),a):n},a.tickValues=function(b){return arguments.length?(m=b,a):m},a.tickFormat=function(c){return arguments.length?(b=c,a):b},a.tickSize=function(b){var c=arguments.length;return c?(f=+b,g=+arguments[c-1],a):f},a.innerTickSize=function(b){return arguments.length?
(f=+b,a):f},a.outerTickSize=function(b){return arguments.length?(g=+b,a):g},a.tickPadding=function(b){return arguments.length?(h=+b,a):h},a.tickSubdivide=function(){return arguments.length&&a},a};var yg="bottom",Ji={top:1,right:1,bottom:1,left:1};l.svg.brush=function(){function a(g){g.each(function(){var g=l.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",f).on("touchstart.brush",f),h=g.selectAll(".background").data([0]);h.enter().append("rect").attr("class",
"background").style("visibility","hidden").style("cursor","crosshair");g.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var k=g.selectAll(".resize").data(H,aa);k.exit().remove();k.enter().append("g").attr("class",function(a){return"resize "+a}).style("cursor",function(a){return Ki[a]}).append("rect").attr("x",function(a){return/[ew]$/.test(a)?-3:null}).attr("y",function(a){return/^[ns]/.test(a)?-3:null}).attr("width",6).attr("height",6).style("visibility",
"hidden");k.style("display",a.empty()?"none":null);var n,g=l.transition(g),h=l.transition(h);m&&(n=Rc(m),h.attr("x",n[0]).attr("width",n[1]-n[0]),c(g));r&&(n=Rc(r),h.attr("y",n[0]).attr("height",n[1]-n[0]),e(g));b(g)})}function b(a){a.selectAll(".resize").attr("transform",function(a){return"translate("+p[+/e$/.test(a)]+","+q[+/^s/.test(a)]+")"})}function c(a){a.select(".extent").attr("x",p[0]);a.selectAll(".extent,.n>rect,.s>rect").attr("width",p[1]-p[0])}function e(a){a.select(".extent").attr("y",
q[0]);a.selectAll(".extent,.e>rect,.w>rect").attr("height",q[1]-q[0])}function f(){function f(){var a=l.mouse(y),g=!1;w&&(a[0]+=w[0],a[1]+=w[1]);O||(l.event.altKey?(C||(C=[(p[0]+p[1])/2,(q[0]+q[1])/2]),$[0]=p[+(a[0]<C[0])],$[1]=q[+(a[1]<C[1])]):C=null);ga&&H(a,m,0)&&(c(Z),g=!0);fa&&H(a,r,1)&&(e(Z),g=!0);g&&(b(Z),J({type:"brush",mode:O?"move":"resize"}))}function H(a,b,c){var e,f,l=Rc(b);b=l[0];var l=l[1],n=$[c],m=c?q:p,r=m[1]-m[0];return O&&(b-=n,l-=r+n),e=(c?s:u)?Math.max(b,Math.min(l,a[c])):a[c],
O?f=(e+=n)+r:(C&&(n=Math.max(b,Math.min(l,2*C[c]-e))),e>n?(f=e,e=n):f=n),m[0]!=e||m[1]!=f?(c?h=null:g=null,m[0]=e,m[1]=f,!0):void 0}function x(){f();Z.style("pointer-events","all").selectAll(".resize").style("display",a.empty()?"none":null);l.select("body").style("cursor",null);N.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null);T();J({type:"brushend"})}var C,w,y=this,D=l.select(l.event.target),
J=n.of(y,arguments),Z=l.select(y),F=D.datum(),ga=!/^(n|s)$/.test(F)&&m,fa=!/^(e|w)$/.test(F)&&r,O=D.classed("extent"),T=Ua(y),$=l.mouse(y),N=l.select(I(y)).on("keydown.brush",function(){32==l.event.keyCode&&(O||(C=null,$[0]-=p[1],$[1]-=q[1],O=2),Ma())}).on("keyup.brush",function(){32==l.event.keyCode&&2==O&&($[0]+=p[1],$[1]+=q[1],O=0,Ma())});if(l.event.changedTouches?N.on("touchmove.brush",f).on("touchend.brush",x):N.on("mousemove.brush",f).on("mouseup.brush",x),Z.interrupt().selectAll("*").interrupt(),
O)$[0]=p[0]-$[0],$[1]=q[0]-$[1];else if(F){var W=+/w$/.test(F),F=+/^n/.test(F);w=[p[1-W]-$[0],q[1-F]-$[1]];$[0]=p[W];$[1]=q[F]}else l.event.altKey&&(C=$.slice());Z.style("pointer-events","none").selectAll(".resize").style("display",null);l.select("body").style("cursor",D.style("cursor"));J({type:"brushstart"});f()}var g,h,n=Jb(a,"brushstart","brush","brushend"),m=null,r=null,p=[0,0],q=[0,0],u=!0,s=!0,H=oe[0];return a.event=function(a){a.each(function(){var a=n.of(this,arguments),b={x:p,y:q,i:g,j:h},
c=this.__chart__||b;this.__chart__=b;pb?l.select(this).transition().each("start.brush",function(){g=c.i;h=c.j;p=c.x;q=c.y;a({type:"brushstart"})}).tween("brush:brush",function(){var c=Qc(p,b.x),e=Qc(q,b.y);return g=h=null,function(f){p=b.x=c(f);q=b.y=e(f);a({type:"brush",mode:"resize"})}}).each("end.brush",function(){g=b.i;h=b.j;a({type:"brush",mode:"resize"});a({type:"brushend"})}):(a({type:"brushstart"}),a({type:"brush",mode:"resize"}),a({type:"brushend"}))})},a.x=function(b){return arguments.length?
(m=b,H=oe[!m<<1|!r],a):m},a.y=function(b){return arguments.length?(r=b,H=oe[!m<<1|!r],a):r},a.clamp=function(b){return arguments.length?(m&&r?(u=!!b[0],s=!!b[1]):m?u=!!b:r&&(s=!!b),a):m&&r?[u,s]:m?u:r?s:null},a.extent=function(b){var c,e,f,l,n;return arguments.length?(m&&(c=b[0],e=b[1],r&&(c=c[0],e=e[0]),g=[c,e],m.invert&&(c=m(c),e=m(e)),c>e&&(n=c,c=e,e=n),(c!=p[0]||e!=p[1])&&(p=[c,e])),r&&(f=b[0],l=b[1],m&&(f=f[1],l=l[1]),h=[f,l],r.invert&&(f=r(f),l=r(l)),f>l&&(n=f,f=l,l=n),(f!=q[0]||l!=q[1])&&(q=
[f,l])),a):(m&&(g?(c=g[0],e=g[1]):(c=p[0],e=p[1],m.invert&&(c=m.invert(c),e=m.invert(e)),c>e&&(n=c,c=e,e=n))),r&&(h?(f=h[0],l=h[1]):(f=q[0],l=q[1],r.invert&&(f=r.invert(f),l=r.invert(l)),f>l&&(n=f,f=l,l=n))),m&&r?[[c,f],[e,l]]:m?[c,e]:r&&[f,l])},a.clear=function(){return a.empty()||(p=[0,0],q=[0,0],g=h=null),a},a.empty=function(){return!!m&&p[0]==p[1]||!!r&&q[0]==q[1]},l.rebind(a,n,"on")};var Ki={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",
sw:"nesw-resize"},oe=["n e s w nw ne se sw".split(" "),["e","w"],["n","s"],[]],pe=P.format=mg.timeFormat,zg=pe.utc,Ag=zg("%Y-%m-%dT%H:%M:%S.%LZ");pe.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?he:Ag;he.parse=function(a){a=new Date(a);return isNaN(a)?null:a};he.toString=Ag.toString;P.second=ib(function(a){return new pa(1E3*Math.floor(a/1E3))},function(a,b){a.setTime(a.getTime()+1E3*Math.floor(b))},function(a){return a.getSeconds()});P.seconds=P.second.range;P.seconds.utc=
P.second.utc.range;P.minute=ib(function(a){return new pa(6E4*Math.floor(a/6E4))},function(a,b){a.setTime(a.getTime()+6E4*Math.floor(b))},function(a){return a.getMinutes()});P.minutes=P.minute.range;P.minutes.utc=P.minute.utc.range;P.hour=ib(function(a){var b=a.getTimezoneOffset()/60;return new pa(36E5*(Math.floor(a/36E5-b)+b))},function(a,b){a.setTime(a.getTime()+36E5*Math.floor(b))},function(a){return a.getHours()});P.hours=P.hour.range;P.hours.utc=P.hour.utc.range;P.month=ib(function(a){return a=
P.day(a),a.setDate(1),a},function(a,b){a.setMonth(a.getMonth()+b)},function(a){return a.getMonth()});P.months=P.month.range;P.months.utc=P.month.utc.range;var Yc=[1E3,5E3,15E3,3E4,6E4,3E5,9E5,18E5,36E5,108E5,216E5,432E5,864E5,1728E5,6048E5,2592E6,7776E6,31536E6],qe=[[P.second,1],[P.second,5],[P.second,15],[P.second,30],[P.minute,1],[P.minute,5],[P.minute,15],[P.minute,30],[P.hour,1],[P.hour,3],[P.hour,6],[P.hour,12],[P.day,1],[P.day,2],[P.week,1],[P.month,1],[P.month,3],[P.year,1]],Li=pe.multi([[".%L",
function(a){return a.getMilliseconds()}],[":%S",function(a){return a.getSeconds()}],["%I:%M",function(a){return a.getMinutes()}],["%I %p",function(a){return a.getHours()}],["%a %d",function(a){return a.getDay()&&1!=a.getDate()}],["%b %d",function(a){return 1!=a.getDate()}],["%B",function(a){return a.getMonth()}],["%Y",Zb]]),ni={range:function(a,b,c){return l.range(Math.ceil(a/c)*c,+b,c).map(ob)},floor:aa,ceil:aa};qe.year=P.year;P.scale=function(){return ie(l.scale.linear(),qe,Li)};var Bg=qe.map(function(a){return[a[0].utc,
a[1]]}),Mi=zg.multi([[".%L",function(a){return a.getUTCMilliseconds()}],[":%S",function(a){return a.getUTCSeconds()}],["%I:%M",function(a){return a.getUTCMinutes()}],["%I %p",function(a){return a.getUTCHours()}],["%a %d",function(a){return a.getUTCDay()&&1!=a.getUTCDate()}],["%b %d",function(a){return 1!=a.getUTCDate()}],["%B",function(a){return a.getUTCMonth()}],["%Y",Zb]]);Bg.year=P.year.utc;P.scale.utc=function(){return ie(l.scale.linear(),Bg,Mi)};l.text=na(function(a){return a.responseText});
l.json=function(a,b){return J(a,"application/json",oi,b)};l.html=function(a,b){return J(a,"text/html",pi,b)};l.xml=na(function(a){return a.responseXML});"function"==typeof define&&define.amd?(this.d3=l,define(l)):"object"==typeof module&&module.exports?module.exports=l:this.d3=l}();(function(){function I(h){var m=h.source;h=h.target;var q;var p=h;if(m===p)q=m;else{q=U(m);for(var p=U(p),s=q.pop(),u=p.pop(),w=null;s===u;)w=s,s=q.pop(),u=p.pop();q=w}for(p=[m];m!==q;)m=m.parent,p.push(m);for(m=p.length;h!==q;)p.splice(m,0,h),h=h.parent;return p}function U(h){for(var m=[],q=h.parent;null!=q;)m.push(h),h=q,q=q.parent;m.push(h);return m}function G(h){h.fixed|=2}function S(h){h!==za&&(h.fixed&=1)}function la(){oa();za.fixed&=1;ra=za=null}function oa(){za.px+=d3.event.dx;za.py+=d3.event.dy;
ra.resume()}function ta(h,m,q){var p=0,s=0;h.charge=0;if(!h.leaf)for(var u=h.nodes,w=u.length,y=-1,D;++y<w;)D=u[y],null!=D&&(ta(D,m,q),h.charge+=D.charge,p+=D.charge*D.cx,s+=D.charge*D.cy);h.point&&(h.leaf||(h.point.x+=Math.random()-0.5,h.point.y+=Math.random()-0.5),m*=q[h.point.index],h.charge+=h.pointCharge=m,p+=m*h.point.x,s+=m*h.point.y);h.cx=p/h.charge;h.cy=s/h.charge}function ua(h){return 20}function La(h){return 1}function va(h){return h.x}function Ca(h){return h.y}function ia(h,m,q){h.y0=
m;h.y=q}function A(h){for(var m=1,q=0,p=h[0][1],s,u=h.length;m<u;++m)(s=h[m][1])>p&&(q=m,p=s);return q}function lc(h){return h.reduce(mc,0)}function mc(h,m){return h+m[1]}function R(h,m){return aa(h,Math.ceil(Math.log(m.length)/Math.LN2+1))}function aa(h,m){for(var q=-1,p=+h[0],s=(h[1]-p)/m,u=[];++q<=m;)u[q]=s*q+p;return u}function s(h){return[d3.min(h),d3.max(h)]}function Gb(h,m){h.sort=d3.rebind(h,m.sort);h.parents=d3.rebind(h,m.parents);h.links_parents=Jb;h.value=d3.rebind(h,m.value);h.nodes=function(m){$a=
!0;return(h.nodes=h)(m)};return h}function ea(h,m){h.sort=d3.rebind(h,m.sort);h.children=d3.rebind(h,m.children);h.links=Na;h.value=d3.rebind(h,m.value);h.nodes=function(m){$a=!0;return(h.nodes=h)(m)};return h}function Hb(h){return h.parents}function nc(h){return h.children}function Ma(h){return h.value}function Ib(h,m){return m.value-h.value}function Jb(h){return d3.merge(h.map(function(h){return(h.parents||[]).map(function(q){return{source:h,target:q}})}))}function Na(h){return d3.merge(h.map(function(h){return(h.children||
[]).map(function(q){return{source:h,target:q}})}))}function Kb(h,m){return h.value-m.value}function qb(h,m){var q=h._pack_next;h._pack_next=m;m._pack_prev=h;m._pack_next=q;q._pack_prev=m}function Lb(h,m){h._pack_next=m;m._pack_prev=h}function Mb(h,m){var q=m.x-h.x,p=m.y-h.y,s=h.r+m.r;return 0.001<s*s-q*q-p*p}function pc(h){function m(h){q=Math.min(h.x-h.r,q);p=Math.max(h.x+h.r,p);s=Math.min(h.y-h.r,s);u=Math.max(h.y+h.r,u)}var q=Infinity,p=-Infinity,s=Infinity,u=-Infinity,w=h.length,y,D,F,W,x;h.forEach(qc);
y=h[0];y.x=-y.r;y.y=0;m(y);if(1<w&&(D=h[1],D.x=D.r,D.y=0,m(D),2<w)){F=h[2];Pb(y,D,F);m(F);qb(y,F);y._pack_prev=F;qb(F,D);D=y._pack_next;for(var na=3;na<w;na++){Pb(y,D,F=h[na]);var J=0,T=1,O=1;for(W=D._pack_next;W!==D;W=W._pack_next,T++)if(Mb(W,F)){J=1;break}if(1==J)for(x=y._pack_prev;x!==W._pack_prev;x=x._pack_prev,O++)if(Mb(x,F)){O<T&&(J=-1,W=x);break}0==J?(qb(y,F),D=F,m(F)):(0<J?(Lb(y,W),D=W):(Lb(W,D),y=W),na--)}}y=(q+p)/2;D=(s+u)/2;for(na=F=0;na<w;na++)W=h[na],W.x-=y,W.y-=D,F=Math.max(F,W.r+Math.sqrt(W.x*
W.x+W.y*W.y));h.forEach(sd);return F}function qc(h){h._pack_next=h._pack_prev=h}function sd(h){delete h._pack_next;delete h._pack_prev}function Nb(h){var m=h.children;m&&m.length?(m.forEach(Nb),h.r=pc(m)):h.r=Math.sqrt(h.value)}function Ob(h,m,q,p){var s=h.children;h.x=m+=p*h.x;h.y=q+=p*h.y;h.r*=p;if(s){h=-1;for(var u=s.length;++h<u;)Ob(s[h],m,q,p)}}function Pb(h,m,q){var p=h.r+q.r,s=m.x-h.x,u=m.y-h.y;if(p&&(s||u)){var w=m.r+q.r;m=Math.sqrt(s*s+u*u);var y=Math.max(-1,Math.min(1,(p*p+m*m-w*w)/(2*p*
m))),w=Math.acos(y);m=y*(p/=m);p*=Math.sin(w);q.x=h.x+m*s+p*u;q.y=h.y+m*u-p*s}else q.x=h.x+p,q.y=h.y}function td(h){return 1+d3.max(h,function(h){return h.y})}function rc(h){return h.reduce(function(h,q){return h+q.x},0)/h.length}function sc(h){var m=h.children;return m&&m.length?sc(m[0]):h}function Da(h){var m=h.children,q;return m&&(q=m.length)?Da(m[q-1]):h}function Qb(h,m){return h.parent==m.parent?1:2}function Rb(h){var m=h.parents;return m&&m.length?m[0]:h._tree.thread}function rb(h){var m=h.children;
return m&&m.length?m[0]:h._tree.thread}function sb(h){var m=h.parents,q;return m&&(q=m.length)?m[q-1]:h._tree.thread}function Tb(h){var m=h.children,q;return m&&(q=m.length)?m[q-1]:h._tree.thread}function Ua(h,m){var q=h.parents;if(q&&(s=q.length))for(var p,s,u=-1;++u<s;)0<m(p=Ua(q[u],m),h)&&(h=p);return h}function Za(h,m){var q=h.children;if(q&&(s=q.length))for(var p,s,u=-1;++u<s;)0<m(p=Za(q[u],m),h)&&(h=p);return h}function tc(h,m){return h.x-m.x}function tb(h,m){return m.x-h.x}function Ha(h,m){return h.depth-
m.depth}function Ub(h,m){function q(h,s){var u=h.parents;if(u&&(F=u.length))for(var w,y=null,D=-1,F;++D<F;)w=u[D],q(w,y),y=w;m(h,s)}q(h,null)}function hb(h,m){function q(h,s){var u=h.children;if(u&&(F=u.length))for(var w,y=null,D=-1,F;++D<F;)w=u[D],q(w,y),y=w;m(h,s)}q(h,null)}function Pa(h,m,q){h=h._tree;m=m._tree;var p=q/(m.number-h.number);h.change+=p;m.change-=p;m.shift+=q;m.prelim+=q;m.mod+=q}function wa(h){return{x:h.x,y:h.y,dx:h.dx,dy:h.dy}}function ub(h,m){var q=h.x+m[3],p=h.y+m[0],s=h.dx-
m[1]-m[3],u=h.dy-m[0]-m[2];0>s&&(q+=s/2,s=0);0>u&&(p+=u/2,u=0);return{x:q,y:p,dx:s,dy:u}}d3.layout={};d3.layout.bundle=function(){return function(h){for(var m=[],q=-1,p=h.length;++q<p;)m.push(I(h[q]));return m}};d3.layout.chord=function(){function h(){var h={},q=[],J=d3.range(w),T=[],O,A,G,$,Z;p=[];s=[];O=0;for($=-1;++$<w;){A=0;for(Z=-1;++Z<w;)A+=u[$][Z];q.push(A);T.push(d3.range(w));O+=A}D&&J.sort(function(h,m){return D(q[h],q[m])});F&&T.forEach(function(h,m){h.sort(function(h,p){return F(u[m][h],
u[m][p])})});O=(2*Math.PI-y*w)/O;A=0;for($=-1;++$<w;){G=A;for(Z=-1;++Z<w;){var ga=J[$],Wb=T[$][Z],fa=u[ga][Wb];h[ga+"-"+Wb]={index:ga,subindex:Wb,startAngle:A,endAngle:A+=fa*O,value:fa}}s.push({index:ga,startAngle:G,endAngle:A,value:(A-G)/O});A+=y}for($=-1;++$<w;)for(Z=$-1;++Z<w;)J=h[$+"-"+Z],T=h[Z+"-"+$],(J.value||T.value)&&p.push(J.value<T.value?{source:T,target:J}:{source:J,target:T});W&&m()}function m(){p.sort(function(h,m){return W(h.target.value,m.target.value)})}var q={},p,s,u,w,y=0,D,F,W;
q.matrix=function(h){if(!arguments.length)return u;w=(u=h)&&u.length;p=s=null;return q};q.padding=function(h){if(!arguments.length)return y;y=h;p=s=null;return q};q.sortGroups=function(h){if(!arguments.length)return D;D=h;p=s=null;return q};q.sortSubgroups=function(h){if(!arguments.length)return F;F=h;p=null;return q};q.sortChords=function(h){if(!arguments.length)return W;W=h;p&&m();return q};q.chords=function(){p||h();return p};q.groups=function(){s||h();return s};return q};d3.layout.force=function(){function h(h){return function(m,
p,q,u,s){if(m.point!==h){q=m.cx-h.x;s=m.cy-h.y;var w=1/Math.sqrt(q*q+s*s);if((u-p)*w<J)return p=m.charge*w*w,h.px-=q*p,h.py-=s*p,!0;m.point&&isFinite(w)&&(p=m.pointCharge*w*w,h.px-=q*p,h.py-=s*p)}return!m.charge}}function m(){var m=T.length,p=O.length,q,w,J,F,A,W,G;for(q=0;q<p;++q)if(w=O[q],J=w.source,F=w.target,W=F.x-J.x,G=F.y-J.y,A=W*W+G*G)A=y*R[q]*((A=Math.sqrt(A))-I[q])/A,W*=A,G*=A,F.x-=W*(A=J.weight/(F.weight+J.weight)),F.y-=G*A,J.x+=W*(A=1-A),J.y+=G*A;if(A=y*na)if(W=u[0]/2,G=u[1]/2,q=-1,A)for(;++q<
m;)w=T[q],w.x+=(W-w.x)*A,w.y+=(G-w.y)*A;if(x)for(ta(p=d3.geom.quadtree(T),y,$),q=-1;++q<m;)(w=T[q]).fixed||p.visit(h(w));for(q=-1;++q<m;)w=T[q],w.fixed?(w.x=w.px,w.y=w.py):(w.x-=(w.px-(w.px=w.x))*D,w.y-=(w.py-(w.py=w.y))*D);s.tick.dispatch({type:"tick",alpha:y});return 0.005>(y*=0.99)}function q(h){G(za=h);ra=p}var p={},s=d3.dispatch("tick"),u=[1,1],w,y,D=0.9,F=ua,A=La,x=-30,na=0.1,J=0.8,T=[],O=[],I,R,$;p.on=function(h,m){s[h].add(m);return p};p.nodes=function(h){if(!arguments.length)return T;T=h;
return p};p.links=function(h){if(!arguments.length)return O;O=h;return p};p.size=function(h){if(!arguments.length)return u;u=h;return p};p.linkDistance=function(h){if(!arguments.length)return F;F=d3.functor(h);return p};p.distance=p.linkDistance;p.linkStrength=function(h){if(!arguments.length)return A;A=d3.functor(h);return p};p.friction=function(h){if(!arguments.length)return D;D=h;return p};p.charge=function(h){if(!arguments.length)return x;x="function"===typeof h?h:+h;return p};p.gravity=function(h){if(!arguments.length)return na;
na=h;return p};p.theta=function(h){if(!arguments.length)return J;J=h;return p};p.start=function(){function h(p,u){var y;if(!J){J=[];for(q=0;q<s;++q)J[q]=[];for(q=0;q<w;++q)y=O[q],J[y.source.index].push(y.target),J[y.target.index].push(y.source)}y=J[m];for(var H=-1,x=y.length,D;++H<x;)if(!isNaN(D=y[H][p]))return D;return Math.random()*u}var m,q,s=T.length,w=O.length,y=u[0],D=u[1],J,H;for(m=0;m<s;++m)(H=T[m]).index=m,H.weight=0;I=[];R=[];for(m=0;m<w;++m)H=O[m],"number"==typeof H.source&&(H.source=T[H.source]),
"number"==typeof H.target&&(H.target=T[H.target]),I[m]=F.call(this,H,m),R[m]=A.call(this,H,m),++H.source.weight,++H.target.weight;for(m=0;m<s;++m)H=T[m],isNaN(H.x)&&(H.x=h("x",y)),isNaN(H.y)&&(H.y=h("y",D)),isNaN(H.px)&&(H.px=H.x),isNaN(H.py)&&(H.py=H.y);$=[];if("function"===typeof x)for(m=0;m<s;++m)$[m]=+x.call(this,T[m],m);else for(m=0;m<s;++m)$[m]=x;return p.resume()};p.resume=function(){y=0.1;d3.timer(m);return p};p.stop=function(){y=0;return p};p.drag=function(){w||(w=d3.behavior.drag().on("dragstart",
q).on("drag",oa).on("dragend",la));this.on("mouseover.force",G).on("mouseout.force",S).call(w)};return p};var ra,za;d3.layout.partition=function(){function h(m,p,q,s){var H=m.children;m.x=p;m.y=m.depth*s;m.dx=q;m.dy=s;if(H&&(x=H.length)){var A=-1,x,na;for(q=m.value?q/m.value:0;++A<x;)h(na=H[A],p,m=na.value*q,s),p+=m}}function m(h){h=h.children;var p=0;if(h&&(s=h.length))for(var q=-1,s;++q<s;)p=Math.max(p,m(h[q]));return 1+p}function q(q,w){var y=p.call(this,q,w);h(y[0],0,s[0],s[1]/m(y[0]));return y}
var p=d3.layout.hierarchy(),s=[1,1];q.size=function(h){if(!arguments.length)return s;s=h;return q};return ea(q,p)};d3.layout.pie=function(){function h(h,w){var y=+("function"===typeof p?p.apply(this,arguments):p),D=("function"===typeof s?s.apply(this,arguments):s)-p,F=d3.range(h.length);null!=q&&F.sort(function(m,p){return q(h[m],h[p])});var A=h.map(m),D=D/A.reduce(function(h,m){return h+m},0),x=F.map(function(m){return{data:h[m],value:d=A[m],startAngle:y,endAngle:y+=d*D}});return h.map(function(h,
m){return x[F[m]]})}var m=Number,q=null,p=0,s=2*Math.PI;h.value=function(p){if(!arguments.length)return m;m=p;return h};h.sort=function(m){if(!arguments.length)return q;q=m;return h};h.startAngle=function(m){if(!arguments.length)return p;p=m;return h};h.endAngle=function(m){if(!arguments.length)return s;s=m;return h};return h};d3.layout.stack=function(){function h(y,D){var F=y.map(function(p,q){return m.call(h,p,q)}),A=F.map(function(m,p){return m.map(function(m,p){return[u.call(h,m,p),w.call(h,m,
p)]})}),x=q.call(h,A,D),F=d3.permute(F,x),A=d3.permute(A,x),x=p.call(h,A,D),G=F.length,J=F[0].length,T,O,I;for(O=0;O<J;++O)for(s.call(h,F[0][O],I=x[O],A[0][O][1]),T=1;T<G;++T)s.call(h,F[T][O],I+=A[T-1][O][1],A[T][O][1]);return y}var m=Object,q=xa["default"],p=Vb.zero,s=ia,u=va,w=Ca;h.values=function(p){if(!arguments.length)return m;m=p;return h};h.order=function(m){if(!arguments.length)return q;q="function"===typeof m?m:xa[m];return h};h.offset=function(m){if(!arguments.length)return p;p="function"===
typeof m?m:Vb[m];return h};h.x=function(m){if(!arguments.length)return u;u=m;return h};h.y=function(m){if(!arguments.length)return w;w=m;return h};h.out=function(m){if(!arguments.length)return s;s=m;return h};return h};var xa={"inside-out":function(h){var m=h.length,q,p=h.map(A),s=h.map(lc),u=d3.range(m).sort(function(h,m){return p[h]-p[m]}),w=0,y=0,D=[],F=[];for(h=0;h<m;++h)q=u[h],w<y?(w+=s[q],D.push(q)):(y+=s[q],F.push(q));return F.reverse().concat(D)},reverse:function(h){return d3.range(h.length).reverse()},
"default":function(h){return d3.range(h.length)}},Vb={silhouette:function(h){var m=h.length,q=h[0].length,p=[],s=0,u,w,y,D=[];for(w=0;w<q;++w){for(y=u=0;u<m;u++)y+=h[u][w][1];y>s&&(s=y);p.push(y)}for(w=0;w<q;++w)D[w]=(s-p[w])/2;return D},wiggle:function(h){var m=h.length,q=h[0],p=q.length,s,u,w,y,D,F,A,x,G,J=[];J[0]=x=G=0;for(u=1;u<p;++u){for(y=s=0;s<m;++s)y+=h[s][u][1];D=s=0;for(A=q[u][0]-q[u-1][0];s<m;++s){w=0;for(F=(h[s][u][1]-h[s][u-1][1])/(2*A);w<s;++w)F+=(h[w][u][1]-h[w][u-1][1])/A;D+=F*h[s][u][1]}J[u]=
x-=y?D/y*A:0;x<G&&(G=x)}for(u=0;u<p;++u)J[u]-=G;return J},expand:function(h){var m=h.length,q=h[0].length,p=1/m,s,u,w,y=[];for(u=0;u<q;++u){for(w=s=0;s<m;s++)w+=h[s][u][1];if(w)for(s=0;s<m;s++)h[s][u][1]/=w;else for(s=0;s<m;s++)h[s][u][1]=p}for(u=0;u<q;++u)y[u]=0;return y},zero:function(h){var m=-1;h=h[0].length;for(var q=[];++m<h;)q[m]=0;return q}};d3.layout.histogram=function(){function h(h,s){var y=[],D=h.map(q,this),F=p.call(this,D,s),A=H.call(this,F,D,s),x;s=-1;for(var G=D.length,J=A.length-
1,T=m?1:1/G;++s<J;)x=y[s]=[],x.dx=A[s+1]-(x.x=A[s]),x.y=0;for(s=-1;++s<G;)x=D[s],x>=F[0]&&x<=F[1]&&(x=y[d3.bisect(A,x,1,J)-1],x.y+=T,x.push(h[s]));return y}var m=!0,q=Number,p=s,H=R;h.value=function(m){if(!arguments.length)return q;q=m;return h};h.range=function(m){if(!arguments.length)return p;p=d3.functor(m);return h};h.bins=function(m){if(!arguments.length)return H;H="number"===typeof m?function(h){return aa(h,m)}:d3.functor(m);return h};h.frequency=function(p){if(!arguments.length)return m;m=
!!p;return h};return h};d3.layout.hierarchy=function(){function h(m,q,w){var x=u.call(p,m,q),A=$a?m:{data:m};A.depth=q;w.push(A);if(x&&(J=x.length)){m=-1;var J,T=A.parents=[],O=0;for(q+=1;++m<J;)d=h(x[m],q,w),d.parent=A,T.push(d),O+=d.value;s&&T.sort(s);y&&(A.value=O)}else y&&(A.value=+y.call(p,m,q)||0);return A}function m(h,q,u){var x=w.call(p,h,q),A=$a?h:{data:h};A.depth=q;u.push(A);if(x&&(J=x.length)){h=-1;var J,T=A.children=[],O=0;for(q+=1;++h<J;)d=m(x[h],q,u),d.parent=A,T.push(d),O+=d.value;
s&&T.sort(s);y&&(A.value=O)}else y&&(A.value=+y.call(p,h,q)||0);return A}function q(h,m){var s=h.children,u=0;if(s&&(J=s.length))for(var w=-1,J,A=m+1;++w<J;)u+=q(s[w],A);else y&&(u=+y.call(p,$a?h:h.data,m)||0);y&&(h.value=u);return u}function p(p){var q=[];h(p,0,q);m(p,0,q);return q}var s=Ib,u=Hb,w=nc,y=Ma;p.sort=function(h){if(!arguments.length)return s;s=h;return p};p.children=function(h){if(!arguments.length)return w;w=h;return p};p.value=function(h){if(!arguments.length)return y;y=h;return p};
p.revalue=function(h){q(h,0);return h};return p};var $a=!1;d3.layout.pack=function(){function h(h,s){var u=m.call(this,h,s),w=u[0];w.x=0;w.y=0;Nb(w);var y=q[0],A=q[1],F=1/Math.max(2*w.r/y,2*w.r/A);Ob(w,y/2,A/2,F);return u}var m=d3.layout.hierarchy().sort(Kb),q=[1,1];h.size=function(m){if(!arguments.length)return q;q=m;return h};return ea(h,m)};d3.layout.cluster=function(){function h(h,s){var w=m.call(this,h,s),y=w[0],A,F=0;hb(y,function(h){var m=h.children;m&&m.length?(h.x=rc(m),h.y=td(m)):(h.x=A?
F+=q(h,A):0,h.y=0,A=h)});var G=sc(y),x=Da(y),I=G.x-q(G,x)/2,J=x.x+q(x,G)/2;hb(y,function(h){h.x=(h.x-I)/(J-I)*p[0];h.y=(1-h.y/y.y)*p[1]});return w}var m=d3.layout.hierarchy().sort(null).value(null),q=Qb,p=[1,1];h.separation=function(m){if(!arguments.length)return q;q=m;return h};h.size=function(m){if(!arguments.length)return p;p=m;return h};return ea(h,m)};d3.layout.tree=function(){function h(h,s){function w(h,m){var p=h.parents,s=h._tree;if(p&&(u=p.length)){for(var u,x=p[0],y,A=x,J,H=-1;++H<u;){J=
p[H];w(J,y);var F=J;if(y){for(var D=F,O=F,G=F.parent.parents[0],T=D._tree.mod,I=O._tree.mod,R=y._tree.mod,S=G._tree.mod,W=void 0;y=sb(y),D=Rb(D),y&&D;)G=Rb(G),O=sb(O),O._tree.ancestor=F,W=y._tree.prelim+R-D._tree.prelim-T+q(y,D),0<W&&(Pa(y._tree.ancestor.parent==F.parent?y._tree.ancestor:A,F,W),T+=W,I+=W),R+=y._tree.mod,T+=D._tree.mod,S+=G._tree.mod,I+=O._tree.mod;y&&!sb(O)&&(O._tree.thread=y,O._tree.mod+=R-I);D&&!Rb(G)&&(G._tree.thread=D,G._tree.mod+=T-S,A=F)}y=J}u=p=0;H=h.parents;for(F=H.length;0<=
--F;)A=H[F]._tree,A.prelim+=p,A.mod+=p,p+=A.shift+(u+=A.change);x=0.5*(x._tree.prelim+J._tree.prelim);m?(s.prelim=m._tree.prelim+q(h,m),s.mod=s.prelim-x):s.prelim=x}else m&&(s.prelim=m._tree.prelim+q(h,m))}function y(h,m){var p=h.children,s=h._tree;if(p&&(u=p.length)){for(var u,w=p[0],x,A=w,J,H=-1;++H<u;){J=p[H];y(J,x);var F=J;if(x){for(var D=F,O=F,G=F.parent.children[0],T=D._tree.mod,I=O._tree.mod,R=x._tree.mod,W=G._tree.mod,S=void 0;x=Tb(x),D=rb(D),x&&D;)G=rb(G),O=Tb(O),O._tree.ancestor=F,S=x._tree.prelim+
R-D._tree.prelim-T+q(x,D),0<S&&(Pa(x._tree.ancestor.parent==F.parent?x._tree.ancestor:A,F,S),T+=S,I+=S),R+=x._tree.mod,T+=D._tree.mod,W+=G._tree.mod,I+=O._tree.mod;x&&!Tb(O)&&(O._tree.thread=x,O._tree.mod+=R-I);D&&!rb(G)&&(G._tree.thread=D,G._tree.mod+=T-W,A=F)}x=J}u=p=0;H=h.children;for(F=H.length;0<=--F;)A=H[F]._tree,A.prelim+=p,A.mod+=p,p+=A.shift+(u+=A.change);w=0.5*(w._tree.prelim+J._tree.prelim);m?(s.prelim=m._tree.prelim+q(h,m),s.mod=s.prelim-w):s.prelim=w}else m&&(s.prelim=m._tree.prelim+
q(h,m))}function A(h,m){h.x=h._tree.prelim+m;var p=h.parents;if(p&&(s=p.length)){var q=-1,s;for(m+=h._tree.mod;++q<s;)A(p[q],m)}}function F(h,m){h.x=h._tree.prelim+m;var p=h.children;if(p&&(s=p.length)){var q=-1,s;for(m+=h._tree.mod;++q<s;)F(p[q],m)}}var G=m.call(this,h,s),x=G[0];Ub(x,function(h,m){h._tree={ancestor:h,prelim:0,mod:0,change:0,shift:0,number:m?m._tree.number+1:0}});hb(x,function(h,m){h._tree={ancestor:h,prelim:0,mod:0,change:0,shift:0,number:m?m._tree.number+1:0}});w(x);A(x,-x._tree.prelim);
y(x);F(x,-x._tree.prelim);var I=Ua(x,tb),J=Ua(x,tc),T=Ua(x,Ha),O=I.x-q(I,J)/2,R=J.x+q(J,I)/2,S=T.depth||1;left=Za(x,tb);right=Za(x,tc);deep=Za(x,Ha);x0=left.x-q(left,right)/2;x1=right.x+q(right,left)/2;y1=deep.depth||1;Ub(x,function(h){h!=x&&(h.x=(h.x-O)/(R-O)*p[0],h.y=h.depth/S*p[1],delete h._tree)});hb(x,function(h){h.x=(h.x-x0)/(x1-x0)*p[0];h.y=h.depth/y1*p[1];delete h._tree});return G}var m=d3.layout.hierarchy().sort(null).value(null),q=Qb,p=[1,1];h.separation=function(m){if(!arguments.length)return q;
q=m;return h};h.size=function(m){if(!arguments.length)return p;p=m;return h};Gb(h,m);return ea(h,m)};d3.layout.treemap=function(){function h(h,m){for(var p=-1,q=h.length,s,u;++p<q;)u=(s=h[p]).value*(0>m?0:m),s.area=isNaN(u)||0>=u?0:u}function m(q){var s=q.children;if(s&&s.length){var u=F(q),w=[],x=s.slice(),A=Infinity,y=Math.min(u.dx,u.dy);h(x,u.dx*u.dy/q.value);for(w.area=0;0<(q=x.length);){w.push(q=x[q-1]);w.area+=q.area;q=y;for(var D=w.area,H=void 0,G=0,R=Infinity,S=-1,W=w.length;++S<W;)if(H=w[S].area)H<
R&&(R=H),H>G&&(G=H);D*=D;q*=q;(q=D?Math.max(q*G*I/D,D/(q*R*I)):Infinity)<=A?(x.pop(),A=q):(w.area-=w.pop().area,p(w,y,u,!1),y=Math.min(u.dx,u.dy),w.length=w.area=0,A=Infinity)}w.length&&(p(w,y,u,!0),w.length=w.area=0);s.forEach(m)}}function q(m){var s=m.children;if(s&&s.length){var u=F(m),w=s.slice(),x=[];h(w,u.dx*u.dy/m.value);for(x.area=0;m=w.pop();)x.push(m),x.area+=m.area,null!=m.z&&(p(x,m.z?u.dx:u.dy,u,!w.length),x.length=x.area=0);s.forEach(q)}}function p(h,m,p,q){var s=-1,u=h.length,x=p.x,
A=p.y,y=m?w(h.area/m):0,D;if(m==p.dx){if(q||y>p.dy)y=y?p.dy:0;for(;++s<u;)D=h[s],D.x=x,D.y=A,D.dy=y,x+=D.dx=y?w(D.area/y):0;D.z=!0;D.dx+=p.x+p.dx-x;p.y+=y;p.dy-=y}else{if(q||y>p.dx)y=y?p.dx:0;for(;++s<u;)D=h[s],D.x=x,D.y=A,D.dx=y,A+=D.dy=y?w(D.area/y):0;D.z=!1;D.dy+=p.y+p.dy-A;p.x+=y;p.dx-=y}}function s(p){p=x||u(p);var w=p[0];w.x=0;w.y=0;w.dx=y[0];w.dy=y[1];x&&u.revalue(w);h([w],w.dx*w.dy/w.value);(x?q:m)(w);G&&(x=p);return p}var u=d3.layout.hierarchy(),w=Math.round,y=[1,1],A=null,F=wa,G=!1,x,I=
0.5*(1+Math.sqrt(5));s.size=function(h){if(!arguments.length)return y;y=h;return s};s.padding=function(h){function m(p){var q=h.call(s,p,p.depth);return null==q?wa(p):ub(p,"number"===typeof q?[q,q,q,q]:q)}function p(m){return ub(m,h)}if(!arguments.length)return A;var q;F=null==(A=h)?wa:"function"===(q=typeof h)?m:"number"===q?(h=[h,h,h,h],p):p;return s};s.round=function(h){if(!arguments.length)return w!=Number;w=h?Math.round:Number;return s};s.sticky=function(h){if(!arguments.length)return G;G=h;
x=null;return s};s.ratio=function(h){if(!arguments.length)return I;I=h;return s};return ea(s,u)}})();function Breadth(){var I={},U={};return{logParents:function(G,S){void 0===I[G]&&(I[G]=[]);I[G].push(S)},logChildren:function(G,I){void 0===U[G]&&(U[G]=[]);U[G].push(I)},getBreadth:function(){var G=[],S=[],la,oa;for(oa in I)la=0,I[oa].forEach(function(G){la+=G}),G.push(la);for(oa in U)la=0,U[oa].forEach(function(G){la+=G}),S.push(la);G=G.sort()[G.length-1];S=S.sort()[S.length-1];return G>S?G:S}}}var breadth=Breadth();function _initNodeObj(I,U){return{name:I,isparent:U}}
function _addParent2Node(I,U){void 0===I.parents&&(I.parents=[]);var G=_initNodeObj(U,!0);I.parents.push(_initNodeObj(U,!0));return G}function _addChild2Node(I,U){void 0===I.children&&(I.children=[]);var G=_initNodeObj(U,!1);I.children.push(G);return G}
function _fillParents(I,U,G){var S=0;U[I.name].whereUsedList.forEach(function(G){_addParent2Node(I,G)});I.parents&&(++G,breadth.logParents(G,I.parents.length),I.parents.forEach(function(I){I=_fillParents(I,U,G).depth;S=S>I?S:I}),G=S);return{depth:G,breadth:0}}
function _fillChilds(I,U,G){var S=0;U[I.name].dependencies.forEach(function(G){_addChild2Node(I,G)});I.children&&(++G,breadth.logChildren(G,I.children.length),I.children.forEach(function(I){I=_fillChilds(I,U,G).depth;S=S>I?S:I}),G=S);return{depth:G,breadth:0}}var Util={generate2WayTree:function(I,U){var G={name:I,parents:[],children:[]},S=_fillParents(G,U,1);G.parentDepth=S.depth;S=_fillChilds(G,U,1);G.childDepth=S.depth;G.breadth=breadth.getBreadth();return G}};var CollapsibleTree=function(I){var U=[50,120,20,120],G=0,S,la=d3.layout.tree(),oa=d3.svg.diagonal().projection(function(A){return[A.x,-A.y]}),ta=d3.svg.diagonal().projection(function(A){return[A.x,A.y]}),ua=d3.select(I),La=ua.append("svg:svg"),va=La.append("svg:g"),Ca=null,ia={init:function(A){var G=A.parentDepth+A.childDepth+1,I=150*G,R=180*A.breadth,I=900<I?I:900,R=1280<R?R:1280,aa=I-U[0]-U[2],s=R-U[1]-U[2];S=A;S.x0=s/2;S.y0=aa/2;ua.style("width",R).style("height",I);La.attr("height",I).attr("width",
R);la.size([s,aa]);va.attr("transform","translate(100,"+(aa*A.parentDepth/G+30)+")");Ca=S.name;this.updateBoth(S)},updateBoth:function(A){var I=d3.event&&d3.event.altKey?5E3:500,U=la.nodes(S).reverse();U.forEach(function(s){s.y=150*s.depth});var R=va.selectAll("g.node").data(U,function(s){return s.id||(s.id=++G)}),aa=R.enter().append("svg:g").attr("class","node").attr("transform",function(s){return"translate("+A.x0+","+A.y0+")"}).on("click",function(s){ia.toggle(s);ia.updateBoth(s)});aa.append("svg:circle").attr("r",
function(s){return s.name===Ca?9:1E-6}).style("fill",function(s){return s._children?"lightsteelblue":"#fff"});aa.append("svg:text").attr("title",function(s){return s.name}).attr("x",function(s){return ia.isParent(s)?-10:s.children||s._children?-10:10}).attr("dy",".35em").attr("text-anchor",function(s){return ia.isParent(s)?"end":s.children||s._children?"end":"start"}).attr("transform",function(s){if(s!=S)return ia.isParent(s),"rotate(15)"}).text(function(s){return s.name}).style("fill-opacity",1E-6);
aa=R.transition().duration(I).attr("transform",function(s){return ia.isParent(s)?"translate("+s.x+","+-s.y+")":"translate("+s.x+","+s.y+")"});aa.select("circle").attr("r",function(s){return s.name===Ca?9:4.5}).style("fill",function(s){return s._children?"lightsteelblue":"#fff"});aa.select("text").style("fill-opacity",1).style("font-size",function(s){return s.name===Ca?"14px":"11px"}).style("stroke",function(s){return s.name==Ca?"#e66100":"none"});R=R.exit().transition().duration(I).attr("transform",
function(s){return"translate("+A.x+","+A.y+")"}).remove();R.select("circle").attr("r",1E-6);R.select("text").style("fill-opacity",1E-6);R=va.selectAll("path.link").data(la.links_parents(U).concat(la.links(U)),function(s){return s.target.id});R.enter().insert("svg:path","g").attr("class","link").attr("d",function(s){var G={x:A.x0,y:A.y0};return ia.isParent(s.target)?oa({source:G,target:G}):ta({source:G,target:G})}).transition().duration(I).attr("d",function(s){return ia.isParent(s.target)?oa(s):ta(s)});
R.transition().duration(I).attr("d",function(s){return ia.isParent(s.target)?oa(s):ta(s)});R.exit().transition().duration(I).attr("d",function(s){var G={x:A.x,y:A.y};return ia.isParent(s.target)?oa({source:G,target:G}):ta({source:G,target:G})}).remove();U.forEach(function(s){s.x0=s.x;s.y0=s.y})},updateParents:function(A){var I=d3.event&&d3.event.altKey?5E3:500,U=la.nodes(S).reverse();U.forEach(function(s){s.y=180*s.depth});var R=va.selectAll("g.node").data(U,function(s){return s.id||(s.id=++G)}),
aa=R.enter().append("svg:g").attr("class","node").attr("transform",function(s){return"translate("+A.x0+","+A.y0+")"}).on("click",function(s){ia.toggle(s);ia.updateParents(s)});aa.append("svg:circle").attr("r",1E-6).style("fill",function(s){return s._children?"lightsteelblue":"#fff"});aa.append("svg:text").attr("x",function(s){return s.children||s._children?-10:10}).attr("dy",".35em").attr("text-anchor",function(s){return s.children||s._children?"end":"start"}).text(function(s){return s.name}).style("fill-opacity",
1E-6).append("title",function(s){return s.name});aa=R.transition().duration(I).attr("transform",function(s){return"translate("+s.x+","+-s.y+")"});aa.select("circle").attr("r",function(s){return s.name===Ca?9:4.5}).style("fill",function(s){return s._children?"lightsteelblue":"#fff"});aa.select("text").style("fill-opacity",1);R=R.exit().transition().duration(I).attr("transform",function(s){return"translate("+A.x+","+A.y+")"}).remove();R.select("circle").attr("r",1E-6);R.select("text").style("fill-opacity",
1E-6);R=va.selectAll("path.link").data(la.links(U),function(s){return s.target.id});R.enter().insert("svg:path","g").attr("class","link").attr("d",function(s){s={x:A.x0,y:A.y0};return oa({source:s,target:s})}).transition().duration(I).attr("d",oa);R.transition().duration(I).attr("d",oa);R.exit().transition().duration(I).attr("d",function(s){s={x:A.x,y:A.y};return oa({source:s,target:s})}).remove();U.forEach(function(s){s.x0=s.x;s.y0=s.y})},updateChildren:function(A){var I=d3.event&&d3.event.altKey?
5E3:500,S=la.nodes(void 0).reverse();S.forEach(function(s){s.y=180*s.depth});var R=va.selectAll("g.node").data(S,function(s){return s.id||(s.id=++G)}),U=R.enter().append("svg:g").attr("class","node").attr("transform",function(s){return"translate("+A.x0+","+A.y0+")"}).on("click",function(s){ia.toggle(s);ia.updateChildren(s)});U.append("svg:circle").attr("r",1E-6).style("fill",function(s){return s._children?"lightsteelblue":"#fff"});U.append("svg:text").attr("x",function(s){return s.children||s._children?
-10:10}).attr("dy",".35em").attr("text-anchor",function(s){return s.children||s._children?"end":"start"}).text(function(s){return s.name}).style("fill-opacity",1E-6);U=R.transition().duration(I).attr("transform",function(s){return"translate("+s.x+","+s.y+")"});U.select("circle").attr("r",function(s){return s.name===Ca?9:4.5}).style("fill",function(s){return s._children?"lightsteelblue":"#fff"});U.select("text").style("fill-opacity",1);R=R.exit().transition().duration(I).attr("transform",function(s){return"translate("+
A.x+","+A.y+")"}).remove();R.select("circle").attr("r",1E-6);R.select("text").style("fill-opacity",1E-6);R=va.selectAll("path.link").data(la.links(S),function(s){return s.target.id});R.enter().insert("svg:path","g").attr("class","link").attr("d",function(s){s={x:A.x0,y:A.y0};return ta({source:s,target:s})}).transition().duration(I).attr("d",ta);R.transition().duration(I).attr("d",ta);R.exit().transition().duration(I).attr("d",function(s){s={x:A.x,y:A.y};return ta({source:s,target:s})}).remove();S.forEach(function(s){s.x0=
s.x;s.y0=s.y})},isParent:function(A){return A.parent&&A.parent!=S?this.isParent(A.parent):A.isparent?!0:!1},toggle:function(A){A.children?(A._children=A.children,A.children=null):(A.children=A._children,A._children=null);A.parents?(A._parents=A.parents,A.parents=null):(A.parents=A._parents,A._parents=null)},toggleAll:function(A){A.children&&(A.children.forEach(ia.toggleAll),ia.toggle(A));A.parents&&(A.parents.forEach(ia.toggleAll),ia.toggle(A))}};return ia};window.onload=function(){var I=function(){var I;(matches=location.search.match(/objectName=[a-zA-Z0-9:._]*/gi))&&0<matches.length&&(I=matches[0].split("=")[1]);return I}();d3.json("data/relations.json",function(U){I&&(U=Util.generate2WayTree(I,U),treeObj=CollapsibleTree("#placeholder"),treeObj.init(U))})};
